const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["ListView-BrKNrAHb.js","strapi-FHAM7u4i.js","strapi-D6821bIJ.css","sortable.esm-DhqSs5V7.js","index-LjinsTa7.js","groupBy-BosBDrRj.js","_baseEach-BKa5vQZj.js","sortBy-BpZ_SJnh.js","_baseMap-BqPJ1p7R.js","index-UuA4yVE7.js","index-BRVyLNfZ.js"])))=>i.map(i=>d[i]);
import{r as W,b as hv,j as m,$ as Ne,f as Te,q as mv,T as $e,l as xt,L as Ld,dH as dA,cX as Da,db as pA,bB as Bd,fY as Ud,hg as Ka,da as fA,I as yr,k as Zd,hh as Yn,bU as ka,hi as hA,cH as ta,bX as mA,cz as gn,D as vt,w as Ni,hj as Fs,hk as gv,a as yt,hl as yv,di as gA,hm as yA,fN as vA,hn as vv,dk as bA,dl as xA,dm as _A,dh as wA,bV as Tl,aX as Qr,H as gr,gX as ji,gD as tl,cr as So,b8 as Ga,fq as nl,cq as bv,bw as Hd,bE as Al,fz as kA,a3 as xv,E as _v,cW as CA,ho as wv,hp as kv,cC as Rn,el as SA,aJ as ma,bK as qd,ct as Il,hq as Cv,dZ as Sv,h0 as EA,hr as Wd,hs as ga,a6 as $s,e7 as TA,bi as AA,b7 as qa,cJ as pa,bm as jl,dP as IA,bF as Ev,c$ as Vd,c as Tv,bI as Ja,bJ as No,cd as Av,ht as jA,eZ as Qt,hu as RA,p as Rl,o as Iv,hv as OA,aO as zA,hw as MA,al as Eo,a4 as FA,hx as Xt,hy as lm,bL as $A,hz as NA,M as at,gE as jv,ap as PA,ar as Ns,as as cm,hA as DA,hB as LA,at as BA,au as UA,aw as co,av as du,aq as um,ax as dm,ay as ZA,an as HA,hC as pm,ao as qA,az as WA,am as VA,hD as Gd,s as Rv,aH as GA,aQ as JA,d8 as hr,aV as ea,aW as Kn,hE as Ov,hF as zv,eD as Mv,cO as KA,cP as YA,hG as fm,hH as XA,hI as QA,hJ as eI,hK as tI,ab as nI,hL as rI,hM as aI,hN as iI,hO as oI,hP as sI,hQ as lI,hR as cI,hS as uI,g_ as dI,hT as pI,hU as fI,hb as hI,hV as mI,hW as gI,hX as yI,hY as vI,F as Fv,hZ as bI,dJ as xI,h_ as _I,h$ as wI,i0 as kI,i1 as CI,ft as SI,i2 as EI,eU as TI,i3 as AI,i4 as II,i5 as jI,i6 as RI,i7 as OI,h as zI,cw as MI,i8 as pu,i9 as $v,ia as Nv,ib as Pv,ic as FI,id as $I,ie as NI,ig as PI,ih as DI,ii as LI,ij as Dv,ik as Lv,il as Bv,im as BI,cZ as UI,io as ZI,ip as HI,ae as qI,fg as WI,af as VI,a9 as GI,iq as JI,fA as KI,ha as YI,ir as XI,is as QI,it as ej,iu as tj,gb as nj,iv as rj,iw as aj,ix as ij,f$ as oj,iy as sj,iz as lj,iA as cj,iB as uj,iC as dj,ah as Uv,iD as pj,bZ as fj,iE as hj,iF as mj,ac as gj,iG as yj,iH as vj,iI as bj,iJ as xj,iK as _j,iL as wj,iM as kj,iN as Cj,iO as Sj,iP as Ej,iQ as Tj,cD as Aj,iR as Ij,iS as jj,iT as Rj,iU as Oj,iV as zj,iW as Mj,iX as Fj,iY as $j,iZ as Nj,i_ as Pj,i$ as Dj,j0 as Lj,j1 as Bj,j2 as Uj,j3 as Zj,j4 as Hj,j5 as qj,j6 as Wj,bn as Ol,j7 as Zv,d2 as Vj,f3 as Gj,d1 as Jj,j8 as Kj,cu as Yj,eL as Xj,j9 as ln,ja as Qj,jb as eR,dB as tR,jc as nR,jd as rR,je as Hv,gu as aR,gT as iR,jf as oR,jg as sR,jh as lR,ji as cR,fy as Jd,N as uR,O as dR,jj as qv,eB as Wv,jk as pR,jl as fR,jm as hR,bM as fr,bf as To,b2 as Pt,b3 as tn,jn as fu,b1 as Jt,eV as mR,bd as hm,jo as mo,jp as Vv,jq as gR,jr as yR,V as vR,cn as bR,bA as xR,cm as _R,gC as wR,P as hu,js as kR,jt as CR,C as SR,R as ER,Q as Ps,_ as TR}from"./strapi-FHAM7u4i.js";import{P as Ft}from"./index-LjinsTa7.js";import{g as AR}from"./groupBy-BosBDrRj.js";import{s as IR}from"./sortBy-BpZ_SJnh.js";import{f as jR}from"./index-UuA4yVE7.js";const Gv=W.createContext(null),Kd=()=>{const e=W.useContext(Gv);if(!e)throw new Error("useCTBSession must be used within a CTBSessionProvider");return e},Pi=()=>{const{trackUsage:e}=hv(),{sessionId:t}=Kd();return{trackUsage:W.useCallback((r,a)=>{const s={...a??{},ctbSessionId:t};return e(r,s)},[e,t])}},Ds={danger:{background:"danger100",borderColor:"danger200",textColor:"danger700"},warning:{background:"warning100",borderColor:"warning200",textColor:"warning600"}},uo=({title:e,variant:t="danger"})=>m.jsx(Ne,{padding:3,background:Ds[t].background,borderColor:Ds[t].borderColor,hasRadius:!0,width:"100%",children:m.jsxs(Te,{gap:2,children:[m.jsx(mv,{style:{minWidth:"16px"},fill:Ds[t].textColor}),m.jsx($e,{variant:"omega",textColor:Ds[t].textColor,children:e})]})}),Jv=xt(Ne)`
  opacity: 0;
  transform: ${({$direction:e="up"})=>e==="up"?"translateY(10px)":"translateX(-10px)"};

  @media (prefers-reduced-motion: no-preference) {
    animation: ${({$direction:e="up"})=>e==="up"?"appearUp":"appearLeft"}
      ${({theme:e})=>e.motion.timings[200]}
      ${({theme:e})=>e.motion.easings.easeOutQuad} forwards;
  }

  @keyframes appearUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes appearLeft {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
`;var RR={STRAPI_AI_URL:"https://strapi-ai.apps.strapi.io"};const Kv="application/vnd.strapi.code",mu=15,OR=15*1024*1024,Yv=RR.STRAPI_AI_URL?.replace(/\/+$/,"")??"https://strapi-ai.apps.strapi.io",zR=`${Yv}/schemas/chat`,MR=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),FR=e=>e.startsWith("data:image/"),Yd=({src:e,alt:t,inferSize:n=!1,onLoad:r,onError:a,...s})=>{const[o,l]=W.useState(null),[u,d]=W.useState({}),[p,h]=W.useState(!0),[g,v]=W.useState(!1);W.useEffect(()=>{(async()=>{if(h(!0),v(!1),FR(e)){l(e),h(!1);return}try{const k=new URL(e);if(["strapi-ai-staging.s3.us-east-1.amazonaws.com","strapi-ai-production.s3.us-east-1.amazonaws.com"].includes(k.hostname)){l(e),h(!1);return}}catch{}try{const k=await fetch(e);if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const T=await k.blob(),A=await MR(T);l(A),h(!1)}catch(k){console.error("Error converting image to base64:",k),v(!0),h(!1)}})()},[e,a]);const y=x=>{if(n){const{naturalWidth:k,naturalHeight:T}=x.currentTarget;d({width:k,height:T})}r&&r(x)};if(p)return m.jsx(Te,{direction:"column",gap:2,alignItems:"center",width:"100%",children:m.jsx(Ld,{small:!0})});if(g)return m.jsx(Te,{direction:"column",gap:2,alignItems:"center",width:"100%",children:m.jsx(dA,{width:24,height:24,fill:"danger600"})});const _={src:o||"",alt:t,onLoad:y,...s};return n&&!s.width&&!s.height&&u.width&&u.height&&(_.width=u.width,_.height=u.height),o?m.jsx("img",{..._}):null},wi={fadeIn:Da`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,scaleIn:Da`
    from {
      opacity: 0;
      transform: scale(0.7);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  `,slideUpIn:Da`
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideUpOut:Da`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  `,slideDownIn:Da`
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  `,slideDownOut:Da`
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  `},Xv=W.createContext(void 0),$R=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,NR=xt.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 500;
  pointer-events: auto; /* Explicitly enable pointer events */
  background: ${e=>$R(e.theme.colors.neutral800,.2)};
`,PR=xt.div`
  max-width: 80vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto; /* Explicitly enable pointer events */
  position: relative;
  animation: ${wi.scaleIn} 0.3s ease;
`,DR=xt(Yd)`
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  pointer-events: auto; /* Explicitly enable pointer events */
`,LR=({src:e,alt:t,onClose:n})=>{const r=W.useRef(null),a=W.useRef(null);return W.useEffect(()=>{const s=o=>{if(o.key==="Escape")return o.preventDefault(),o.stopPropagation(),n?.(),o.stopImmediatePropagation(),o.cancelBubble=!0,!1};return window.addEventListener("keydown",s,!0),()=>window.removeEventListener("keydown",s,!0)},[n]),W.useEffect(()=>{const s=d=>{d.target===r.current&&(d.preventDefault(),d.stopPropagation(),n?.())},o=d=>{d.stopPropagation()},l=r.current,u=a.current;return l&&l.addEventListener("click",s),u&&u.addEventListener("click",o),()=>{l&&l.removeEventListener("click",s),u&&u.removeEventListener("click",o)}},[n]),pA.createPortal(m.jsx(NR,{ref:r,children:m.jsx(PR,{ref:a,children:m.jsx(DR,{src:e,alt:t})})}),document.body)},BR=({children:e,src:t,alt:n,onClose:r,defaultOpen:a=!1})=>{const[s,o]=W.useState(a),l=()=>o(!0),u=()=>{o(!1),r?.()};return m.jsxs(Xv.Provider,{value:{isOpen:s,open:l,close:u,src:t,alt:n},children:[e,s&&m.jsx(LR,{src:t,alt:n,onClose:u})]})},UR=()=>{const e=W.useContext(Xv);if(!e)throw new Error("useFullScreenImage must be used within a FullScreenImage.Root");return e},ZR=({children:e,asChild:t=!1})=>{const{open:n}=UR(),r=a=>{a.stopPropagation(),n()};return t?m.jsx("div",{onClick:r,style:{cursor:"pointer",display:"contents"},children:e}):m.jsx("div",{onClick:r,style:{cursor:"pointer"},children:e})},rl={Root:BR,Trigger:ZR},Qv=W.createContext({error:null}),HR=()=>W.useContext(Qv),qR=xt(Ne)`
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.neutral100};
  }
`,WR=({children:e,error:t=null,minWidth:n,maxWidth:r})=>m.jsx(Qv.Provider,{value:{error:t},children:m.jsxs(Te,{direction:"column",alignItems:"flex-start",gap:2,minWidth:n,maxWidth:r,children:[m.jsx(qR,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px",padding:2,width:"100%",children:m.jsx(Te,{gap:2,children:e})}),t&&m.jsx($e,{variant:"pi",textColor:"danger500",children:t})]})}),VR=({children:e})=>{const{error:t}=HR();return m.jsx(Te,{alignItems:"center",justifyContent:"center",children:t?m.jsx(mv,{fill:"danger500"}):e})},GR=({children:e})=>m.jsx(Ne,{grow:1,children:m.jsx($e,{variant:"omega",ellipsis:!0,style:{userSelect:"none",maxWidth:"100px"},children:e})}),JR=({onClick:e})=>m.jsx(Te,{alignItems:"center",justifyContent:"center",shrink:0,onClick:e,children:m.jsx(Bd,{fill:"neutral500"})}),ya={Root:WR,Preview:VR,Title:GR,Remove:JR},KR=xt(Yd)`
  width: 24px;
  height: 24px;
  object-fit: cover;
  border-radius: ${({theme:e})=>e.borderRadius};
`,YR=({attachment:e,onRemove:t,...n})=>m.jsx(rl.Root,{src:e.url,alt:e.filename||"image",children:m.jsx(rl.Trigger,{asChild:!0,children:m.jsxs(ya.Root,{...n,children:[m.jsx(ya.Preview,{children:e.status==="loading"?m.jsx(Ld,{small:!0}):m.jsx(KR,{src:e.url,alt:e.filename})}),m.jsx(ya.Title,{children:e.filename||"unknown"}),t&&m.jsx(ya.Remove,{onClick:t})]})})}),XR=({attachment:e,onRemove:t,...n})=>m.jsxs(ya.Root,{...n,children:[m.jsx(ya.Preview,{children:e.status==="loading"?m.jsx(Ld,{small:!0}):m.jsx(Ud,{height:24,width:24})}),m.jsx(ya.Title,{children:e.filename||"unknown"}),t&&m.jsx(ya.Remove,{onClick:t})]}),Xd=({attachment:e,onRemove:t,...n})=>e.mediaType?.startsWith("image/")?m.jsx(YR,{attachment:e,onRemove:t,...n}):e.mediaType===Kv?m.jsx(XR,{attachment:e,onRemove:t,...n}):null,QR=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ri(e,t,n){const r=eO(e),{webkitRelativePath:a}=e,s=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&mm(r,"path",s),mm(r,"relativePath",s),r}function eO(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=QR.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function mm(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const tO=[".DS_Store","Thumbs.db"];function nO(e){return Ka(this,void 0,void 0,function*(){return al(e)&&rO(e.dataTransfer)?sO(e.dataTransfer,e.type):aO(e)?iO(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?oO(e):[]})}function rO(e){return al(e)}function aO(e){return al(e)&&al(e.target)}function al(e){return typeof e=="object"&&e!==null}function iO(e){return ed(e.target.files).map(t=>Ri(t))}function oO(e){return Ka(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Ri(n))})}function sO(e,t){return Ka(this,void 0,void 0,function*(){if(e.items){const n=ed(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(lO));return gm(eb(r))}return gm(ed(e.files).map(n=>Ri(n)))})}function gm(e){return e.filter(t=>tO.indexOf(t.name)===-1)}function ed(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function lO(e){if(typeof e.webkitGetAsEntry!="function")return ym(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?tb(t):ym(e,t)}function eb(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?eb(n):[n]],[])}function ym(e,t){return Ka(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Ri(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Ri(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function cO(e){return Ka(this,void 0,void 0,function*(){return e.isDirectory?tb(e):uO(e)})}function tb(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function s(){t.readEntries(o=>Ka(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(cO));a.push(l),s()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function uO(e){return Ka(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=Ri(r,e.fullPath);t(a)},r=>{n(r)})})})}var gu=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0};function vm(e){return fO(e)||pO(e)||rb(e)||dO()}function dO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fO(e){if(Array.isArray(e))return td(e)}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ao(e,t){return gO(e)||mO(e,t)||rb(e,t)||hO()}function hO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rb(e,t){if(e){if(typeof e=="string")return td(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return td(e,t)}}function td(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mO(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function gO(e){if(Array.isArray(e))return e}var yO=typeof gu=="function"?gu:gu.default,vO="file-invalid-type",bO="file-too-large",xO="file-too-small",_O="too-many-files",wO=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:vO,message:"File type must be ".concat(r)}},_m=function(t){return{code:bO,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},wm=function(t){return{code:xO,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},kO={code:_O,message:"Too many files"};function ab(e,t){var n=e.type==="application/x-moz-file"||yO(e,t);return[n,n?null:wO(t)]}function ib(e,t,n){if(Ua(e.size))if(Ua(t)&&Ua(n)){if(e.size>n)return[!1,_m(n)];if(e.size<t)return[!1,wm(t)]}else{if(Ua(t)&&e.size<t)return[!1,wm(t)];if(Ua(n)&&e.size>n)return[!1,_m(n)]}return[!0,null]}function Ua(e){return e!=null}function CO(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,s=e.multiple,o=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(u){var d=ab(u,n),p=Ao(d,1),h=p[0],g=ib(u,r,a),v=Ao(g,1),y=v[0],_=l?l(u):null;return h&&y&&!_})}function il(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ls(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function km(e){e.preventDefault()}function SO(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function EO(e){return e.indexOf("Edge/")!==-1}function TO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return SO(e)||EO(e)}function Rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return t.some(function(l){return!il(r)&&l&&l.apply(void 0,[r].concat(s)),il(r)})}}function AO(){return"showOpenFilePicker"in window}function IO(e){if(Ua(e)){var t=Object.entries(e).filter(function(n){var r=Ao(n,2),a=r[0],s=r[1],o=!0;return ob(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(sb))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=Ao(r,2),s=a[0],o=a[1];return xm(xm({},n),{},nb({},s,o))},{});return[{description:"Files",accept:t}]}return e}function jO(e){if(Ua(e))return Object.entries(e).reduce(function(t,n){var r=Ao(n,2),a=r[0],s=r[1];return[].concat(vm(t),[a],vm(s))},[]).filter(function(t){return ob(t)||sb(t)}).join(",")}function RO(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function OO(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ob(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function sb(e){return/^.*\.[\w]+$/.test(e)}var zO=["children"],MO=["open"],FO=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],$O=["refKey","onChange","onClick"];function NO(e){return LO(e)||DO(e)||lb(e)||PO()}function PO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LO(e){if(Array.isArray(e))return nd(e)}function yu(e,t){return ZO(e)||UO(e,t)||lb(e,t)||BO()}function BO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lb(e,t){if(e){if(typeof e=="string")return nd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nd(e,t)}}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UO(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function ZO(e){if(Array.isArray(e))return e}function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cm(Object(n),!0).forEach(function(r){rd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(e,t){if(e==null)return{};var n=HO(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HO(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Qd=W.forwardRef(function(e,t){var n=e.children,r=ol(e,zO),a=ub(r),s=a.open,o=ol(a,MO);return W.useImperativeHandle(t,function(){return{open:s}},[s]),fA.createElement(W.Fragment,null,n(en(en({},o),{},{open:s})))});Qd.displayName="Dropzone";var cb={disabled:!1,getFilesFromEvent:nO,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qd.defaultProps=cb;Qd.propTypes={children:Ft.func,accept:Ft.objectOf(Ft.arrayOf(Ft.string)),multiple:Ft.bool,preventDropOnDocument:Ft.bool,noClick:Ft.bool,noKeyboard:Ft.bool,noDrag:Ft.bool,noDragEventsBubbling:Ft.bool,minSize:Ft.number,maxSize:Ft.number,maxFiles:Ft.number,disabled:Ft.bool,getFilesFromEvent:Ft.func,onFileDialogCancel:Ft.func,onFileDialogOpen:Ft.func,useFsAccessApi:Ft.bool,autoFocus:Ft.bool,onDragEnter:Ft.func,onDragLeave:Ft.func,onDragOver:Ft.func,onDrop:Ft.func,onDropAccepted:Ft.func,onDropRejected:Ft.func,onError:Ft.func,validator:Ft.func};var ad={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ub(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=en(en({},cb),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,u=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,h=t.onDragOver,g=t.onDrop,v=t.onDropAccepted,y=t.onDropRejected,_=t.onFileDialogCancel,x=t.onFileDialogOpen,k=t.useFsAccessApi,T=t.autoFocus,A=t.preventDropOnDocument,I=t.noClick,$=t.noKeyboard,O=t.noDrag,U=t.noDragEventsBubbling,B=t.onError,G=t.validator,Y=W.useMemo(function(){return jO(n)},[n]),q=W.useMemo(function(){return IO(n)},[n]),le=W.useMemo(function(){return typeof x=="function"?x:Sm},[x]),R=W.useMemo(function(){return typeof _=="function"?_:Sm},[_]),J=W.useRef(null),w=W.useRef(null),L=W.useReducer(qO,ad),Se=yu(L,2),ce=Se[0],pe=Se[1],N=ce.isFocused,Ae=ce.isFileDialogActive,oe=W.useRef(typeof window<"u"&&window.isSecureContext&&k&&AO()),z=function(){!oe.current&&Ae&&setTimeout(function(){if(w.current){var ye=w.current.files;ye.length||(pe({type:"closeDialog"}),R())}},300)};W.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[w,Ae,R,oe]);var Me=W.useRef([]),de=function(ye){J.current&&J.current.contains(ye.target)||(ye.preventDefault(),Me.current=[])};W.useEffect(function(){return A&&(document.addEventListener("dragover",km,!1),document.addEventListener("drop",de,!1)),function(){A&&(document.removeEventListener("dragover",km),document.removeEventListener("drop",de))}},[J,A]),W.useEffect(function(){return!r&&T&&J.current&&J.current.focus(),function(){}},[J,T,r]);var ue=W.useCallback(function(ie){B?B(ie):console.error(ie)},[B]),nt=W.useCallback(function(ie){ie.preventDefault(),ie.persist(),ee(ie),Me.current=[].concat(NO(Me.current),[ie.target]),Ls(ie)&&Promise.resolve(a(ie)).then(function(ye){if(!(il(ie)&&!U)){var Z=ye.length,K=Z>0&&CO({files:ye,accept:Y,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:G}),xe=Z>0&&!K;pe({isDragAccept:K,isDragReject:xe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(ie)}}).catch(function(ye){return ue(ye)})},[a,d,ue,U,Y,o,s,l,u,G]),He=W.useCallback(function(ie){ie.preventDefault(),ie.persist(),ee(ie);var ye=Ls(ie);if(ye&&ie.dataTransfer)try{ie.dataTransfer.dropEffect="copy"}catch{}return ye&&h&&h(ie),!1},[h,U]),he=W.useCallback(function(ie){ie.preventDefault(),ie.persist(),ee(ie);var ye=Me.current.filter(function(K){return J.current&&J.current.contains(K)}),Z=ye.indexOf(ie.target);Z!==-1&&ye.splice(Z,1),Me.current=ye,!(ye.length>0)&&(pe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ls(ie)&&p&&p(ie))},[J,p,U]),Fe=W.useCallback(function(ie,ye){var Z=[],K=[];ie.forEach(function(xe){var Re=ab(xe,Y),Ze=yu(Re,2),pt=Ze[0],At=Ze[1],_t=ib(xe,o,s),it=yu(_t,2),fn=it[0],wt=it[1],Rt=G?G(xe):null;if(pt&&fn&&!Rt)Z.push(xe);else{var ft=[At,wt];Rt&&(ft=ft.concat(Rt)),K.push({file:xe,errors:ft.filter(function(xr){return xr})})}}),(!l&&Z.length>1||l&&u>=1&&Z.length>u)&&(Z.forEach(function(xe){K.push({file:xe,errors:[kO]})}),Z.splice(0)),pe({acceptedFiles:Z,fileRejections:K,isDragReject:K.length>0,type:"setFiles"}),g&&g(Z,K,ye),K.length>0&&y&&y(K,ye),Z.length>0&&v&&v(Z,ye)},[pe,l,Y,o,s,u,g,v,y,G]),be=W.useCallback(function(ie){ie.preventDefault(),ie.persist(),ee(ie),Me.current=[],Ls(ie)&&Promise.resolve(a(ie)).then(function(ye){il(ie)&&!U||Fe(ye,ie)}).catch(function(ye){return ue(ye)}),pe({type:"reset"})},[a,Fe,ue,U]),Oe=W.useCallback(function(){if(oe.current){pe({type:"openDialog"}),le();var ie={multiple:l,types:q};window.showOpenFilePicker(ie).then(function(ye){return a(ye)}).then(function(ye){Fe(ye,null),pe({type:"closeDialog"})}).catch(function(ye){RO(ye)?(R(ye),pe({type:"closeDialog"})):OO(ye)?(oe.current=!1,w.current?(w.current.value=null,w.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(ye)});return}w.current&&(pe({type:"openDialog"}),le(),w.current.value=null,w.current.click())},[pe,le,R,k,Fe,ue,q,l]),Qe=W.useCallback(function(ie){!J.current||!J.current.isEqualNode(ie.target)||(ie.key===" "||ie.key==="Enter"||ie.keyCode===32||ie.keyCode===13)&&(ie.preventDefault(),Oe())},[J,Oe]),et=W.useCallback(function(){pe({type:"focus"})},[]),S=W.useCallback(function(){pe({type:"blur"})},[]),fe=W.useCallback(function(){I||(TO()?setTimeout(Oe,0):Oe())},[I,Oe]),V=function(ye){return r?null:ye},D=function(ye){return $?null:V(ye)},C=function(ye){return O?null:V(ye)},ee=function(ye){U&&ye.stopPropagation()},_e=W.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=ie.refKey,Z=ye===void 0?"ref":ye,K=ie.role,xe=ie.onKeyDown,Re=ie.onFocus,Ze=ie.onBlur,pt=ie.onClick,At=ie.onDragEnter,_t=ie.onDragOver,it=ie.onDragLeave,fn=ie.onDrop,wt=ol(ie,FO);return en(en(rd({onKeyDown:D(Rr(xe,Qe)),onFocus:D(Rr(Re,et)),onBlur:D(Rr(Ze,S)),onClick:V(Rr(pt,fe)),onDragEnter:C(Rr(At,nt)),onDragOver:C(Rr(_t,He)),onDragLeave:C(Rr(it,he)),onDrop:C(Rr(fn,be)),role:typeof K=="string"&&K!==""?K:"presentation"},Z,J),!r&&!$?{tabIndex:0}:{}),wt)}},[J,Qe,et,S,fe,nt,He,he,be,$,O,r]),ke=W.useCallback(function(ie){ie.stopPropagation()},[]),re=W.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=ie.refKey,Z=ye===void 0?"ref":ye,K=ie.onChange,xe=ie.onClick,Re=ol(ie,$O),Ze=rd({accept:Y,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:V(Rr(K,be)),onClick:V(Rr(xe,ke)),tabIndex:-1},Z,w);return en(en({},Ze),Re)}},[w,n,l,be,r]);return en(en({},ce),{},{isFocused:N&&!r,getRootProps:_e,getInputProps:re,rootRef:J,inputRef:w,open:V(Oe)})}function qO(e,t){switch(t.type){case"focus":return en(en({},e),{},{isFocused:!0});case"blur":return en(en({},e),{},{isFocused:!1});case"openDialog":return en(en({},ad),{},{isFileDialogActive:!0});case"closeDialog":return en(en({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return en(en({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return en(en({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return en({},ad);default:return e}}function Sm(){}const WO=({onAddFiles:e,isEnabled:t=!1})=>{const n=W.useCallback(async r=>{if(!t)return;const a=r.clipboardData?.items;if(!a||a.length===0)return;const s=[];for(const o of a)if(o.kind==="file"){const l=o.getAsFile();l&&l.type.startsWith("image/")&&s.push(l)}s.length>0&&(e(s),r.preventDefault())},[t,e]);W.useEffect(()=>(document.addEventListener("paste",n),()=>{document.removeEventListener("paste",n)}),[n])},db=W.createContext({}),VO=()=>W.useContext(db),GO=({children:e,isEnabled:t=!0,onAddFiles:n=()=>{},accept:r={"image/*":[]},...a})=>{WO({onAddFiles:n,isEnabled:t});const{getRootProps:s,isDragActive:o}=ub({onDrop:n,noClick:!0,noKeyboard:!0,accept:r});return m.jsx(db.Provider,{value:{isEnabled:t,isDragActive:o,onAddFiles:n},children:m.jsx(Te,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...s(),...a,children:e})})},JO=({error:e,title:t,...n})=>{const{isEnabled:r,isDragActive:a}=VO();if(!a)return null;const s=t||"Drop images here";return m.jsxs(Te,{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,cursor:r?"pointer":"not-allowed",width:"100%",height:"100%",borderStyle:"dashed",borderColor:e?"danger600":"primary500",background:e?"danger100":"primary100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,...n,children:[m.jsx(Ne,{width:"24px",height:"24px",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M19.5 13.572L12 6.072L4.5 13.572",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M12 6.072V20.072",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("path",{d:"M3.9998 20.072H20.0001",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsxs(Te,{direction:"column",alignItems:"center",gap:2,children:[m.jsx($e,{variant:"omega",textColor:"neutral600",textAlign:"center",children:s}),e&&m.jsx($e,{variant:"pi",textColor:"danger600",children:e})]})]})},pb={Root:GO,Area:JO},fb=W.createContext({size:"md",position:"bottom-right",isOpen:!1,onToggle:()=>{}}),Em={sm:{width:"350px",height:"500px"},md:{width:"480px",height:"600px"},lg:{width:"600px",height:"700px"}},KO={"bottom-right":{bottom:4,right:4},"bottom-left":{bottom:4,left:4},"top-right":{top:4,right:4},"top-left":{top:4,left:4}},YO=xt(Ne)`
  position: fixed;
  display: flex;
  flex-direction: column;
  z-index: 11;
  align-items: ${({$position:e})=>e.includes("right")?"flex-end":"flex-start"};
  ${({$position:e,theme:t})=>Object.entries(KO[e]).reduce((n,[r,a])=>({...n,[r]:t.spaces[a]}),{})}
`,XO=xt(Ne)`
  width: ${({$size:e})=>Em[e].width};
  max-height: 85vh;
  max-width: 85vw;
  display: flex;
  flex-direction: column;
  height: ${({$size:e})=>Em[e].height};

  @media (prefers-reduced-motion: no-preference) {
    animation-duration: 200ms;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);

    &[data-state='open'] {
      animation-name: ${({$position:e})=>e.startsWith("top")?wi.slideDownIn:wi.slideUpIn};
    }

    &[data-state='closed'] {
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation-name: ${({$position:e})=>e.startsWith("top")?wi.slideDownOut:wi.slideUpOut};
    }
  }
`,QO=({children:e,size:t="md",position:n="bottom-right",isOpen:r=!1,onToggle:a=()=>{},toggleIcon:s})=>m.jsx(fb.Provider,{value:{size:t,position:n,isOpen:r,onToggle:a},children:m.jsxs(YO,{$position:n,children:[r?m.jsx(XO,{$size:t,$position:n,background:"neutral0",shadow:"popupShadow",hasRadius:!0,borderColor:"neutral200",borderStyle:"solid",borderWidth:"1px","data-state":r?"open":"closed",children:e}):null,s&&!r&&s]})}),ez=({children:e})=>m.jsx(Ne,{padding:[2,2,2,4],borderColor:"neutral150",borderStyle:"solid",borderWidth:"0 0 1px 0",children:m.jsx(Te,{justifyContent:"space-between",alignItems:"center",children:e})}),tz=({children:e})=>m.jsx(Ne,{padding:4,flex:"1",overflow:"auto",children:e}),nz=({children:e})=>m.jsx(Ne,{padding:4,children:e}),rz=({label:e})=>{const{onToggle:t}=az();return m.jsx(yr,{onClick:t,variant:"ghost",label:e||"Close",children:m.jsx(Zd,{})})},po={Root:QO,Header:ez,Body:tz,Footer:nz,Close:rz},az=()=>W.useContext(fb),hb=e=>m.jsxs("svg",{width:e.width||16,height:e.height||16,viewBox:"0 0 200 300",xmlns:"http://www.w3.org/2000/svg","aria-label":"Figma logo",style:{display:"block",margin:"0 auto",...e.style},...e,children:[m.jsx("title",{children:"Figma.logo"}),m.jsx("desc",{children:"Created using Figma"}),m.jsx("path",{d:"M50 300c27.6 0 50-22.4 50-50v-50H50c-27.6 0-50 22.4-50 50s22.4 50 50 50z",fill:"#0acf83"}),m.jsx("path",{d:"M50 200c-27.6 0-50-22.4-50-50s22.4-50 50-50h50v100H50z",fill:"#a259ff"}),m.jsx("path",{d:"M0 50C0 22.4 22.4 0 50 0h50v100H50C22.4 100 0 77.6 0 50z",fill:"#f24e1e"}),m.jsx("path",{d:"M100 0h50c27.6 0 50 22.4 50 50s-22.4 50-50 50h-50V0z",fill:"#ff7262"}),m.jsx("path",{d:"M200 150c0 27.6-22.4 50-50 50s-50-22.4-50-50 22.4-50 50-50 50 22.4 50 50z",fill:"#1abcfe"})]}),iz=e=>m.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:m.jsx("rect",{x:"2",y:"2",width:"11",height:"11",rx:"2",fill:"white"})}),oz=W.createContext({}),sz=({children:e,isLoading:t=!1,...n})=>m.jsx(oz.Provider,{value:{isLoading:t},children:m.jsx(Te,{direction:"column",alignItems:"flex-start",width:"100%",position:"relative",...n,children:e})}),lz=({children:e,...t})=>m.jsx(Ne,{position:"absolute",bottom:"102%",left:0,right:0,background:"neutral0",width:"100%",...t,children:e}),cz=xt(Ne)`
  padding: ${({theme:e})=>e.spaces[3]} 0};
`,uz=({children:e,gap:t=2,...n})=>m.jsx(Te,{gap:t,wrap:"wrap",paddingBottom:2,maxHeight:"150px",overflow:"auto",...n,children:e}),dz=xt(Ne)`
  outline: none;
  box-shadow: none;
  transition-property: border-color, box-shadow, fill;
  transition-duration: 0.2s;

  &:focus-within {
    border: 1px solid
      ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600};
    box-shadow: ${({theme:e,$hasError:t})=>t?e.colors.danger600:e.colors.primary600}
      0px 0px 0px 2px;
  }
`,pz=({children:e,disclaimer:t,error:n=!1,...r})=>m.jsxs(dz,{background:"neutral0",hasRadius:!0,borderColor:n?"danger600":"neutral200",borderWidth:"1px",borderStyle:"solid",width:"100%",$hasError:n,...r,children:[m.jsx(Ne,{padding:3,children:e}),t&&m.jsx(Ne,{background:"neutral100",padding:[2,3],borderColor:"neutral200",borderWidth:"1px 0 0 0",borderStyle:"solid",borderRadius:"0 0 4px 4px",children:m.jsx($e,{variant:"pi",textColor:"neutral600",children:t})})]}),fz=({children:e})=>m.jsx(Te,{justifyContent:"flex-end",alignItems:"center",gap:2,children:e}),La={Root:sz,Header:lz,HeaderItem:cz,Attachments:uz,Content:pz,Actions:fz};class hz extends Error{name="Assertion";code="ERR_ASSERTION";constructor(t,n,r,a,s){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=n,this.expected=r,this.generated=s,this.operator=a}}function Q(e,t){mb(!!e,!1,!0,"ok","Expected value to be truthy",t)}function id(e){mb(!1,!1,!0,"ok","Unreachable",e)}function mb(e,t,n,r,a,s){if(!e)throw s instanceof Error?s:new hz(s||a,t,n,r,!s)}function mz(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vz={};function Tm(e,t){return(vz.jsx?yz:gz).test(e)}const bz=/[ \t\n\f\r]/g;function xz(e){return typeof e=="object"?e.type==="text"?Am(e.value):!1:Am(e)}function Am(e){return e.replace(bz,"")===""}class Po{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Po.prototype.normal={};Po.prototype.property={};Po.prototype.space=void 0;function gb(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Po(n,r,t)}function od(e){return e.toLowerCase()}class Un{constructor(t,n){this.attribute=n,this.property=t}}Un.prototype.attribute="";Un.prototype.booleanish=!1;Un.prototype.boolean=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.commaSeparated=!1;Un.prototype.defined=!1;Un.prototype.mustUseProperty=!1;Un.prototype.number=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.property="";Un.prototype.spaceSeparated=!1;Un.prototype.space=void 0;let _z=0;const ct=Ya(),dn=Ya(),sd=Ya(),Ie=Ya(),Nt=Ya(),Ti=Ya(),Gn=Ya();function Ya(){return 2**++_z}const ld=Object.freeze(Object.defineProperty({__proto__:null,boolean:ct,booleanish:dn,commaOrSpaceSeparated:Gn,commaSeparated:Ti,number:Ie,overloadedBoolean:sd,spaceSeparated:Nt},Symbol.toStringTag,{value:"Module"})),vu=Object.keys(ld);class ep extends Un{constructor(t,n,r,a){let s=-1;if(super(t,n),Im(this,"space",a),typeof r=="number")for(;++s<vu.length;){const o=vu[s];Im(this,vu[s],(r&ld[o])===ld[o])}}}ep.prototype.defined=!0;function Im(e,t,n){n&&(e[t]=n)}function Di(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const s=new ep(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[od(r)]=r,n[od(s.attribute)]=r}return new Po(t,n,e.space)}const yb=Di({properties:{ariaActiveDescendant:null,ariaAtomic:dn,ariaAutoComplete:null,ariaBusy:dn,ariaChecked:dn,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:Nt,ariaCurrent:null,ariaDescribedBy:Nt,ariaDetails:null,ariaDisabled:dn,ariaDropEffect:Nt,ariaErrorMessage:null,ariaExpanded:dn,ariaFlowTo:Nt,ariaGrabbed:dn,ariaHasPopup:null,ariaHidden:dn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Nt,ariaLevel:Ie,ariaLive:null,ariaModal:dn,ariaMultiLine:dn,ariaMultiSelectable:dn,ariaOrientation:null,ariaOwns:Nt,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:dn,ariaReadOnly:dn,ariaRelevant:null,ariaRequired:dn,ariaRoleDescription:Nt,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:dn,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function vb(e,t){return t in e?e[t]:t}function bb(e,t){return vb(e,t.toLowerCase())}const wz=Di({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ti,acceptCharset:Nt,accessKey:Nt,action:null,allow:null,allowFullScreen:ct,allowPaymentRequest:ct,allowUserMedia:ct,alt:null,as:null,async:ct,autoCapitalize:null,autoComplete:Nt,autoFocus:ct,autoPlay:ct,blocking:Nt,capture:null,charSet:null,checked:ct,cite:null,className:Nt,cols:Ie,colSpan:null,content:null,contentEditable:dn,controls:ct,controlsList:Nt,coords:Ie|Ti,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ct,defer:ct,dir:null,dirName:null,disabled:ct,download:sd,draggable:dn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ct,formTarget:null,headers:Nt,height:Ie,hidden:sd,high:Ie,href:null,hrefLang:null,htmlFor:Nt,httpEquiv:Nt,id:null,imageSizes:null,imageSrcSet:null,inert:ct,inputMode:null,integrity:null,is:null,isMap:ct,itemId:null,itemProp:Nt,itemRef:Nt,itemScope:ct,itemType:Nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ct,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:ct,muted:ct,name:null,nonce:null,noModule:ct,noValidate:ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ct,optimum:Ie,pattern:null,ping:Nt,placeholder:null,playsInline:ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ct,referrerPolicy:null,rel:Nt,required:ct,reversed:ct,rows:Ie,rowSpan:Ie,sandbox:Nt,scope:null,scoped:ct,seamless:ct,selected:ct,shadowRootClonable:ct,shadowRootDelegatesFocus:ct,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:dn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:ct,useMap:null,value:dn,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Nt,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ct,declare:ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:ct,noHref:ct,noShade:ct,noWrap:ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:dn,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ct,disableRemotePlayback:ct,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:bb}),kz=Di({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gn,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:Nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ti,g2:Ti,glyphName:Ti,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:Gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gn,rev:Gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gn,requiredFeatures:Gn,requiredFonts:Gn,requiredFormats:Gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:Gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gn,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vb}),xb=Di({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_b=Di({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bb}),wb=Di({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Cz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sz=/[A-Z]/g,jm=/-[a-z]/g,Ez=/^data[-\w.:]+$/i;function Tz(e,t){const n=od(t);let r=t,a=Un;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ez.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(jm,Iz);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!jm.test(s)){let o=s.replace(Sz,Az);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=ep}return new a(r,t)}function Az(e){return"-"+e.toLowerCase()}function Iz(e){return e.charAt(1).toUpperCase()}const jz=gb([yb,wz,xb,_b,wb],"html"),tp=gb([yb,kz,xb,_b,wb],"svg");function Rz(e){return e.join(" ").trim()}var np={},Rm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Oz=/\n/g,zz=/^\s*/,Mz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Fz=/^:\s*/,$z=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nz=/^[;\s]*/,Pz=/^\s+|\s+$/g,Dz=`
`,Om="/",zm="*",Za="",Lz="comment",Bz="declaration";function Uz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(y){var _=y.match(Oz);_&&(n+=_.length);var x=y.lastIndexOf(Dz);r=~x?y.length-x:r+y.length}function s(){var y={line:n,column:r};return function(_){return _.position=new o(y),d(),_}}function o(y){this.start=y,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(y){var _=new Error(t.source+":"+n+":"+r+": "+y);if(_.reason=y,_.filename=t.source,_.line=n,_.column=r,_.source=e,!t.silent)throw _}function u(y){var _=y.exec(e);if(_){var x=_[0];return a(x),e=e.slice(x.length),_}}function d(){u(zz)}function p(y){var _;for(y=y||[];_=h();)_!==!1&&y.push(_);return y}function h(){var y=s();if(!(Om!=e.charAt(0)||zm!=e.charAt(1))){for(var _=2;Za!=e.charAt(_)&&(zm!=e.charAt(_)||Om!=e.charAt(_+1));)++_;if(_+=2,Za===e.charAt(_-1))return l("End of comment missing");var x=e.slice(2,_-2);return r+=2,a(x),e=e.slice(_),r+=2,y({type:Lz,comment:x})}}function g(){var y=s(),_=u(Mz);if(_){if(h(),!u(Fz))return l("property missing ':'");var x=u($z),k=y({type:Bz,property:Mm(_[0].replace(Rm,Za)),value:x?Mm(x[0].replace(Rm,Za)):Za});return u(Nz),k}}function v(){var y=[];p(y);for(var _;_=g();)_!==!1&&(y.push(_),p(y));return y}return d(),v()}function Mm(e){return e?e.replace(Pz,Za):Za}var Zz=Uz,Hz=Yn&&Yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(np,"__esModule",{value:!0});np.default=Wz;const qz=Hz(Zz);function Wz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,qz.default)(e),a=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:l}=s;a?t(o,l,s):l&&(n=n||{},n[o]=l)}),n}var zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.camelCase=void 0;var Vz=/^--[a-zA-Z0-9_-]+$/,Gz=/-([a-z])/g,Jz=/^[^-]+$/,Kz=/^-(webkit|moz|ms|o|khtml)-/,Yz=/^-(ms)-/,Xz=function(e){return!e||Jz.test(e)||Vz.test(e)},Qz=function(e,t){return t.toUpperCase()},Fm=function(e,t){return"".concat(t,"-")},eM=function(e,t){return t===void 0&&(t={}),Xz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Yz,Fm):e=e.replace(Kz,Fm),e.replace(Gz,Qz))};zl.camelCase=eM;var tM=Yn&&Yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},nM=tM(np),rM=zl;function cd(e,t){var n={};return!e||typeof e!="string"||(0,nM.default)(e,function(r,a){r&&a&&(n[(0,rM.camelCase)(r,t)]=a)}),n}cd.default=cd;var aM=cd;const iM=ka(aM),kb=Cb("end"),rp=Cb("start");function Cb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oM(e){const t=rp(e),n=kb(e);if(t&&n)return{start:t,end:n}}function _o(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$m(e.position):"start"in e||"end"in e?$m(e):"line"in e||"column"in e?ud(e):""}function ud(e){return Nm(e&&e.line)+":"+Nm(e&&e.column)}function $m(e){return ud(e&&e.start)+"-"+ud(e&&e.end)}function Nm(e){return e&&typeof e=="number"?e:1}class Sn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?a=t:!s.cause&&t&&(o=!0,a=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=_o(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const ap={}.hasOwnProperty,sM=new Map,lM=/[A-Z]/g,cM=new Set(["table","tbody","thead","tfoot","tr"]),uM=new Set(["td","th"]),Sb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bM(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vM(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?tp:jz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Eb(a,e,void 0);return s&&typeof s!="string"?s:a.create(e,a.Fragment,{children:s||void 0},void 0)}function Eb(e,t,n){if(t.type==="element")return pM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return fM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mM(e,t,n);if(t.type==="mdxjsEsm")return hM(e,t);if(t.type==="root")return gM(e,t,n);if(t.type==="text")return yM(e,t)}function pM(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=tp,e.schema=a),e.ancestors.push(t);const s=Ab(e,t.tagName,!1),o=xM(e,t);let l=op(e,t);return cM.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!xz(u):!0})),Tb(e,o,s,t),ip(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function fM(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return Q(r.type==="ExpressionStatement"),e.evaluater.evaluateExpression(r.expression)}Io(e,t.position)}function hM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Io(e,t.position)}function mM(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=tp,e.schema=a),e.ancestors.push(t);const s=t.name===null?e.Fragment:Ab(e,t.name,!0),o=_M(e,t),l=op(e,t);return Tb(e,o,s,t),ip(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function gM(e,t,n){const r={};return ip(r,op(e,t)),e.create(t,e.Fragment,r,n)}function yM(e,t){return t.value}function Tb(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ip(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vM(e,t,n){return r;function r(a,s,o,l){const d=Array.isArray(o.children)?n:t;return l?d(s,o,l):d(s,o)}}function bM(e,t){return n;function n(r,a,s,o){const l=Array.isArray(s.children),u=rp(r);return t(a,s,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function xM(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&ap.call(t.properties,a)){const s=wM(e,a,t.properties[a]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&uM.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _M(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];Q(s.type==="ExpressionStatement");const o=s.expression;Q(o.type==="ObjectExpression");const l=o.properties[0];Q(l.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Io(e,t.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];Q(l.type==="ExpressionStatement"),s=e.evaluater.evaluateExpression(l.expression)}else Io(e,t.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function op(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:sM;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=a.get(u)||0;o=u+"-"+d,a.set(u,d+1)}}const l=Eb(e,s,o);l!==void 0&&n.push(l)}return n}function wM(e,t,n){const r=Tz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mz(n):Rz(n)),r.property==="style"){let a=typeof n=="object"?n:kM(e,String(n));return e.stylePropertyNameCase==="css"&&(a=CM(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Cz[r.property]||r.property:r.attribute,n]}}function kM(e,t){try{return iM(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Sn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Sb+"#cannot-parse-style-attribute",a}}function Ab(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let s=-1,o;for(;++s<a.length;){const l=Tm(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}Q(o,"always a result"),r=o}else r=Tm(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return ap.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Io(e)}function Io(e,t){const n=new Sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Sb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CM(e){const t={};let n;for(n in e)ap.call(e,n)&&(t[SM(n)]=e[n]);return t}function SM(e){let t=e.replace(lM,EM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function EM(e){return"-"+e.toLowerCase()}const bu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TM={};function AM(e,t){const n=TM,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ib(e,r,a)}function Ib(e,t,n){if(IM(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Pm(e.children,t,n)}return Array.isArray(e)?Pm(e,t,n):""}function Pm(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=Ib(e[a],t,n);return r.join("")}function IM(e){return!!(e&&typeof e=="object")}const Dm=document.createElement("i");function sp(e){const t="&"+e+";";Dm.innerHTML=t;const n=Dm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const F={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseX:120,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},De={atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},M={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},$r={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:""};function Pr(e,t,n,r){const a=e.length;let s=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<De.v8MaxSafeChunkSize)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+De.v8MaxSafeChunkSize),o.unshift(t,0),e.splice(...o),s+=De.v8MaxSafeChunkSize,t+=De.v8MaxSafeChunkSize}function mr(e,t){return e.length>0?(Pr(e,e.length,0,t),e):t}const Lm={}.hasOwnProperty;function jM(e){const t={};let n=-1;for(;++n<e.length;)RM(t,e[n]);return t}function RM(e,t){let n;for(n in t){const a=(Lm.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Lm.call(a,o)||(a[o]=[]);const l=s[o];OM(a[o],Array.isArray(l)?l:l?[l]:[])}}}function OM(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pr(e,0,0,r)}function jb(e,t){const n=Number.parseInt(e,t);return n<F.ht||n===F.vt||n>F.cr&&n<F.space||n>F.tilde&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?$r.replacementCharacter:String.fromCodePoint(n)}function Ai(e){return e.replace(/[\t\n\r ]+/g,$r.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nr=Ca(/[A-Za-z]/),Xn=Ca(/[\dA-Za-z]/),zM=Ca(/[#-'*+\--9=?A-Z^-~]/);function dd(e){return e!==null&&(e<F.space||e===F.del)}const pd=Ca(/\d/),MM=Ca(/[\dA-Fa-f]/),FM=Ca(/[!-/:-@[-`{-~]/);function We(e){return e!==null&&e<F.horizontalTab}function Bn(e){return e!==null&&(e<F.nul||e===F.space)}function Tt(e){return e===F.horizontalTab||e===F.virtualSpace||e===F.space}const $M=Ca(new RegExp("\\p{P}|\\p{S}","u")),NM=Ca(/\s/);function Ca(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Li(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===F.percentSign&&Xn(e.charCodeAt(n+1))&&Xn(e.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),a=1):o=$r.replacementCharacter}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Dt(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Tt(u)?(e.enter(n),l(u)):t(u)}function l(u){return Tt(u)&&s++<a?(e.consume(u),l):(e.exit(n),t(u))}}const PM={tokenize:DM};function DM(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(Q(l===F.eof||We(l),"expected eol or eof"),l===F.eof){e.consume(l);return}return e.enter(M.lineEnding),e.consume(l),e.exit(M.lineEnding),Dt(e,t,M.linePrefix)}function a(l){return Q(l!==F.eof&&!We(l),"expected anything other than a line ending or EOF"),e.enter(M.paragraph),s(l)}function s(l){const u=e.enter(M.chunkText,{contentType:De.contentTypeText,previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===F.eof){e.exit(M.chunkText),e.exit(M.paragraph),e.consume(l);return}return We(l)?(e.consume(l),e.exit(M.chunkText),s):(e.consume(l),o)}}const LM={tokenize:BM},Bm={tokenize:UM};function BM(e){const t=this,n=[];let r=0,a,s,o;return l;function l(A){if(r<n.length){const I=n[r];return t.containerState=I[1],Q(I[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(I[0].continuation,u,d)(A)}return d(A)}function u(A){if(Q(t.containerState,"expected `containerState` to be defined after continuation"),r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&T();const I=t.events.length;let $=I,O;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type===M.chunkFlow){O=t.events[$][1].end;break}Q(O,"could not find previous flow chunk"),k(r);let U=I;for(;U<t.events.length;)t.events[U][1].end={...O},U++;return Pr(t.events,$+1,0,t.events.slice(I)),t.events.length=U,d(A)}return l(A)}function d(A){if(r===n.length){if(!a)return g(A);if(a.currentConstruct&&a.currentConstruct.concrete)return y(A);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bm,p,h)(A)}function p(A){return a&&T(),k(r),g(A)}function h(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(A)}function g(A){return t.containerState={},e.attempt(Bm,v,y)(A)}function v(A){return Q(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),Q(t.containerState,"expected `containerState` to be defined on tokenizer"),r++,n.push([t.currentConstruct,t.containerState]),g(A)}function y(A){if(A===F.eof){a&&T(),k(0),e.consume(A);return}return a=a||t.parser.flow(t.now()),e.enter(M.chunkFlow,{_tokenizer:a,contentType:De.contentTypeFlow,previous:s}),_(A)}function _(A){if(A===F.eof){x(e.exit(M.chunkFlow),!0),k(0),e.consume(A);return}return We(A)?(e.consume(A),x(e.exit(M.chunkFlow)),r=0,t.interrupt=void 0,l):(e.consume(A),_)}function x(A,I){Q(a,"expected `childFlow` to be defined when continuing");const $=t.sliceStream(A);if(I&&$.push(null),A.previous=s,s&&(s.next=A),s=A,a.defineSkip(A.start),a.write($),t.parser.lazy[A.start.line]){let O=a.events.length;for(;O--;)if(a.events[O][1].start.offset<o&&(!a.events[O][1].end||a.events[O][1].end.offset>o))return;const U=t.events.length;let B=U,G,Y;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type===M.chunkFlow){if(G){Y=t.events[B][1].end;break}G=!0}for(Q(Y,"could not find previous flow chunk"),k(r),O=U;O<t.events.length;)t.events[O][1].end={...Y},O++;Pr(t.events,B+1,0,t.events.slice(U)),t.events.length=O}}function k(A){let I=n.length;for(;I-- >A;){const $=n[I];t.containerState=$[1],Q($[0].exit,"expected `exit` to be defined on container construct"),$[0].exit.call(t,e)}n.length=A}function T(){Q(t.containerState,"expected `containerState` to be defined when closing flow"),Q(a,"expected `childFlow` to be defined when closing it"),a.write([F.eof]),s=void 0,a=void 0,t.containerState._closeFlow=void 0}}function UM(e,t,n){return Q(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,e.attempt(this.parser.constructs.document,t,n),M.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize)}function Um(e){if(e===F.eof||Bn(e)||NM(e))return De.characterGroupWhitespace;if($M(e))return De.characterGroupPunctuation}function lp(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const s=e[a].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const fd={name:"attention",resolveAll:ZM,tokenize:HM};function ZM(e,t){let n=-1,r,a,s,o,l,u,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};Zm(h,-u),Zm(g,u),o={type:u>1?M.strongSequence:M.emphasisSequence,start:h,end:{...e[r][1].end}},l={type:u>1?M.strongSequence:M.emphasisSequence,start:{...e[n][1].start},end:g},s={type:u>1?M.strongText:M.emphasisText,start:{...e[r][1].end},end:{...e[n][1].start}},a={type:u>1?M.strong:M.emphasis,start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=mr(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=mr(d,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",s,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),d=mr(d,lp(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=mr(d,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=mr(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Pr(e,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function HM(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Um(r);let s;return o;function o(u){return Q(u===F.asterisk||u===F.underscore,"expected asterisk or underscore"),s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;const d=e.exit("attentionSequence"),p=Um(u);Q(n,"expected `attentionMarkers` to be populated");const h=!p||p===De.characterGroupPunctuation&&a||n.includes(u),g=!a||a===De.characterGroupPunctuation&&p||n.includes(r);return d._open=!!(s===F.asterisk?h:h&&(a||!g)),d._close=!!(s===F.asterisk?g:g&&(p||!h)),t(u)}}function Zm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qM={name:"autolink",tokenize:WM};function WM(e,t,n){let r=0;return a;function a(v){return Q(v===F.lessThan,"expected `<`"),e.enter(M.autolink),e.enter(M.autolinkMarker),e.consume(v),e.exit(M.autolinkMarker),e.enter(M.autolinkProtocol),s}function s(v){return Nr(v)?(e.consume(v),o):v===F.atSign?n(v):d(v)}function o(v){return v===F.plusSign||v===F.dash||v===F.dot||Xn(v)?(r=1,l(v)):d(v)}function l(v){return v===F.colon?(e.consume(v),r=0,u):(v===F.plusSign||v===F.dash||v===F.dot||Xn(v))&&r++<De.autolinkSchemeSizeMax?(e.consume(v),l):(r=0,d(v))}function u(v){return v===F.greaterThan?(e.exit(M.autolinkProtocol),e.enter(M.autolinkMarker),e.consume(v),e.exit(M.autolinkMarker),e.exit(M.autolink),t):v===F.eof||v===F.space||v===F.lessThan||dd(v)?n(v):(e.consume(v),u)}function d(v){return v===F.atSign?(e.consume(v),p):zM(v)?(e.consume(v),d):n(v)}function p(v){return Xn(v)?h(v):n(v)}function h(v){return v===F.dot?(e.consume(v),r=0,p):v===F.greaterThan?(e.exit(M.autolinkProtocol).type=M.autolinkEmail,e.enter(M.autolinkMarker),e.consume(v),e.exit(M.autolinkMarker),e.exit(M.autolink),t):g(v)}function g(v){if((v===F.dash||Xn(v))&&r++<De.autolinkDomainSizeMax){const y=v===F.dash?g:h;return e.consume(v),y}return n(v)}}const Ml={partial:!0,tokenize:VM};function VM(e,t,n){return r;function r(s){return Tt(s)?Dt(e,a,M.linePrefix)(s):a(s)}function a(s){return s===F.eof||We(s)?t(s):n(s)}}const Rb={continuation:{tokenize:JM},exit:KM,name:"blockQuote",tokenize:GM};function GM(e,t,n){const r=this;return a;function a(o){if(o===F.greaterThan){const l=r.containerState;return Q(l,"expected `containerState` to be defined in container"),l.open||(e.enter(M.blockQuote,{_container:!0}),l.open=!0),e.enter(M.blockQuotePrefix),e.enter(M.blockQuoteMarker),e.consume(o),e.exit(M.blockQuoteMarker),s}return n(o)}function s(o){return Tt(o)?(e.enter(M.blockQuotePrefixWhitespace),e.consume(o),e.exit(M.blockQuotePrefixWhitespace),e.exit(M.blockQuotePrefix),t):(e.exit(M.blockQuotePrefix),t(o))}}function JM(e,t,n){const r=this;return a;function a(o){return Tt(o)?(Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,s,M.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize)(o)):s(o)}function s(o){return e.attempt(Rb,t,n)(o)}}function KM(e){e.exit(M.blockQuote)}const Ob={name:"characterEscape",tokenize:YM};function YM(e,t,n){return r;function r(s){return Q(s===F.backslash,"expected `\\`"),e.enter(M.characterEscape),e.enter(M.escapeMarker),e.consume(s),e.exit(M.escapeMarker),a}function a(s){return FM(s)?(e.enter(M.characterEscapeValue),e.consume(s),e.exit(M.characterEscapeValue),e.exit(M.characterEscape),t):n(s)}}const zb={name:"characterReference",tokenize:XM};function XM(e,t,n){const r=this;let a=0,s,o;return l;function l(h){return Q(h===F.ampersand,"expected `&`"),e.enter(M.characterReference),e.enter(M.characterReferenceMarker),e.consume(h),e.exit(M.characterReferenceMarker),u}function u(h){return h===F.numberSign?(e.enter(M.characterReferenceMarkerNumeric),e.consume(h),e.exit(M.characterReferenceMarkerNumeric),d):(e.enter(M.characterReferenceValue),s=De.characterReferenceNamedSizeMax,o=Xn,p(h))}function d(h){return h===F.uppercaseX||h===F.lowercaseX?(e.enter(M.characterReferenceMarkerHexadecimal),e.consume(h),e.exit(M.characterReferenceMarkerHexadecimal),e.enter(M.characterReferenceValue),s=De.characterReferenceHexadecimalSizeMax,o=MM,p):(e.enter(M.characterReferenceValue),s=De.characterReferenceDecimalSizeMax,o=pd,p(h))}function p(h){if(h===F.semicolon&&a){const g=e.exit(M.characterReferenceValue);return o===Xn&&!sp(r.sliceSerialize(g))?n(h):(e.enter(M.characterReferenceMarker),e.consume(h),e.exit(M.characterReferenceMarker),e.exit(M.characterReference),t)}return o(h)&&a++<s?(e.consume(h),p):n(h)}}const Hm={partial:!0,tokenize:eF},qm={concrete:!0,name:"codeFenced",tokenize:QM};function QM(e,t,n){const r=this,a={partial:!0,tokenize:$};let s=0,o=0,l;return u;function u(O){return d(O)}function d(O){Q(O===F.graveAccent||O===F.tilde,"expected `` ` `` or `~`");const U=r.events[r.events.length-1];return s=U&&U[1].type===M.linePrefix?U[2].sliceSerialize(U[1],!0).length:0,l=O,e.enter(M.codeFenced),e.enter(M.codeFencedFence),e.enter(M.codeFencedFenceSequence),p(O)}function p(O){return O===l?(o++,e.consume(O),p):o<De.codeFencedSequenceSizeMin?n(O):(e.exit(M.codeFencedFenceSequence),Tt(O)?Dt(e,h,M.whitespace)(O):h(O))}function h(O){return O===F.eof||We(O)?(e.exit(M.codeFencedFence),r.interrupt?t(O):e.check(Hm,_,I)(O)):(e.enter(M.codeFencedFenceInfo),e.enter(M.chunkString,{contentType:De.contentTypeString}),g(O))}function g(O){return O===F.eof||We(O)?(e.exit(M.chunkString),e.exit(M.codeFencedFenceInfo),h(O)):Tt(O)?(e.exit(M.chunkString),e.exit(M.codeFencedFenceInfo),Dt(e,v,M.whitespace)(O)):O===F.graveAccent&&O===l?n(O):(e.consume(O),g)}function v(O){return O===F.eof||We(O)?h(O):(e.enter(M.codeFencedFenceMeta),e.enter(M.chunkString,{contentType:De.contentTypeString}),y(O))}function y(O){return O===F.eof||We(O)?(e.exit(M.chunkString),e.exit(M.codeFencedFenceMeta),h(O)):O===F.graveAccent&&O===l?n(O):(e.consume(O),y)}function _(O){return Q(We(O),"expected eol"),e.attempt(a,I,x)(O)}function x(O){return Q(We(O),"expected eol"),e.enter(M.lineEnding),e.consume(O),e.exit(M.lineEnding),k}function k(O){return s>0&&Tt(O)?Dt(e,T,M.linePrefix,s+1)(O):T(O)}function T(O){return O===F.eof||We(O)?e.check(Hm,_,I)(O):(e.enter(M.codeFlowValue),A(O))}function A(O){return O===F.eof||We(O)?(e.exit(M.codeFlowValue),T(O)):(e.consume(O),A)}function I(O){return e.exit(M.codeFenced),t(O)}function $(O,U,B){let G=0;return Y;function Y(w){return Q(We(w),"expected eol"),O.enter(M.lineEnding),O.consume(w),O.exit(M.lineEnding),q}function q(w){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),O.enter(M.codeFencedFence),Tt(w)?Dt(O,le,M.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize)(w):le(w)}function le(w){return w===l?(O.enter(M.codeFencedFenceSequence),R(w)):B(w)}function R(w){return w===l?(G++,O.consume(w),R):G>=o?(O.exit(M.codeFencedFenceSequence),Tt(w)?Dt(O,J,M.whitespace)(w):J(w)):B(w)}function J(w){return w===F.eof||We(w)?(O.exit(M.codeFencedFence),U(w)):B(w)}}}function eF(e,t,n){const r=this;return a;function a(o){return o===F.eof?n(o):(Q(We(o),"expected eol"),e.enter(M.lineEnding),e.consume(o),e.exit(M.lineEnding),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const xu={name:"codeIndented",tokenize:nF},tF={partial:!0,tokenize:rF};function nF(e,t,n){const r=this;return a;function a(d){return Q(Tt(d)),e.enter(M.codeIndented),Dt(e,s,M.linePrefix,De.tabSize+1)(d)}function s(d){const p=r.events[r.events.length-1];return p&&p[1].type===M.linePrefix&&p[2].sliceSerialize(p[1],!0).length>=De.tabSize?o(d):n(d)}function o(d){return d===F.eof?u(d):We(d)?e.attempt(tF,o,u)(d):(e.enter(M.codeFlowValue),l(d))}function l(d){return d===F.eof||We(d)?(e.exit(M.codeFlowValue),o(d)):(e.consume(d),l)}function u(d){return e.exit(M.codeIndented),t(d)}}function rF(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):We(o)?(e.enter(M.lineEnding),e.consume(o),e.exit(M.lineEnding),a):Dt(e,s,M.linePrefix,De.tabSize+1)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type===M.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=De.tabSize?t(o):We(o)?a(o):n(o)}}const aF={name:"codeText",previous:Mb,resolve:iF,tokenize:oF};function iF(e){let t=e.length-4,n=3,r,a;if((e[n][1].type===M.lineEnding||e[n][1].type==="space")&&(e[t][1].type===M.lineEnding||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type===M.codeTextData){e[n][1].type=M.codeTextPadding,e[t][1].type=M.codeTextPadding,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!==M.lineEnding&&(a=r):(r===t||e[r][1].type===M.lineEnding)&&(e[a][1].type=M.codeTextData,r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Mb(e){return e!==F.graveAccent||this.events[this.events.length-1][1].type===M.characterEscape}function oF(e,t,n){const r=this;let a=0,s,o;return l;function l(g){return Q(g===F.graveAccent,"expected `` ` ``"),Q(Mb.call(r,r.previous),"expected correct previous"),e.enter(M.codeText),e.enter(M.codeTextSequence),u(g)}function u(g){return g===F.graveAccent?(e.consume(g),a++,u):(e.exit(M.codeTextSequence),d(g))}function d(g){return g===F.eof?n(g):g===F.space?(e.enter("space"),e.consume(g),e.exit("space"),d):g===F.graveAccent?(o=e.enter(M.codeTextSequence),s=0,h(g)):We(g)?(e.enter(M.lineEnding),e.consume(g),e.exit(M.lineEnding),d):(e.enter(M.codeTextData),p(g))}function p(g){return g===F.eof||g===F.space||g===F.graveAccent||We(g)?(e.exit(M.codeTextData),d(g)):(e.consume(g),p)}function h(g){return g===F.graveAccent?(e.consume(g),s++,h):s===a?(e.exit(M.codeTextSequence),e.exit(M.codeText),t(g)):(o.type=M.codeTextData,p(g))}}class sF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&fo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),fo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),fo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);fo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);fo(this.left,n.reverse())}}}function fo(e,t){let n=0;if(t.length<De.v8MaxSafeChunkSize)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+De.v8MaxSafeChunkSize)),n+=De.v8MaxSafeChunkSize}function Fb(e){const t={};let n=-1,r,a,s,o,l,u,d;const p=new sF(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type===M.chunkFlow&&p.get(n-1)[1].type===M.listItemPrefix&&(Q(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type===M.lineEndingBlank&&(s+=2),s<u.length&&u[s][1].type===M.content))for(;++s<u.length&&u[s][1].type!==M.content;)u[s][1].type===M.chunkText&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,lF(p,n)),n=t[n],d=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(o=p.get(s),o[1].type===M.lineEnding||o[1].type===M.lineEndingBlank)o[0]==="enter"&&(a&&(p.get(a)[1].type=M.lineEndingBlank),o[1].type=M.lineEnding,a=s);else if(!(o[1].type===M.linePrefix||o[1].type===M.listItemIndent))break;a&&(r[1].end={...p.get(a)[1].start},l=p.slice(a,n),l.unshift(r),p.splice(a,n-a+1,l))}}return Pr(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function lF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const s=[];Q(n.contentType,"expected `contentType` on subtokens");let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],d={};let p,h,g=-1,v=n,y=0,_=0;const x=[_];for(;v;){for(;e.get(++a)[1]!==v;);Q(!h||v.previous===h,"expected previous to match"),Q(!h||h.next===v,"expected next to match"),s.push(a),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(F.eof),h&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=v,v=v.next}for(v=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(Q(v,"expected a current token"),_=g+1,x.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0,Q(!v.next,"expected no next token")):x.pop(),g=x.length;g--;){const k=l.slice(x[g],x[g+1]),T=s.pop();Q(T!==void 0,"expected a start position when splicing"),u.push([T,T+k.length-1]),e.splice(T,2,k)}for(u.reverse(),g=-1;++g<u.length;)d[y+u[g][0]]=y+u[g][1],y+=u[g][1]-u[g][0]-1;return d}const cF={resolve:dF,tokenize:pF},uF={partial:!0,tokenize:fF};function dF(e){return Fb(e),e}function pF(e,t){let n;return r;function r(l){return Q(l!==F.eof&&!We(l),"expected no eof or eol"),e.enter(M.content),n=e.enter(M.chunkContent,{contentType:De.contentTypeContent}),a(l)}function a(l){return l===F.eof?s(l):We(l)?e.check(uF,o,s)(l):(e.consume(l),a)}function s(l){return e.exit(M.chunkContent),e.exit(M.content),t(l)}function o(l){return Q(We(l),"expected eol"),e.consume(l),e.exit(M.chunkContent),Q(n,"expected previous token"),n.next=e.enter(M.chunkContent,{contentType:De.contentTypeContent,previous:n}),n=n.next,a}}function fF(e,t,n){const r=this;return a;function a(o){return Q(We(o),"expected a line ending"),e.exit(M.chunkContent),e.enter(M.lineEnding),e.consume(o),e.exit(M.lineEnding),Dt(e,s,M.linePrefix)}function s(o){if(o===F.eof||We(o))return n(o);Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type===M.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=De.tabSize?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function $b(e,t,n,r,a,s,o,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(k){return k===F.lessThan?(e.enter(r),e.enter(a),e.enter(s),e.consume(k),e.exit(s),g):k===F.eof||k===F.space||k===F.rightParenthesis||dd(k)?n(k):(e.enter(r),e.enter(o),e.enter(l),e.enter(M.chunkString,{contentType:De.contentTypeString}),_(k))}function g(k){return k===F.greaterThan?(e.enter(s),e.consume(k),e.exit(s),e.exit(a),e.exit(r),t):(e.enter(l),e.enter(M.chunkString,{contentType:De.contentTypeString}),v(k))}function v(k){return k===F.greaterThan?(e.exit(M.chunkString),e.exit(l),g(k)):k===F.eof||k===F.lessThan||We(k)?n(k):(e.consume(k),k===F.backslash?y:v)}function y(k){return k===F.lessThan||k===F.greaterThan||k===F.backslash?(e.consume(k),v):v(k)}function _(k){return!p&&(k===F.eof||k===F.rightParenthesis||Bn(k))?(e.exit(M.chunkString),e.exit(l),e.exit(o),e.exit(r),t(k)):p<d&&k===F.leftParenthesis?(e.consume(k),p++,_):k===F.rightParenthesis?(e.consume(k),p--,_):k===F.eof||k===F.space||k===F.leftParenthesis||dd(k)?n(k):(e.consume(k),k===F.backslash?x:_)}function x(k){return k===F.leftParenthesis||k===F.rightParenthesis||k===F.backslash?(e.consume(k),_):_(k)}}function Nb(e,t,n,r,a,s){const o=this;let l=0,u;return d;function d(v){return Q(v===F.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(a),e.consume(v),e.exit(a),e.enter(s),p}function p(v){return l>De.linkReferenceSizeMax||v===F.eof||v===F.leftSquareBracket||v===F.rightSquareBracket&&!u||v===F.caret&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===F.rightSquareBracket?(e.exit(s),e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):We(v)?(e.enter(M.lineEnding),e.consume(v),e.exit(M.lineEnding),p):(e.enter(M.chunkString,{contentType:De.contentTypeString}),h(v))}function h(v){return v===F.eof||v===F.leftSquareBracket||v===F.rightSquareBracket||We(v)||l++>De.linkReferenceSizeMax?(e.exit(M.chunkString),p(v)):(e.consume(v),u||(u=!Tt(v)),v===F.backslash?g:h)}function g(v){return v===F.leftSquareBracket||v===F.backslash||v===F.rightSquareBracket?(e.consume(v),l++,h):h(v)}}function Pb(e,t,n,r,a,s){let o;return l;function l(g){return g===F.quotationMark||g===F.apostrophe||g===F.leftParenthesis?(e.enter(r),e.enter(a),e.consume(g),e.exit(a),o=g===F.leftParenthesis?F.rightParenthesis:g,u):n(g)}function u(g){return g===o?(e.enter(a),e.consume(g),e.exit(a),e.exit(r),t):(e.enter(s),d(g))}function d(g){return g===o?(e.exit(s),u(o)):g===F.eof?n(g):We(g)?(e.enter(M.lineEnding),e.consume(g),e.exit(M.lineEnding),Dt(e,d,M.linePrefix)):(e.enter(M.chunkString,{contentType:De.contentTypeString}),p(g))}function p(g){return g===o||g===F.eof||We(g)?(e.exit(M.chunkString),d(g)):(e.consume(g),g===F.backslash?h:p)}function h(g){return g===o||g===F.backslash?(e.consume(g),p):p(g)}}function wo(e,t){let n;return r;function r(a){return We(a)?(e.enter(M.lineEnding),e.consume(a),e.exit(M.lineEnding),n=!0,r):Tt(a)?Dt(e,r,n?M.linePrefix:M.lineSuffix)(a):t(a)}}const hF={name:"definition",tokenize:gF},mF={partial:!0,tokenize:yF};function gF(e,t,n){const r=this;let a;return s;function s(v){return e.enter(M.definition),o(v)}function o(v){return Q(v===F.leftSquareBracket,"expected `[`"),Nb.call(r,e,l,n,M.definitionLabel,M.definitionLabelMarker,M.definitionLabelString)(v)}function l(v){return a=Ai(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===F.colon?(e.enter(M.definitionMarker),e.consume(v),e.exit(M.definitionMarker),u):n(v)}function u(v){return Bn(v)?wo(e,d)(v):d(v)}function d(v){return $b(e,p,n,M.definitionDestination,M.definitionDestinationLiteral,M.definitionDestinationLiteralMarker,M.definitionDestinationRaw,M.definitionDestinationString)(v)}function p(v){return e.attempt(mF,h,h)(v)}function h(v){return Tt(v)?Dt(e,g,M.whitespace)(v):g(v)}function g(v){return v===F.eof||We(v)?(e.exit(M.definition),r.parser.defined.push(a),t(v)):n(v)}}function yF(e,t,n){return r;function r(l){return Bn(l)?wo(e,a)(l):n(l)}function a(l){return Pb(e,s,n,M.definitionTitle,M.definitionTitleMarker,M.definitionTitleString)(l)}function s(l){return Tt(l)?Dt(e,o,M.whitespace)(l):o(l)}function o(l){return l===F.eof||We(l)?t(l):n(l)}}const vF={name:"hardBreakEscape",tokenize:bF};function bF(e,t,n){return r;function r(s){return Q(s===F.backslash,"expected `\\`"),e.enter(M.hardBreakEscape),e.consume(s),a}function a(s){return We(s)?(e.exit(M.hardBreakEscape),t(s)):n(s)}}const xF={name:"headingAtx",resolve:_F,tokenize:wF};function _F(e,t){let n=e.length-2,r=3,a,s;return e[r][1].type===M.whitespace&&(r+=2),n-2>r&&e[n][1].type===M.whitespace&&(n-=2),e[n][1].type===M.atxHeadingSequence&&(r===n-1||n-4>r&&e[n-2][1].type===M.whitespace)&&(n-=r+1===n?2:4),n>r&&(a={type:M.atxHeadingText,start:e[r][1].start,end:e[n][1].end},s={type:M.chunkText,start:e[r][1].start,end:e[n][1].end,contentType:De.contentTypeText},Pr(e,r,n-r+1,[["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t]])),e}function wF(e,t,n){let r=0;return a;function a(p){return e.enter(M.atxHeading),s(p)}function s(p){return Q(p===F.numberSign,"expected `#`"),e.enter(M.atxHeadingSequence),o(p)}function o(p){return p===F.numberSign&&r++<De.atxHeadingOpeningFenceSizeMax?(e.consume(p),o):p===F.eof||Bn(p)?(e.exit(M.atxHeadingSequence),l(p)):n(p)}function l(p){return p===F.numberSign?(e.enter(M.atxHeadingSequence),u(p)):p===F.eof||We(p)?(e.exit(M.atxHeading),t(p)):Tt(p)?Dt(e,l,M.whitespace)(p):(e.enter(M.atxHeadingText),d(p))}function u(p){return p===F.numberSign?(e.consume(p),u):(e.exit(M.atxHeadingSequence),l(p))}function d(p){return p===F.eof||p===F.numberSign||Bn(p)?(e.exit(M.atxHeadingText),l(p)):(e.consume(p),d)}}const kF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wm=["pre","script","style","textarea"],CF={concrete:!0,name:"htmlFlow",resolveTo:TF,tokenize:AF},SF={partial:!0,tokenize:jF},EF={partial:!0,tokenize:IF};function TF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type===M.htmlFlow););return t>1&&e[t-2][1].type===M.linePrefix&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function AF(e,t,n){const r=this;let a,s,o,l,u;return d;function d(z){return p(z)}function p(z){return Q(z===F.lessThan,"expected `<`"),e.enter(M.htmlFlow),e.enter(M.htmlFlowData),e.consume(z),h}function h(z){return z===F.exclamationMark?(e.consume(z),g):z===F.slash?(e.consume(z),s=!0,_):z===F.questionMark?(e.consume(z),a=De.htmlInstruction,r.interrupt?t:N):Nr(z)?(Q(z!==null),e.consume(z),o=String.fromCharCode(z),x):n(z)}function g(z){return z===F.dash?(e.consume(z),a=De.htmlComment,v):z===F.leftSquareBracket?(e.consume(z),a=De.htmlCdata,l=0,y):Nr(z)?(e.consume(z),a=De.htmlDeclaration,r.interrupt?t:N):n(z)}function v(z){return z===F.dash?(e.consume(z),r.interrupt?t:N):n(z)}function y(z){const Me=De.cdataOpeningString;return z===Me.charCodeAt(l++)?(e.consume(z),l===Me.length?r.interrupt?t:le:y):n(z)}function _(z){return Nr(z)?(Q(z!==null),e.consume(z),o=String.fromCharCode(z),x):n(z)}function x(z){if(z===F.eof||z===F.slash||z===F.greaterThan||Bn(z)){const Me=z===F.slash,de=o.toLowerCase();return!Me&&!s&&Wm.includes(de)?(a=De.htmlRaw,r.interrupt?t(z):le(z)):kF.includes(o.toLowerCase())?(a=De.htmlBasic,Me?(e.consume(z),k):r.interrupt?t(z):le(z)):(a=De.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):s?T(z):A(z))}return z===F.dash||Xn(z)?(e.consume(z),o+=String.fromCharCode(z),x):n(z)}function k(z){return z===F.greaterThan?(e.consume(z),r.interrupt?t:le):n(z)}function T(z){return Tt(z)?(e.consume(z),T):Y(z)}function A(z){return z===F.slash?(e.consume(z),Y):z===F.colon||z===F.underscore||Nr(z)?(e.consume(z),I):Tt(z)?(e.consume(z),A):Y(z)}function I(z){return z===F.dash||z===F.dot||z===F.colon||z===F.underscore||Xn(z)?(e.consume(z),I):$(z)}function $(z){return z===F.equalsTo?(e.consume(z),O):Tt(z)?(e.consume(z),$):A(z)}function O(z){return z===F.eof||z===F.lessThan||z===F.equalsTo||z===F.greaterThan||z===F.graveAccent?n(z):z===F.quotationMark||z===F.apostrophe?(e.consume(z),u=z,U):Tt(z)?(e.consume(z),O):B(z)}function U(z){return z===u?(e.consume(z),u=null,G):z===F.eof||We(z)?n(z):(e.consume(z),U)}function B(z){return z===F.eof||z===F.quotationMark||z===F.apostrophe||z===F.slash||z===F.lessThan||z===F.equalsTo||z===F.greaterThan||z===F.graveAccent||Bn(z)?$(z):(e.consume(z),B)}function G(z){return z===F.slash||z===F.greaterThan||Tt(z)?A(z):n(z)}function Y(z){return z===F.greaterThan?(e.consume(z),q):n(z)}function q(z){return z===F.eof||We(z)?le(z):Tt(z)?(e.consume(z),q):n(z)}function le(z){return z===F.dash&&a===De.htmlComment?(e.consume(z),L):z===F.lessThan&&a===De.htmlRaw?(e.consume(z),Se):z===F.greaterThan&&a===De.htmlDeclaration?(e.consume(z),Ae):z===F.questionMark&&a===De.htmlInstruction?(e.consume(z),N):z===F.rightSquareBracket&&a===De.htmlCdata?(e.consume(z),pe):We(z)&&(a===De.htmlBasic||a===De.htmlComplete)?(e.exit(M.htmlFlowData),e.check(SF,oe,R)(z)):z===F.eof||We(z)?(e.exit(M.htmlFlowData),R(z)):(e.consume(z),le)}function R(z){return e.check(EF,J,oe)(z)}function J(z){return Q(We(z)),e.enter(M.lineEnding),e.consume(z),e.exit(M.lineEnding),w}function w(z){return z===F.eof||We(z)?R(z):(e.enter(M.htmlFlowData),le(z))}function L(z){return z===F.dash?(e.consume(z),N):le(z)}function Se(z){return z===F.slash?(e.consume(z),o="",ce):le(z)}function ce(z){if(z===F.greaterThan){const Me=o.toLowerCase();return Wm.includes(Me)?(e.consume(z),Ae):le(z)}return Nr(z)&&o.length<De.htmlRawSizeMax?(Q(z!==null),e.consume(z),o+=String.fromCharCode(z),ce):le(z)}function pe(z){return z===F.rightSquareBracket?(e.consume(z),N):le(z)}function N(z){return z===F.greaterThan?(e.consume(z),Ae):z===F.dash&&a===De.htmlComment?(e.consume(z),N):le(z)}function Ae(z){return z===F.eof||We(z)?(e.exit(M.htmlFlowData),oe(z)):(e.consume(z),Ae)}function oe(z){return e.exit(M.htmlFlow),t(z)}}function IF(e,t,n){const r=this;return a;function a(o){return We(o)?(e.enter(M.lineEnding),e.consume(o),e.exit(M.lineEnding),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function jF(e,t,n){return r;function r(a){return Q(We(a),"expected a line ending"),e.enter(M.lineEnding),e.consume(a),e.exit(M.lineEnding),e.attempt(Ml,t,n)}}const RF={name:"htmlText",tokenize:OF};function OF(e,t,n){const r=this;let a,s,o;return l;function l(N){return Q(N===F.lessThan,"expected `<`"),e.enter(M.htmlText),e.enter(M.htmlTextData),e.consume(N),u}function u(N){return N===F.exclamationMark?(e.consume(N),d):N===F.slash?(e.consume(N),$):N===F.questionMark?(e.consume(N),A):Nr(N)?(e.consume(N),B):n(N)}function d(N){return N===F.dash?(e.consume(N),p):N===F.leftSquareBracket?(e.consume(N),s=0,y):Nr(N)?(e.consume(N),T):n(N)}function p(N){return N===F.dash?(e.consume(N),v):n(N)}function h(N){return N===F.eof?n(N):N===F.dash?(e.consume(N),g):We(N)?(o=h,Se(N)):(e.consume(N),h)}function g(N){return N===F.dash?(e.consume(N),v):h(N)}function v(N){return N===F.greaterThan?L(N):N===F.dash?g(N):h(N)}function y(N){const Ae=De.cdataOpeningString;return N===Ae.charCodeAt(s++)?(e.consume(N),s===Ae.length?_:y):n(N)}function _(N){return N===F.eof?n(N):N===F.rightSquareBracket?(e.consume(N),x):We(N)?(o=_,Se(N)):(e.consume(N),_)}function x(N){return N===F.rightSquareBracket?(e.consume(N),k):_(N)}function k(N){return N===F.greaterThan?L(N):N===F.rightSquareBracket?(e.consume(N),k):_(N)}function T(N){return N===F.eof||N===F.greaterThan?L(N):We(N)?(o=T,Se(N)):(e.consume(N),T)}function A(N){return N===F.eof?n(N):N===F.questionMark?(e.consume(N),I):We(N)?(o=A,Se(N)):(e.consume(N),A)}function I(N){return N===F.greaterThan?L(N):A(N)}function $(N){return Nr(N)?(e.consume(N),O):n(N)}function O(N){return N===F.dash||Xn(N)?(e.consume(N),O):U(N)}function U(N){return We(N)?(o=U,Se(N)):Tt(N)?(e.consume(N),U):L(N)}function B(N){return N===F.dash||Xn(N)?(e.consume(N),B):N===F.slash||N===F.greaterThan||Bn(N)?G(N):n(N)}function G(N){return N===F.slash?(e.consume(N),L):N===F.colon||N===F.underscore||Nr(N)?(e.consume(N),Y):We(N)?(o=G,Se(N)):Tt(N)?(e.consume(N),G):L(N)}function Y(N){return N===F.dash||N===F.dot||N===F.colon||N===F.underscore||Xn(N)?(e.consume(N),Y):q(N)}function q(N){return N===F.equalsTo?(e.consume(N),le):We(N)?(o=q,Se(N)):Tt(N)?(e.consume(N),q):G(N)}function le(N){return N===F.eof||N===F.lessThan||N===F.equalsTo||N===F.greaterThan||N===F.graveAccent?n(N):N===F.quotationMark||N===F.apostrophe?(e.consume(N),a=N,R):We(N)?(o=le,Se(N)):Tt(N)?(e.consume(N),le):(e.consume(N),J)}function R(N){return N===a?(e.consume(N),a=void 0,w):N===F.eof?n(N):We(N)?(o=R,Se(N)):(e.consume(N),R)}function J(N){return N===F.eof||N===F.quotationMark||N===F.apostrophe||N===F.lessThan||N===F.equalsTo||N===F.graveAccent?n(N):N===F.slash||N===F.greaterThan||Bn(N)?G(N):(e.consume(N),J)}function w(N){return N===F.slash||N===F.greaterThan||Bn(N)?G(N):n(N)}function L(N){return N===F.greaterThan?(e.consume(N),e.exit(M.htmlTextData),e.exit(M.htmlText),t):n(N)}function Se(N){return Q(o,"expected return state"),Q(We(N),"expected eol"),e.exit(M.htmlTextData),e.enter(M.lineEnding),e.consume(N),e.exit(M.lineEnding),ce}function ce(N){return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Tt(N)?Dt(e,pe,M.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize)(N):pe(N)}function pe(N){return e.enter(M.htmlTextData),o(N)}}const cp={name:"labelEnd",resolveAll:$F,resolveTo:NF,tokenize:PF},zF={tokenize:DF},MF={tokenize:LF},FF={tokenize:BF};function $F(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type===M.labelImage||r.type===M.labelLink||r.type===M.labelEnd){const a=r.type===M.labelImage?4:2;r.type=M.data,t+=a}}return e.length!==n.length&&Pr(e,0,e.length,n),e}function NF(e,t){let n=e.length,r=0,a,s,o,l;for(;n--;)if(a=e[n][1],s){if(a.type===M.link||a.type===M.labelLink&&a._inactive)break;e[n][0]==="enter"&&a.type===M.labelLink&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type===M.labelImage||a.type===M.labelLink)&&!a._balanced&&(s=n,a.type!==M.labelLink)){r=2;break}}else a.type===M.labelEnd&&(o=n);Q(s!==void 0,"`open` is supposed to be found"),Q(o!==void 0,"`close` is supposed to be found");const u={type:e[s][1].type===M.labelLink?M.link:M.image,start:{...e[s][1].start},end:{...e[e.length-1][1].end}},d={type:M.label,start:{...e[s][1].start},end:{...e[o][1].end}},p={type:M.labelText,start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",d,t]],l=mr(l,e.slice(s+1,s+r+3)),l=mr(l,[["enter",p,t]]),Q(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),l=mr(l,lp(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=mr(l,[["exit",p,t],e[o-2],e[o-1],["exit",d,t]]),l=mr(l,e.slice(o+1)),l=mr(l,[["exit",u,t]]),Pr(e,s,e.length,l),e}function PF(e,t,n){const r=this;let a=r.events.length,s,o;for(;a--;)if((r.events[a][1].type===M.labelImage||r.events[a][1].type===M.labelLink)&&!r.events[a][1]._balanced){s=r.events[a][1];break}return l;function l(g){return Q(g===F.rightSquareBracket,"expected `]`"),s?s._inactive?h(g):(o=r.parser.defined.includes(Ai(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter(M.labelEnd),e.enter(M.labelMarker),e.consume(g),e.exit(M.labelMarker),e.exit(M.labelEnd),u):n(g)}function u(g){return g===F.leftParenthesis?e.attempt(zF,p,o?p:h)(g):g===F.leftSquareBracket?e.attempt(MF,p,o?d:h)(g):o?p(g):h(g)}function d(g){return e.attempt(FF,p,h)(g)}function p(g){return t(g)}function h(g){return s._balanced=!0,n(g)}}function DF(e,t,n){return r;function r(h){return Q(h===F.leftParenthesis,"expected left paren"),e.enter(M.resource),e.enter(M.resourceMarker),e.consume(h),e.exit(M.resourceMarker),a}function a(h){return Bn(h)?wo(e,s)(h):s(h)}function s(h){return h===F.rightParenthesis?p(h):$b(e,o,l,M.resourceDestination,M.resourceDestinationLiteral,M.resourceDestinationLiteralMarker,M.resourceDestinationRaw,M.resourceDestinationString,De.linkResourceDestinationBalanceMax)(h)}function o(h){return Bn(h)?wo(e,u)(h):p(h)}function l(h){return n(h)}function u(h){return h===F.quotationMark||h===F.apostrophe||h===F.leftParenthesis?Pb(e,d,n,M.resourceTitle,M.resourceTitleMarker,M.resourceTitleString)(h):p(h)}function d(h){return Bn(h)?wo(e,p)(h):p(h)}function p(h){return h===F.rightParenthesis?(e.enter(M.resourceMarker),e.consume(h),e.exit(M.resourceMarker),e.exit(M.resource),t):n(h)}}function LF(e,t,n){const r=this;return a;function a(l){return Q(l===F.leftSquareBracket,"expected left bracket"),Nb.call(r,e,s,o,M.reference,M.referenceMarker,M.referenceString)(l)}function s(l){return r.parser.defined.includes(Ai(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function BF(e,t,n){return r;function r(s){return Q(s===F.leftSquareBracket,"expected left bracket"),e.enter(M.reference),e.enter(M.referenceMarker),e.consume(s),e.exit(M.referenceMarker),a}function a(s){return s===F.rightSquareBracket?(e.enter(M.referenceMarker),e.consume(s),e.exit(M.referenceMarker),e.exit(M.reference),t):n(s)}}const UF={name:"labelStartImage",resolveAll:cp.resolveAll,tokenize:ZF};function ZF(e,t,n){const r=this;return a;function a(l){return Q(l===F.exclamationMark,"expected `!`"),e.enter(M.labelImage),e.enter(M.labelImageMarker),e.consume(l),e.exit(M.labelImageMarker),s}function s(l){return l===F.leftSquareBracket?(e.enter(M.labelMarker),e.consume(l),e.exit(M.labelMarker),e.exit(M.labelImage),o):n(l)}function o(l){return l===F.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const HF={name:"labelStartLink",resolveAll:cp.resolveAll,tokenize:qF};function qF(e,t,n){const r=this;return a;function a(o){return Q(o===F.leftSquareBracket,"expected `[`"),e.enter(M.labelLink),e.enter(M.labelMarker),e.consume(o),e.exit(M.labelMarker),e.exit(M.labelLink),s}function s(o){return o===F.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const _u={name:"lineEnding",tokenize:WF};function WF(e,t){return n;function n(r){return Q(We(r),"expected eol"),e.enter(M.lineEnding),e.consume(r),e.exit(M.lineEnding),Dt(e,t,M.linePrefix)}}const Gs={name:"thematicBreak",tokenize:VF};function VF(e,t,n){let r=0,a;return s;function s(d){return e.enter(M.thematicBreak),o(d)}function o(d){return Q(d===F.asterisk||d===F.dash||d===F.underscore,"expected `*`, `-`, or `_`"),a=d,l(d)}function l(d){return d===a?(e.enter(M.thematicBreakSequence),u(d)):r>=De.thematicBreakMarkerCountMin&&(d===F.eof||We(d))?(e.exit(M.thematicBreak),t(d)):n(d)}function u(d){return d===a?(e.consume(d),r++,u):(e.exit(M.thematicBreakSequence),Tt(d)?Dt(e,l,M.whitespace)(d):l(d))}}const Dn={continuation:{tokenize:YF},exit:QF,name:"list",tokenize:KF},GF={partial:!0,tokenize:e$},JF={partial:!0,tokenize:XF};function KF(e,t,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type===M.linePrefix?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(v){Q(r.containerState,"expected state");const y=r.containerState.type||(v===F.asterisk||v===F.plusSign||v===F.dash?M.listUnordered:M.listOrdered);if(y===M.listUnordered?!r.containerState.marker||v===r.containerState.marker:pd(v)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y===M.listUnordered)return e.enter(M.listItemPrefix),v===F.asterisk||v===F.dash?e.check(Gs,n,d)(v):d(v);if(!r.interrupt||v===F.digit1)return e.enter(M.listItemPrefix),e.enter(M.listItemValue),u(v)}return n(v)}function u(v){return Q(r.containerState,"expected state"),pd(v)&&++o<De.listItemValueSizeMax?(e.consume(v),u):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===F.rightParenthesis||v===F.dot)?(e.exit(M.listItemValue),d(v)):n(v)}function d(v){return Q(r.containerState,"expected state"),Q(v!==F.eof,"eof (`null`) is not a marker"),e.enter(M.listItemMarker),e.consume(v),e.exit(M.listItemMarker),r.containerState.marker=r.containerState.marker||v,e.check(Ml,r.interrupt?n:p,e.attempt(GF,g,h))}function p(v){return Q(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,s++,g(v)}function h(v){return Tt(v)?(e.enter(M.listItemPrefixWhitespace),e.consume(v),e.exit(M.listItemPrefixWhitespace),g):n(v)}function g(v){return Q(r.containerState,"expected state"),r.containerState.size=s+r.sliceSerialize(e.exit(M.listItemPrefix),!0).length,t(v)}}function YF(e,t,n){const r=this;return Q(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(Ml,a,s);function a(l){return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Dt(e,t,M.listItemIndent,r.containerState.size+1)(l)}function s(l){return Q(r.containerState,"expected state"),r.containerState.furtherBlankLines||!Tt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(JF,t,o)(l))}function o(l){return Q(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,e.attempt(Dn,t,n),M.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize)(l)}}function XF(e,t,n){const r=this;return Q(r.containerState,"expected state"),Q(typeof r.containerState.size=="number","expected size"),Dt(e,a,M.listItemIndent,r.containerState.size+1);function a(s){Q(r.containerState,"expected state");const o=r.events[r.events.length-1];return o&&o[1].type===M.listItemIndent&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function QF(e){Q(this.containerState,"expected state"),Q(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function e$(e,t,n){const r=this;return Q(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Dt(e,a,M.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:De.tabSize+1);function a(s){const o=r.events[r.events.length-1];return!Tt(s)&&o&&o[1].type===M.listItemPrefixWhitespace?t(s):n(s)}}const Vm={name:"setextUnderline",resolveTo:t$,tokenize:n$};function t$(e,t){let n=e.length,r,a,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type===M.content){r=n;break}e[n][1].type===M.paragraph&&(a=n)}else e[n][1].type===M.content&&e.splice(n,1),!s&&e[n][1].type===M.definition&&(s=n);Q(a!==void 0,"expected a `text` index to be found"),Q(r!==void 0,"expected a `text` index to be found"),Q(e[r][2]===t,"enter context should be same"),Q(e[e.length-1][2]===t,"enter context should be same");const o={type:M.setextHeading,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type=M.setextHeadingText,s?(e.splice(a,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function n$(e,t,n){const r=this;let a;return s;function s(d){let p=r.events.length,h;for(Q(d===F.dash||d===F.equalsTo,"expected `=` or `-`");p--;)if(r.events[p][1].type!==M.lineEnding&&r.events[p][1].type!==M.linePrefix&&r.events[p][1].type!==M.content){h=r.events[p][1].type===M.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter(M.setextHeadingLine),a=d,o(d)):n(d)}function o(d){return e.enter(M.setextHeadingLineSequence),l(d)}function l(d){return d===a?(e.consume(d),l):(e.exit(M.setextHeadingLineSequence),Tt(d)?Dt(e,u,M.lineSuffix)(d):u(d))}function u(d){return d===F.eof||We(d)?(e.exit(M.setextHeadingLine),t(d)):n(d)}}const r$={tokenize:a$};function a$(e){const t=this,n=e.attempt(Ml,r,e.attempt(this.parser.constructs.flowInitial,a,Dt(e,e.attempt(this.parser.constructs.flow,a,e.attempt(cF,a)),M.linePrefix)));return n;function r(s){if(Q(s===F.eof||We(s),"expected eol or eof"),s===F.eof){e.consume(s);return}return e.enter(M.lineEndingBlank),e.consume(s),e.exit(M.lineEndingBlank),t.currentConstruct=void 0,n}function a(s){if(Q(s===F.eof||We(s),"expected eol or eof"),s===F.eof){e.consume(s);return}return e.enter(M.lineEnding),e.consume(s),e.exit(M.lineEnding),t.currentConstruct=void 0,n}}const i$={resolveAll:Lb()},o$=Db("string"),s$=Db("text");function Db(e){return{resolveAll:Lb(e==="text"?l$:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],s=n.attempt(a,o,l);return o;function o(p){return d(p)?s(p):l(p)}function l(p){if(p===F.eof){n.consume(p);return}return n.enter(M.data),n.consume(p),u}function u(p){return d(p)?(n.exit(M.data),s(p)):(n.consume(p),u)}function d(p){if(p===F.eof)return!0;const h=a[p];let g=-1;if(h)for(Q(Array.isArray(h),"expected `disable.null` to be populated");++g<h.length;){const v=h[g];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function Lb(e){return t;function t(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type===M.data&&(s=a,a++):(!n[a]||n[a][1].type!==M.data)&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return e?e(n,r):n}}function l$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===M.lineEnding)&&e[n-1][1].type===M.data){const r=e[n-1][1],a=t.sliceStream(r);let s=a.length,o=-1,l=0,u;for(;s--;){const d=a[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===F.space;)l++,o--;if(o)break;o=-1}else if(d===F.horizontalTab)u=!0,l++;else if(d!==F.virtualSpace){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const d={type:n===e.length||u||l<De.hardBreakPrefixSizeMin?M.lineSuffix:M.hardBreakTrailing,start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const c$={[F.asterisk]:Dn,[F.plusSign]:Dn,[F.dash]:Dn,[F.digit0]:Dn,[F.digit1]:Dn,[F.digit2]:Dn,[F.digit3]:Dn,[F.digit4]:Dn,[F.digit5]:Dn,[F.digit6]:Dn,[F.digit7]:Dn,[F.digit8]:Dn,[F.digit9]:Dn,[F.greaterThan]:Rb},u$={[F.leftSquareBracket]:hF},d$={[F.horizontalTab]:xu,[F.virtualSpace]:xu,[F.space]:xu},p$={[F.numberSign]:xF,[F.asterisk]:Gs,[F.dash]:[Vm,Gs],[F.lessThan]:CF,[F.equalsTo]:Vm,[F.underscore]:Gs,[F.graveAccent]:qm,[F.tilde]:qm},f$={[F.ampersand]:zb,[F.backslash]:Ob},h$={[F.carriageReturn]:_u,[F.lineFeed]:_u,[F.carriageReturnLineFeed]:_u,[F.exclamationMark]:UF,[F.ampersand]:zb,[F.asterisk]:fd,[F.lessThan]:[qM,RF],[F.leftSquareBracket]:HF,[F.backslash]:[vF,Ob],[F.rightSquareBracket]:cp,[F.underscore]:fd,[F.graveAccent]:aF},m$={null:[fd,i$]},g$={null:[F.asterisk,F.underscore]},y$={null:[]},v$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:g$,contentInitial:u$,disable:y$,document:c$,flow:p$,flowInitial:d$,insideSpan:m$,string:f$,text:h$},Symbol.toStringTag,{value:"Module"}));var hd={exports:{}},wu,Gm;function b$(){if(Gm)return wu;Gm=1;var e=1e3,t=e*60,n=t*60,r=n*24,a=r*7,s=r*365.25;wu=function(p,h){h=h||{};var g=typeof p;if(g==="string"&&p.length>0)return o(p);if(g==="number"&&isFinite(p))return h.long?u(p):l(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function o(p){if(p=String(p),!(p.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(h){var g=parseFloat(h[1]),v=(h[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*a;case"days":case"day":case"d":return g*r;case"hours":case"hour":case"hrs":case"hr":case"h":return g*n;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(p){var h=Math.abs(p);return h>=r?Math.round(p/r)+"d":h>=n?Math.round(p/n)+"h":h>=t?Math.round(p/t)+"m":h>=e?Math.round(p/e)+"s":p+"ms"}function u(p){var h=Math.abs(p);return h>=r?d(p,h,r,"day"):h>=n?d(p,h,n,"hour"):h>=t?d(p,h,t,"minute"):h>=e?d(p,h,e,"second"):p+" ms"}function d(p,h,g,v){var y=h>=g*1.5;return Math.round(p/g)+" "+v+(y?"s":"")}return wu}function x$(e){n.debug=n,n.default=n,n.coerce=u,n.disable=s,n.enable=a,n.enabled=o,n.humanize=b$(),n.destroy=d,Object.keys(e).forEach(p=>{n[p]=e[p]}),n.names=[],n.skips=[],n.formatters={};function t(p){let h=0;for(let g=0;g<p.length;g++)h=(h<<5)-h+p.charCodeAt(g),h|=0;return n.colors[Math.abs(h)%n.colors.length]}n.selectColor=t;function n(p){let h,g=null,v,y;function _(...x){if(!_.enabled)return;const k=_,T=Number(new Date),A=T-(h||T);k.diff=A,k.prev=h,k.curr=T,h=T,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let I=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(O,U)=>{if(O==="%%")return"%";I++;const B=n.formatters[U];if(typeof B=="function"){const G=x[I];O=B.call(k,G),x.splice(I,1),I--}return O}),n.formatArgs.call(k,x),(k.log||n.log).apply(k,x)}return _.namespace=p,_.useColors=n.useColors(),_.color=n.selectColor(p),_.extend=r,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(v!==n.namespaces&&(v=n.namespaces,y=n.enabled(p)),y),set:x=>{g=x}}),typeof n.init=="function"&&n.init(_),_}function r(p,h){const g=n(this.namespace+(typeof h>"u"?":":h)+p);return g.log=this.log,g}function a(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let h;const g=(typeof p=="string"?p:"").split(/[\s,]+/),v=g.length;for(h=0;h<v;h++)g[h]&&(p=g[h].replace(/\*/g,".*?"),p[0]==="-"?n.skips.push(new RegExp("^"+p.slice(1)+"$")):n.names.push(new RegExp("^"+p+"$")))}function s(){const p=[...n.names.map(l),...n.skips.map(l).map(h=>"-"+h)].join(",");return n.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let h,g;for(h=0,g=n.skips.length;h<g;h++)if(n.skips[h].test(p))return!1;for(h=0,g=n.names.length;h<g;h++)if(n.names[h].test(p))return!0;return!1}function l(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function u(p){return p instanceof Error?p.stack||p.message:p}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var _$=x$;(function(e,t){var n={},r={};t.formatArgs=s,t.save=o,t.load=l,t.useColors=a,t.storage=u(),t.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;p.splice(1,0,h,"color: inherit");let g=0,v=0;p[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(g++,y==="%c"&&(v=g))}),p.splice(v,0,h)}t.log=console.debug||console.log||(()=>{});function o(p){try{p?t.storage.setItem("debug",p):t.storage.removeItem("debug")}catch{}}function l(){let p;try{p=t.storage.getItem("debug")}catch{}return!p&&typeof n<"u"&&"env"in n&&(p=r.DEBUG),p}function u(){try{return localStorage}catch{}}e.exports=_$(t);const{formatters:d}=e.exports;d.j=function(p){try{return JSON.stringify(p)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(hd,hd.exports);var w$=hd.exports;const k$=ka(w$),Na=k$("micromark");function C$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let o=[],l=[],u=!0;const d={attempt:G(U),check:G(B),consume:I,enter:$,exit:O,interrupt:G(B,{interrupt:!0})},p={code:F.eof,containerState:{},defineSkip:k,events:[],now:x,parser:e,previous:F.eof,sliceSerialize:y,sliceStream:_,write:v};let h=t.tokenize.call(p,d),g;return t.resolveAll&&s.push(t),p;function v(R){return o=mr(o,R),T(),o[o.length-1]!==F.eof?[]:(Y(t,0),p.events=lp(s,p.events,p),p.events)}function y(R,J){return E$(_(R),J)}function _(R){return S$(o,R)}function x(){const{_bufferIndex:R,_index:J,line:w,column:L,offset:Se}=r;return{_bufferIndex:R,_index:J,line:w,column:L,offset:Se}}function k(R){a[R.line]=R.column,le(),Na("position: define skip: `%j`",r)}function T(){let R;for(;r._index<o.length;){const J=o[r._index];if(typeof J=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<J.length;)A(J.charCodeAt(r._bufferIndex));else A(J)}}function A(R){Q(u===!0,"expected character to be consumed"),u=void 0,Na("main: passing `%s` to %s",R,h&&h.name),g=R,Q(typeof h=="function","expected state"),h=h(R)}function I(R){Q(R===g,"expected given code to equal expected code"),Na("consume: `%s`",R),Q(u===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),Q(R===null?p.events.length===0||p.events[p.events.length-1][0]==="exit":p.events[p.events.length-1][0]==="enter","expected last token to be open"),We(R)?(r.line++,r.column=1,r.offset+=R===F.carriageReturnLineFeed?2:1,le(),Na("position: after eol: `%j`",r)):R!==F.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=R,u=!0}function $(R,J){const w=J||{};return w.type=R,w.start=x(),Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string"),Na("enter: `%s`",R),p.events.push(["enter",w,p]),l.push(w),w}function O(R){Q(typeof R=="string","expected string type"),Q(R.length>0,"expected non-empty string");const J=l.pop();return Q(J,"cannot close w/o open tokens"),J.end=x(),Q(R===J.type,"expected exit token to match current token"),Q(!(J.start._index===J.end._index&&J.start._bufferIndex===J.end._bufferIndex),"expected non-empty token (`"+R+"`)"),Na("exit: `%s`",J.type),p.events.push(["exit",J,p]),J}function U(R,J){Y(R,J.from)}function B(R,J){J.restore()}function G(R,J){return w;function w(L,Se,ce){let pe,N,Ae,oe;return Array.isArray(L)?Me(L):"tokenize"in L?Me([L]):z(L);function z(He){return he;function he(Fe){const be=Fe!==null&&He[Fe],Oe=Fe!==null&&He.null,Qe=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return Me(Qe)(Fe)}}function Me(He){return pe=He,N=0,He.length===0?(Q(ce,"expected `bogusState` to be given"),ce):de(He[N])}function de(He){return he;function he(Fe){return oe=q(),Ae=He,He.partial||(p.currentConstruct=He),Q(p.parser.constructs.disable.null,"expected `disable.null` to be populated"),He.name&&p.parser.constructs.disable.null.includes(He.name)?nt(Fe):He.tokenize.call(J?Object.assign(Object.create(p),J):p,d,ue,nt)(Fe)}}function ue(He){return Q(He===g,"expected code"),u=!0,R(Ae,oe),Se}function nt(He){return Q(He===g,"expected code"),u=!0,oe.restore(),++N<pe.length?de(pe[N]):ce}}}function Y(R,J){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Pr(p.events,J,p.events.length-J,R.resolve(p.events.slice(J),p)),R.resolveTo&&(p.events=R.resolveTo(p.events,p)),Q(R.partial||p.events.length===0||p.events[p.events.length-1][0]==="exit","expected last token to end")}function q(){const R=x(),J=p.previous,w=p.currentConstruct,L=p.events.length,Se=Array.from(l);return{from:L,restore:ce};function ce(){r=R,p.previous=J,p.currentConstruct=w,p.events.length=L,l=Se,le(),Na("position: restore: `%j`",r)}}function le(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function S$(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;let o;if(n===a)Q(s>-1,"expected non-negative end buffer index"),Q(r>-1,"expected non-negative start buffer index"),o=[e[n].slice(r,s)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):(Q(r===0,"expected `startBufferIndex` to be `0`"),o.shift())}s>0&&o.push(e[a].slice(0,s))}return o}function E$(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case F.carriageReturn:{o=$r.cr;break}case F.lineFeed:{o=$r.lf;break}case F.carriageReturnLineFeed:{o=$r.cr+$r.lf;break}case F.horizontalTab:{o=t?$r.space:$r.ht;break}case F.virtualSpace:{if(!t&&a)continue;o=$r.space;break}default:Q(typeof s=="number","expected number"),o=String.fromCharCode(s)}a=s===F.horizontalTab,r.push(o)}return r.join("")}function T$(e){const r={constructs:jM([v$,...(e||{}).extensions||[]]),content:a(PM),defined:[],document:a(LM),flow:a(r$),lazy:{},string:a(o$),text:a(s$)};return r;function a(s){return o;function o(l){return C$(r,s,l)}}}function A$(e){for(;!Fb(e););return e}const Jm=/[\0\t\n\r]/g;function I$(){let e=1,t="",n=!0,r;return a;function a(s,o,l){const u=[];let d,p,h,g,v;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===F.byteOrderMarker&&h++,n=void 0);h<s.length;){if(Jm.lastIndex=h,d=Jm.exec(s),g=d&&d.index!==void 0?d.index:s.length,v=s.charCodeAt(g),!d){t=s.slice(h);break}if(v===F.lf&&h===g&&r)u.push(F.carriageReturnLineFeed),r=void 0;else switch(r&&(u.push(F.carriageReturn),r=void 0),h<g&&(u.push(s.slice(h,g)),e+=g-h),v){case F.nul:{u.push(F.replacementCharacter),e++;break}case F.ht:{for(p=Math.ceil(e/De.tabSize)*De.tabSize,u.push(F.horizontalTab);e++<p;)u.push(F.virtualSpace);break}case F.lf:{u.push(F.lineFeed),e=1;break}default:r=!0,e=1}h=g+1}return l&&(r&&u.push(F.carriageReturn),t&&u.push(t),u.push(F.eof)),u}}const j$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function R$(e){return e.replace(j$,O$)}function O$(e,t,n){if(t)return t;if(n.charCodeAt(0)===F.numberSign){const a=n.charCodeAt(1),s=a===F.lowercaseX||a===F.uppercaseX;return jb(n.slice(s?2:1),s?De.numericBaseHexadecimal:De.numericBaseDecimal)}return sp(n)||e}const Bb={}.hasOwnProperty;function z$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),M$(n)(A$(T$(n).document().write(I$()(e,t,!0))))}function M$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(C),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(S),blockQuote:s(Fe),characterEscape:G,characterReference:G,codeFenced:s(be),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(be,o),codeText:s(Oe,o),codeTextData:G,data:G,codeFlowValue:G,definition:s(Qe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(et),hardBreakEscape:s(fe),hardBreakTrailing:s(fe),htmlFlow:s(V,o),htmlFlowData:G,htmlText:s(V,o),htmlTextData:G,image:s(D),label:o,link:s(C),listItem:s(_e),listItemValue:g,listOrdered:s(ee,h),listUnordered:s(ee),paragraph:s(ke),reference:z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(S),strong:s(re),thematicBreak:s(ye)},exit:{atxHeading:u(),atxHeadingSequence:$,autolink:u(),autolinkEmail:he,autolinkProtocol:He,blockQuote:u(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:ue,characterReference:nt,codeFenced:u(x),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:y,codeFlowValue:Y,codeIndented:u(k),codeText:u(w),codeTextData:Y,data:Y,definition:u(),definitionDestinationString:I,definitionLabelString:T,definitionTitleString:A,emphasis:u(),hardBreakEscape:u(le),hardBreakTrailing:u(le),htmlFlow:u(R),htmlFlowData:Y,htmlText:u(J),htmlTextData:Y,image:u(Se),label:pe,labelText:ce,lineEnding:q,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Me,resourceDestinationString:N,resourceTitleString:Ae,resource:oe,setextHeading:u(B),setextHeadingLineSequence:U,setextHeadingText:O,strong:u(),thematicBreak:u()}};Ub(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let K={type:"root",children:[]};const xe={stack:[K],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:p,data:n},Re=[];let Ze=-1;for(;++Ze<Z.length;)if(Z[Ze][1].type===M.listOrdered||Z[Ze][1].type===M.listUnordered)if(Z[Ze][0]==="enter")Re.push(Ze);else{const pt=Re.pop();Q(typeof pt=="number","expected list ot be open"),Ze=a(Z,pt,Ze)}for(Ze=-1;++Ze<Z.length;){const pt=t[Z[Ze][0]];Bb.call(pt,Z[Ze][1].type)&&pt[Z[Ze][1].type].call(Object.assign({sliceSerialize:Z[Ze][2].sliceSerialize},xe),Z[Ze][1])}if(xe.tokenStack.length>0){const pt=xe.tokenStack[xe.tokenStack.length-1];(pt[1]||Km).call(xe,void 0,pt[0])}for(K.position={start:fa(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:fa(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)K=t.transforms[Ze](K)||K;return K}function a(Z,K,xe){let Re=K-1,Ze=-1,pt=!1,At,_t,it,fn;for(;++Re<=xe;){const wt=Z[Re];switch(wt[1].type){case M.listUnordered:case M.listOrdered:case M.blockQuote:{wt[0]==="enter"?Ze++:Ze--,fn=void 0;break}case M.lineEndingBlank:{wt[0]==="enter"&&(At&&!fn&&!Ze&&!it&&(it=Re),fn=void 0);break}case M.linePrefix:case M.listItemValue:case M.listItemMarker:case M.listItemPrefix:case M.listItemPrefixWhitespace:break;default:fn=void 0}if(!Ze&&wt[0]==="enter"&&wt[1].type===M.listItemPrefix||Ze===-1&&wt[0]==="exit"&&(wt[1].type===M.listUnordered||wt[1].type===M.listOrdered)){if(At){let Rt=Re;for(_t=void 0;Rt--;){const ft=Z[Rt];if(ft[1].type===M.lineEnding||ft[1].type===M.lineEndingBlank){if(ft[0]==="exit")continue;_t&&(Z[_t][1].type=M.lineEndingBlank,pt=!0),ft[1].type=M.lineEnding,_t=Rt}else if(!(ft[1].type===M.linePrefix||ft[1].type===M.blockQuotePrefix||ft[1].type===M.blockQuotePrefixWhitespace||ft[1].type===M.blockQuoteMarker||ft[1].type===M.listItemIndent))break}it&&(!_t||it<_t)&&(At._spread=!0),At.end=Object.assign({},_t?Z[_t][1].start:wt[1].end),Z.splice(_t||Re,0,["exit",At,wt[2]]),Re++,xe++}if(wt[1].type===M.listItemPrefix){const Rt={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};At=Rt,Z.splice(Re,0,["enter",Rt,wt[2]]),Re++,xe++,it=void 0,fn=!0}}}return Z[K][1]._spread=pt,xe}function s(Z,K){return xe;function xe(Re){l.call(this,Z(Re),Re),K&&K.call(this,Re)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Z,K,xe){const Re=this.stack[this.stack.length-1];Q(Re,"expected `parent`"),Q("children"in Re,"expected `parent`"),Re.children.push(Z),this.stack.push(Z),this.tokenStack.push([K,xe||void 0]),Z.position={start:fa(K.start),end:void 0}}function u(Z){return K;function K(xe){Z&&Z.call(this,xe),d.call(this,xe)}}function d(Z,K){const xe=this.stack.pop();Q(xe,"expected `node`");const Re=this.tokenStack.pop();if(Re)Re[0].type!==Z.type&&(K?K.call(this,Z,Re[0]):(Re[1]||Km).call(this,Z,Re[0]));else throw new Error("Cannot close `"+Z.type+"` ("+_o({start:Z.start,end:Z.end})+"): its not open");Q(xe.type!=="fragment","unexpected fragment `exit`ed"),Q(xe.position,"expected `position` to be defined"),xe.position.end=fa(Z.end)}function p(){return AM(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(Z){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];Q(K,"expected nodes on stack"),Q(K.type==="list","expected list on stack"),K.start=Number.parseInt(this.sliceSerialize(Z),De.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function v(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="code","expected code on stack"),K.lang=Z}function y(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="code","expected code on stack"),K.meta=Z}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="code","expected code on stack"),K.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="code","expected code on stack"),K.value=Z.replace(/(\r?\n|\r)$/g,"")}function T(Z){const K=this.resume(),xe=this.stack[this.stack.length-1];Q(xe,"expected node on stack"),Q(xe.type==="definition","expected definition on stack"),xe.label=K,xe.identifier=Ai(this.sliceSerialize(Z)).toLowerCase()}function A(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="definition","expected definition on stack"),K.title=Z}function I(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="definition","expected definition on stack"),K.url=Z}function $(Z){const K=this.stack[this.stack.length-1];if(Q(K,"expected node on stack"),Q(K.type==="heading","expected heading on stack"),!K.depth){const xe=this.sliceSerialize(Z).length;Q(xe===1||xe===2||xe===3||xe===4||xe===5||xe===6,"expected `depth` between `1` and `6`"),K.depth=xe}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function U(Z){const K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="heading","expected heading on stack"),K.depth=this.sliceSerialize(Z).codePointAt(0)===F.equalsTo?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function G(Z){const K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q("children"in K,"expected parent on stack");const xe=K.children;let Re=xe[xe.length-1];(!Re||Re.type!=="text")&&(Re=ie(),Re.position={start:fa(Z.start),end:void 0},xe.push(Re)),this.stack.push(Re)}function Y(Z){const K=this.stack.pop();Q(K,"expected a `node` to be on the stack"),Q("value"in K,"expected a `literal` to be on the stack"),Q(K.position,"expected `node` to have an open position"),K.value+=this.sliceSerialize(Z),K.position.end=fa(Z.end)}function q(Z){const K=this.stack[this.stack.length-1];if(Q(K,"expected `node`"),this.data.atHardBreak){Q("children"in K,"expected `parent`");const xe=K.children[K.children.length-1];Q(xe.position,"expected tail to have a starting position"),xe.position.end=fa(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(K.type)&&(G.call(this,Z),Y.call(this,Z))}function le(){this.data.atHardBreak=!0}function R(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="html","expected html on stack"),K.value=Z}function J(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="html","expected html on stack"),K.value=Z}function w(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="inlineCode","expected inline code on stack"),K.value=Z}function L(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="link","expected link on stack"),this.data.inReference){const K=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=K,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function Se(){const Z=this.stack[this.stack.length-1];if(Q(Z,"expected node on stack"),Q(Z.type==="image","expected image on stack"),this.data.inReference){const K=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=K,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function ce(Z){const K=this.sliceSerialize(Z),xe=this.stack[this.stack.length-2];Q(xe,"expected ancestor on stack"),Q(xe.type==="image"||xe.type==="link","expected image or link on stack"),xe.label=R$(K),xe.identifier=Ai(K).toLowerCase()}function pe(){const Z=this.stack[this.stack.length-1];Q(Z,"expected node on stack"),Q(Z.type==="fragment","expected fragment on stack");const K=this.resume(),xe=this.stack[this.stack.length-1];if(Q(xe,"expected node on stack"),Q(xe.type==="image"||xe.type==="link","expected image or link on stack"),this.data.inReference=!0,xe.type==="link"){const Re=Z.children;xe.children=Re}else xe.alt=K}function N(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="image"||K.type==="link","expected image or link on stack"),K.url=Z}function Ae(){const Z=this.resume(),K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="image"||K.type==="link","expected image or link on stack"),K.title=Z}function oe(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function Me(Z){const K=this.resume(),xe=this.stack[this.stack.length-1];Q(xe,"expected node on stack"),Q(xe.type==="image"||xe.type==="link","expected image reference or link reference on stack"),xe.label=K,xe.identifier=Ai(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function de(Z){Q(Z.type==="characterReferenceMarkerNumeric"||Z.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=Z.type}function ue(Z){const K=this.sliceSerialize(Z),xe=this.data.characterReferenceType;let Re;if(xe)Re=jb(K,xe===M.characterReferenceMarkerNumeric?De.numericBaseDecimal:De.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const pt=sp(K);Q(pt!==!1,"expected reference to decode"),Re=pt}const Ze=this.stack[this.stack.length-1];Q(Ze,"expected `node`"),Q("value"in Ze,"expected `node.value`"),Ze.value+=Re}function nt(Z){const K=this.stack.pop();Q(K,"expected `node`"),Q(K.position,"expected `node.position`"),K.position.end=fa(Z.end)}function He(Z){Y.call(this,Z);const K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="link","expected link on stack"),K.url=this.sliceSerialize(Z)}function he(Z){Y.call(this,Z);const K=this.stack[this.stack.length-1];Q(K,"expected node on stack"),Q(K.type==="link","expected link on stack"),K.url="mailto:"+this.sliceSerialize(Z)}function Fe(){return{type:"blockquote",children:[]}}function be(){return{type:"code",lang:null,meta:null,value:""}}function Oe(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function S(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function V(){return{type:"html",value:""}}function D(){return{type:"image",title:null,url:"",alt:null}}function C(){return{type:"link",title:null,url:"",children:[]}}function ee(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function _e(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function ke(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}function fa(e){return{line:e.line,column:e.column,offset:e.offset}}function Ub(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ub(e,r):F$(e,r)}}function F$(e,t){let n;for(n in t)if(Bb.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Km(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+_o({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+_o({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_o({start:t.start,end:t.end})+") is still open")}function $$(e){const t=this;t.parser=n;function n(r){return z$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function N$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function P$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function D$(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function L$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Li(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,d),e.applyData(t,d)}function Z$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Zb(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function q$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Zb(e,t);const a={src:Li(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,s),e.applyData(t,s)}function W$(e,t){const n={src:Li(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function V$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function G$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Zb(e,t);const a={href:Li(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function J$(e,t){const n={href:Li(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function K$(e,t,n){const r=e.all(t),a=n?Y$(n):Hb(t),s={},o=[];if(typeof t.checked=="boolean"){const p=r[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(a||l!==0||p.type!=="element"||p.tagName!=="p")&&o.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?o.push(...p.children):o.push(p)}const u=r[r.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,d),e.applyData(t,d)}function Y$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Hb(n[r])}return t}function Hb(e){const t=e.spread;return t??e.children.length>1}function X$(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Q$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eN(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function tN(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nN(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=rp(t.children[1]),u=kb(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),a.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,s),e.applyData(t,s)}function rN(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let u=-1;const d=[];for(;++u<l;){const h=t.children[u],g={},v=o?o[u]:void 0;v&&(g.align=v);let y={type:"element",tagName:s,properties:g,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),d.push(y)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,p),e.applyData(t,p)}function aN(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ym=9,Xm=32;function iN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const s=[];for(;r;)s.push(Qm(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return s.push(Qm(t.slice(a),a>0,!1)),s.join("")}function Qm(e,t,n){let r=0,a=e.length;if(t){let s=e.codePointAt(r);for(;s===Ym||s===Xm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(a-1);for(;s===Ym||s===Xm;)a--,s=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function oN(e,t){const n={type:"text",value:iN(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sN(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const lN={blockquote:N$,break:P$,code:D$,delete:L$,emphasis:B$,footnoteReference:U$,heading:Z$,html:H$,imageReference:q$,image:W$,inlineCode:V$,linkReference:G$,link:J$,listItem:K$,list:X$,paragraph:Q$,root:eN,strong:tN,table:nN,tableCell:aN,tableRow:rN,text:oN,thematicBreak:sN,toml:Bs,yaml:Bs,definition:Bs,footnoteDefinition:Bs};function Bs(){}const qb=-1,Fl=0,ko=1,sl=2,up=3,dp=4,pp=5,fp=6,Wb=7,Vb=8,eg=typeof self=="object"?self:globalThis,cN=(e,t)=>{const n=(a,s)=>(e.set(s,a),a),r=a=>{if(e.has(a))return e.get(a);const[s,o]=t[a];switch(s){case Fl:case qb:return n(o,a);case ko:{const l=n([],a);for(const u of o)l.push(r(u));return l}case sl:{const l=n({},a);for(const[u,d]of o)l[r(u)]=r(d);return l}case up:return n(new Date(o),a);case dp:{const{source:l,flags:u}=o;return n(new RegExp(l,u),a)}case pp:{const l=n(new Map,a);for(const[u,d]of o)l.set(r(u),r(d));return l}case fp:{const l=n(new Set,a);for(const u of o)l.add(r(u));return l}case Wb:{const{name:l,message:u}=o;return n(new eg[l](u),a)}case Vb:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new eg[s](o),a)};return r},tg=e=>cN(new Map,e)(0),gi="",{toString:uN}={},{keys:dN}=Object,ho=e=>{const t=typeof e;if(t!=="object"||!e)return[Fl,t];const n=uN.call(e).slice(8,-1);switch(n){case"Array":return[ko,gi];case"Object":return[sl,gi];case"Date":return[up,gi];case"RegExp":return[dp,gi];case"Map":return[pp,gi];case"Set":return[fp,gi];case"DataView":return[ko,n]}return n.includes("Array")?[ko,n]:n.includes("Error")?[Wb,n]:[sl,n]},Us=([e,t])=>e===Fl&&(t==="function"||t==="symbol"),pN=(e,t,n,r)=>{const a=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},s=o=>{if(n.has(o))return n.get(o);let[l,u]=ho(o);switch(l){case Fl:{let p=o;switch(u){case"bigint":l=Vb,p=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return a([qb],o)}return a([l,p],o)}case ko:{if(u){let g=o;return u==="DataView"?g=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(g=new Uint8Array(o)),a([u,[...g]],o)}const p=[],h=a([l,p],o);for(const g of o)p.push(s(g));return h}case sl:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const p=[],h=a([l,p],o);for(const g of dN(o))(e||!Us(ho(o[g])))&&p.push([s(g),s(o[g])]);return h}case up:return a([l,o.toISOString()],o);case dp:{const{source:p,flags:h}=o;return a([l,{source:p,flags:h}],o)}case pp:{const p=[],h=a([l,p],o);for(const[g,v]of o)(e||!(Us(ho(g))||Us(ho(v))))&&p.push([s(g),s(v)]);return h}case fp:{const p=[],h=a([l,p],o);for(const g of o)(e||!Us(ho(g)))&&p.push(s(g));return h}}const{message:d}=o;return a([l,{name:u,message:d}],o)};return s},ng=(e,{json:t,lossy:n}={})=>{const r=[];return pN(!(t||n),!!t,new Map,r)(e),r},ll=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?tg(ng(e,t)):structuredClone(e):(e,t)=>tg(ng(e,t));function fN(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function hN(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mN(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||fN,r=e.options.footnoteBackLabel||hN,a=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const p=e.all(d),h=String(d.identifier).toUpperCase(),g=Li(h.toLowerCase());let v=0;const y=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++v<=_;){y.length>0&&y.push({type:"text",value:" "});let T=typeof n=="string"?n:n(u,v);typeof T=="string"&&(T={type:"text",value:T}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,v),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const x=p[p.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const T=x.children[x.children.length-1];T&&T.type==="text"?T.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...y)}else p.push(...y);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(p,!0)};e.patch(d,k),l.push(k)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ll(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Gb=function(e){if(e==null)return bN;if(typeof e=="function")return $l(e);if(typeof e=="object")return Array.isArray(e)?gN(e):yN(e);if(typeof e=="string")return vN(e);throw new Error("Expected function, string, or object as test")};function gN(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Gb(e[n]);return $l(r);function r(...a){let s=-1;for(;++s<t.length;)if(t[s].apply(this,a))return!0;return!1}}function yN(e){const t=e;return $l(n);function n(r){const a=r;let s;for(s in e)if(a[s]!==t[s])return!1;return!0}}function vN(e){return $l(t);function t(n){return n&&n.type===e}}function $l(e){return t;function t(n,r,a){return!!(xN(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function bN(){return!0}function xN(e){return e!==null&&typeof e=="object"&&"type"in e}const Jb=[],_N=!0,rg=!1,wN="skip";function kN(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const s=Gb(a),o=r?-1:1;l(e,void 0,[])();function l(u,d,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const v=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(u.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=Jb,y,_,x;if((!t||s(u,d,p[p.length-1]||void 0))&&(v=CN(n(u,p)),v[0]===rg))return v;if("children"in u&&u.children){const k=u;if(k.children&&v[0]!==wN)for(_=(r?k.children.length:-1)+o,x=p.concat(k);_>-1&&_<k.children.length;){const T=k.children[_];if(y=l(T,_,x)(),y[0]===rg)return y;_=typeof y[1]=="number"?y[1]:_+o}}return v}}}function CN(e){return Array.isArray(e)?e:typeof e=="number"?[_N,e]:e==null?Jb:[e]}function Kb(e,t,n,r){let a,s,o;typeof t=="function"?(s=void 0,o=t,a=n):(s=t,o=n,a=r),kN(e,s,l,a);function l(u,d){const p=d[d.length-1],h=p?p.children.indexOf(u):void 0;return o(u,h,p)}}const md={}.hasOwnProperty,SN={};function EN(e,t){const n=t||SN,r=new Map,a=new Map,s=new Map,o={...lN,...n.handlers},l={all:d,applyData:AN,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:n,patch:TN,wrap:jN};return Kb(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?r:a,g=String(p.identifier).toUpperCase();h.has(g)||h.set(g,p)}}),l;function u(p,h){const g=p.type,v=l.handlers[g];if(md.call(l.handlers,g)&&v)return v(l,p,h);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in p){const{children:_,...x}=p,k=ll(x);return k.children=l.all(p),k}return ll(p)}return(l.options.unknownHandler||IN)(l,p,h)}function d(p){const h=[];if("children"in p){const g=p.children;let v=-1;for(;++v<g.length;){const y=l.one(g[v],p);if(y){if(v&&g[v-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=ag(y.value)),!Array.isArray(y)&&y.type==="element")){const _=y.children[0];_&&_.type==="text"&&(_.value=ag(_.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function TN(e,t){e.position&&(t.position=oM(e))}function AN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,ll(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function IN(e,t){const n=t.data||{},r="value"in t&&!(md.call(n,"hProperties")||md.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ag(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ig(e,t){const n=EN(e,t),r=n.one(e,void 0),a=mN(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&(Q("children"in s),s.children.push({type:"text",value:`
`},a)),s}function RN(e,t){return e&&"run"in e?async function(n,r){const a=ig(n,{file:r,...t});await e.run(a,r)}:function(n,r){return ig(n,{file:r,...e||t})}}function og(e){if(e)throw e}var Js=Object.prototype.hasOwnProperty,Yb=Object.prototype.toString,sg=Object.defineProperty,lg=Object.getOwnPropertyDescriptor,cg=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Yb.call(t)==="[object Array]"},ug=function(t){if(!t||Yb.call(t)!=="[object Object]")return!1;var n=Js.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Js.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Js.call(t,a)},dg=function(t,n){sg&&n.name==="__proto__"?sg(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},pg=function(t,n){if(n==="__proto__")if(Js.call(t,n)){if(lg)return lg(t,n).value}else return;return t[n]},ON=function e(){var t,n,r,a,s,o,l=arguments[0],u=1,d=arguments.length,p=!1;for(typeof l=="boolean"&&(p=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<d;++u)if(t=arguments[u],t!=null)for(n in t)r=pg(l,n),a=pg(t,n),l!==a&&(p&&a&&(ug(a)||(s=cg(a)))?(s?(s=!1,o=r&&cg(r)?r:[]):o=r&&ug(r)?r:{},dg(l,{name:n,newValue:e(p,o,a)})):typeof a<"u"&&dg(l,{name:n,newValue:a}));return l};const ku=ka(ON);function gd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zN(){const e=[],t={run:n,use:r};return t;function n(...a){let s=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(u,...d){const p=e[++s];let h=-1;if(u){o(u);return}for(;++h<a.length;)(d[h]===null||d[h]===void 0)&&(d[h]=a[h]);a=d,p?MN(p,l)(...d):o(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function MN(e,t){let n;return r;function r(...o){const l=e.length>o.length;let u;l&&o.push(a);try{u=e.apply(this,o)}catch(d){const p=d;if(l&&n)throw p;return a(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,a):u instanceof Error?a(u):s(u))}function a(o,...l){n||(n=!0,t(o,...l))}function s(o){a(null,o)}}const Mr={basename:FN,dirname:$N,extname:NN,join:PN,sep:"/"};function FN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Do(e);let n=0,r=-1,a=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(s){n=a+1;break}}else o<0&&(s=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $N(e){if(Do(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function NN(e){Do(e);let t=e.length,n=-1,r=0,a=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function PN(...e){let t=-1,n;for(;++t<e.length;)Do(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":DN(n)}function DN(e){Do(e);const t=e.codePointAt(0)===47;let n=LN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function LN(e,t){let n="",r=0,a=-1,s=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||s===1))if(a!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),a=o,s=0;continue}}else if(n.length>0){n="",r=0,a=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function Do(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const BN={cwd:UN};function UN(){return"/"}function yd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ZN(e){if(typeof e=="string")e=new URL(e);else if(!yd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return HN(e)}function HN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Cu=["history","path","basename","stem","extname","dirname"];class Xb{constructor(t){let n;t?yd(t)?n={path:t}:typeof t=="string"||qN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":BN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Cu.length;){const s=Cu[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)Cu.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Mr.basename(this.path):void 0}set basename(t){Eu(t,"basename"),Su(t,"basename"),this.path=Mr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mr.dirname(this.path):void 0}set dirname(t){fg(this.basename,"dirname"),this.path=Mr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mr.extname(this.path):void 0}set extname(t){if(Su(t,"extname"),fg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){yd(t)&&(t=ZN(t)),Eu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mr.basename(this.path,this.extname):void 0}set stem(t){Eu(t,"stem"),Su(t,"stem"),this.path=Mr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Sn(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Su(e,t){if(e&&e.includes(Mr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mr.sep+"`")}function Eu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function fg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WN=function(e){const r=this.constructor.prototype,a=r[e],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},VN={}.hasOwnProperty;class hp extends WN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zN()}copy(){const t=new hp;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ku(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Iu("data",this.frozen),this.namespace[t]=n,this):VN.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Iu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Zs(t),r=this.parser||this.Parser;return Tu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Tu("process",this.parser||this.Parser),Au("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,o){const l=Zs(t),u=r.parse(l);r.run(u,l,function(p,h,g){if(p||!h||!g)return d(p);const v=h,y=r.stringify(v,g);KN(y)?g.value=y:g.result=y,d(p,g)});function d(p,h){p||!h?o(p):s?s(h):(Q(n,"`done` is defined if `resolve` is not"),n(void 0,h))}}}processSync(t){let n=!1,r;return this.freeze(),Tu("processSync",this.parser||this.Parser),Au("processSync",this.compiler||this.Compiler),this.process(t,a),mg("processSync","process",n),Q(r,"we either bailed on an error or have a tree"),r;function a(s,o){n=!0,og(s),r=o}}run(t,n,r){hg(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){Q(typeof n!="function","`file` cant be a `done` anymore, we checked");const u=Zs(n);a.run(t,u,d);function d(p,h,g){const v=h||t;p?l(p):o?o(v):(Q(r,"`done` is defined if `resolve` is not"),r(void 0,v,g))}}}runSync(t,n){let r=!1,a;return this.run(t,n,s),mg("runSync","run",r),Q(a,"we either bailed on an error or have a tree"),a;function s(o,l){og(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=Zs(n),a=this.compiler||this.Compiler;return Au("stringify",a),hg(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Iu("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...h]=d;u(p,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(a.settings=ku(!0,a.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const h=d[p];s(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===d){g=h;break}if(g===-1)r.push([d,...p]);else if(p.length>0){let[v,...y]=p;const _=r[g][1];gd(_)&&gd(v)&&(v=ku(!0,_,v)),r[g]=[d,v,...y]}}}}const GN=new hp().freeze();function Tu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Au(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Iu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hg(e){if(!gd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function mg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Zs(e){return JN(e)?e:new Xb(e)}function JN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KN(e){return typeof e=="string"||YN(e)}function YN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const XN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gg=[],yg={allowDangerousHtml:!0},QN=/^(https?|ircs?|mailto|xmpp)$/i,eP=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tP(e){const t=nP(e),n=rP(e);return aP(t.runSync(t.parse(n),n),e)}function nP(e){const t=e.rehypePlugins||gg,n=e.remarkPlugins||gg,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...yg}:yg;return GN().use($$).use(n).use(RN,r).use(t)}function rP(e){const t=e.children||"",n=new Xb;return typeof t=="string"?n.value=t:id("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}function aP(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||iP;for(const p of eP)Object.hasOwn(t,p.from)&&id("Unexpected `"+p.from+"` prop, "+(p.to?"use `"+p.to+"` instead":"remove it")+" (see <"+XN+"#"+p.id+"> for more info)");return n&&s&&id("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Kb(e,d),dM(e,{Fragment:m.Fragment,components:a,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function d(p,h,g){if(p.type==="raw"&&g&&typeof h=="number")return o?g.children.splice(h,1):g.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let v;for(v in bu)if(Object.hasOwn(bu,v)&&Object.hasOwn(p.properties,v)){const y=p.properties[v],_=bu[v];(_===null||_.includes(p.tagName))&&(p.properties[v]=u(String(y||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!v&&r&&typeof h=="number"&&(v=!r(p,h,g)),v&&g&&typeof h=="number")return l&&p.children?g.children.splice(h,1,...p.children):g.children.splice(h,1),h}}}function iP(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||QN.test(e.slice(0,t))?e:""}const Qb=W.createContext(),nr=()=>W.useContext(Qb);var ex="vercel.ai.error",oP=Symbol.for(ex),vg,bg,va=class tx extends(bg=Error,vg=oP,bg){constructor({name:t,message:n,cause:r}){super(n),this[vg]=!0,this.name=t,this.cause=r}static isInstance(t){return tx.hasMarker(t,ex)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function nx(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var rx="AI_InvalidArgumentError",ax=`vercel.ai.error.${rx}`,sP=Symbol.for(ax),xg,_g,lP=class extends(_g=va,xg=sP,_g){constructor({message:t,cause:n,argument:r}){super({name:rx,message:t,cause:n}),this[xg]=!0,this.argument=r}static isInstance(t){return va.hasMarker(t,ax)}},ix="AI_JSONParseError",ox=`vercel.ai.error.${ix}`,cP=Symbol.for(ox),wg,kg,Cg=class extends(kg=va,wg=cP,kg){constructor({text:t,cause:n}){super({name:ix,message:`JSON parsing failed: Text: ${t}.
Error message: ${nx(n)}`,cause:n}),this[wg]=!0,this.text=t}static isInstance(t){return va.hasMarker(t,ox)}},sx="AI_TypeValidationError",lx=`vercel.ai.error.${sx}`,uP=Symbol.for(lx),Sg,Eg,cl=class vd extends(Eg=va,Sg=uP,Eg){constructor({value:t,cause:n}){super({name:sx,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${nx(n)}`,cause:n}),this[Sg]=!0,this.value=t}static isInstance(t){return va.hasMarker(t,lx)}static wrap({value:t,cause:n}){return vd.isInstance(n)&&n.value===t?n:new vd({value:t,cause:n})}};class Tg extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function ju(e){}function dP(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ju,onError:n=ju,onRetry:r=ju,onComment:a}=e;let s="",o=!0,l,u="",d="";function p(_){const x=o?_.replace(/^\xEF\xBB\xBF/,""):_,[k,T]=pP(`${s}${x}`);for(const A of k)h(A);s=T,o=!1}function h(_){if(_===""){v();return}if(_.startsWith(":")){a&&a(_.slice(_.startsWith(": ")?2:1));return}const x=_.indexOf(":");if(x!==-1){const k=_.slice(0,x),T=_[x+1]===" "?2:1,A=_.slice(x+T);g(k,A,_);return}g(_,"",_)}function g(_,x,k){switch(_){case"event":d=x;break;case"data":u=`${u}${x}
`;break;case"id":l=x.includes("\0")?void 0:x;break;case"retry":/^\d+$/.test(x)?r(parseInt(x,10)):n(new Tg(`Invalid \`retry\` value: "${x}"`,{type:"invalid-retry",value:x,line:k}));break;default:n(new Tg(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:x,line:k}));break}}function v(){u.length>0&&t({id:l,event:d||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),l=void 0,u="",d=""}function y(_={}){s&&_.consume&&h(s),o=!0,l=void 0,u="",d="",s=""}return{feed:p,reset:y}}function pP(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),s=e.indexOf(`
`,r);let o=-1;if(a!==-1&&s!==-1?o=Math.min(a,s):a!==-1?a===e.length-1?o=-1:o=a:s!==-1&&(o=s),o===-1){n=e.slice(r);break}else{const l=e.slice(r,o);t.push(l),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class cx extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let a;super({start(s){a=dP({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(s){a.feed(s)}})}}function me(e,t,n){function r(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const d=o.prototype,p=Object.keys(d);for(let h=0;h<p.length;h++){const g=p[h];g in l||(l[g]=d[g].bind(l))}}const a=n?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function o(l){var u;const d=n?.Parent?new s:this;r(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>n?.Parent&&l instanceof n.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class Ii extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ux extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const dx={};function ba(e){return dx}function px(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function bd(e,t){return typeof t=="bigint"?t.toString():t}function Nl(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function mp(e){return e==null}function gp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function fP(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(a=Number.parseInt(u[1]))}const s=n>a?n:a,o=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return o%l/10**s}const Ag=Symbol("evaluating");function bt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Ag)return r===void 0&&(r=Ag,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Xa(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Sa(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Ig(e){return JSON.stringify(e)}function hP(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const fx="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function jo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const mP=Nl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Oi(e){if(jo(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(jo(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function hx(e){return Oi(e)?{...e}:Array.isArray(e)?[...e]:e}const gP=new Set(["string","number","symbol"]);function zi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ea(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Ve(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function yP(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const vP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function bP(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Sa(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Xa(this,"shape",o),o},checks:[]});return Ea(e,s)}function xP(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Sa(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Xa(this,"shape",o),o},checks:[]});return Ea(e,s)}function _P(e,t){if(!Oi(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=Sa(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Xa(this,"shape",s),s}});return Ea(e,a)}function wP(e,t){if(!Oi(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Xa(this,"shape",r),r}});return Ea(e,n)}function kP(e,t){const n=Sa(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Xa(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ea(e,n)}function CP(e,t,n){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=Sa(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=e?new e({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=e?new e({type:"optional",innerType:l[d]}):l[d];return Xa(this,"shape",u),u},checks:[]});return Ea(t,o)}function SP(e,t,n){const r=Sa(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)s[o]=new e({type:"nonoptional",innerType:a[o]});return Xa(this,"shape",s),s}});return Ea(t,r)}function ki(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Ci(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Hs(e){return typeof e=="string"?e:e?.message}function xa(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=Hs(e.inst?._zod.def?.error?.(e))??Hs(t?.error?.(e))??Hs(n.customError?.(e))??Hs(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function yp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ro(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const mx=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,bd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gx=me("$ZodError",mx),yx=me("$ZodError",mx,{Parent:Error});function EP(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function TP(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return r(e),n}const vp=e=>(t,n,r,a)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Ii;if(o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>xa(u,s,ba())));throw fx(l,a?.callee),l}return o.value},bp=e=>async(t,n,r,a)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>xa(u,s,ba())));throw fx(l,a?.callee),l}return o.value},Pl=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new Ii;return s.issues.length?{success:!1,error:new(e??gx)(s.issues.map(o=>xa(o,a,ba())))}:{success:!0,data:s.value}},AP=Pl(yx),Dl=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>xa(o,a,ba())))}:{success:!0,data:s.value}},IP=Dl(yx),jP=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vp(e)(t,n,a)},RP=e=>(t,n,r)=>vp(e)(t,n,r),OP=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bp(e)(t,n,a)},zP=e=>async(t,n,r)=>bp(e)(t,n,r),MP=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pl(e)(t,n,a)},FP=e=>(t,n,r)=>Pl(e)(t,n,r),$P=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Dl(e)(t,n,a)},NP=e=>async(t,n,r)=>Dl(e)(t,n,r),PP=/^[cC][^\s-]{8,}$/,DP=/^[0-9a-z]+$/,LP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,BP=/^[0-9a-vA-V]{20}$/,UP=/^[A-Za-z0-9]{27}$/,ZP=/^[a-zA-Z0-9_-]{21}$/,HP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,qP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,WP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,VP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function GP(){return new RegExp(VP,"u")}const JP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,YP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,XP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,vx=/^[A-Za-z0-9_-]*$/,eD=/^\+[1-9]\d{6,14}$/,bx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",tD=new RegExp(`^${bx}$`);function xx(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function nD(e){return new RegExp(`^${xx(e)}$`)}function rD(e){const t=xx({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${bx}T(?:${r})$`)}const aD=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},iD=/^-?\d+$/,_x=/^-?\d+(?:\.\d+)?$/,oD=/^(?:true|false)$/i,sD=/^null$/i,lD=/^[^A-Z]*$/,cD=/^[^a-z]*$/,Zn=me("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),wx={number:"number",bigint:"bigint",object:"date"},kx=me("$ZodCheckLessThan",(e,t)=>{Zn.init(e,t);const n=wx[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Cx=me("$ZodCheckGreaterThan",(e,t)=>{Zn.init(e,t);const n=wx[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),uD=me("$ZodCheckMultipleOf",(e,t)=>{Zn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):fP(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),dD=me("$ZodCheckNumberFormat",(e,t)=>{Zn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,s]=vP[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,n&&(l.pattern=iD)}),e._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),pD=me("$ZodCheckMaxLength",(e,t)=>{var n;Zn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!mp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const o=yp(a);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),fD=me("$ZodCheckMinLength",(e,t)=>{var n;Zn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!mp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const o=yp(a);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),hD=me("$ZodCheckLengthEquals",(e,t)=>{var n;Zn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!mp(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,s=a.length;if(s===t.length)return;const o=yp(a),l=s>t.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Ll=me("$ZodCheckStringFormat",(e,t)=>{var n,r;Zn.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),mD=me("$ZodCheckRegex",(e,t)=>{Ll.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),gD=me("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=lD),Ll.init(e,t)}),yD=me("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=cD),Ll.init(e,t)}),vD=me("$ZodCheckIncludes",(e,t)=>{Zn.init(e,t);const n=zi(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),bD=me("$ZodCheckStartsWith",(e,t)=>{Zn.init(e,t);const n=new RegExp(`^${zi(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),xD=me("$ZodCheckEndsWith",(e,t)=>{Zn.init(e,t);const n=new RegExp(`.*${zi(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),_D=me("$ZodCheckOverwrite",(e,t)=>{Zn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class wD{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),a=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,a.join(`
`))}}const kD={major:4,minor:3,patch:5},qt=me("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=kD;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const s of a._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,l,u)=>{let d=ki(o),p;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const g=o.issues.length,v=h._zod.check(o);if(v instanceof Promise&&u?.async===!1)throw new Ii;if(p||v instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await v,o.issues.length!==g&&(d||(d=ki(o,g)))});else{if(o.issues.length===g)continue;d||(d=ki(o,g))}}return p?p.then(()=>o):o},s=(o,l,u)=>{if(ki(o))return o.aborted=!0,o;const d=a(l,r,u);if(d instanceof Promise){if(u.async===!1)throw new Ii;return d.then(p=>e._zod.parse(p,u))}return e._zod.parse(d,u)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const d=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(p=>s(p,o,l)):s(d,o,l)}const u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new Ii;return u.then(d=>a(d,r,l))}return a(u,r,l)}}bt(e,"~standard",()=>({validate:a=>{try{const s=AP(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return IP(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),xp=me("$ZodString",(e,t)=>{qt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??aD(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Kt=me("$ZodStringFormat",(e,t)=>{Ll.init(e,t),xp.init(e,t)}),CD=me("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=qP),Kt.init(e,t)}),SD=me("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=jg(r))}else t.pattern??(t.pattern=jg());Kt.init(e,t)}),ED=me("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=WP),Kt.init(e,t)}),TD=me("$ZodURL",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),AD=me("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=GP()),Kt.init(e,t)}),ID=me("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ZP),Kt.init(e,t)}),jD=me("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=PP),Kt.init(e,t)}),RD=me("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=DP),Kt.init(e,t)}),OD=me("$ZodULID",(e,t)=>{t.pattern??(t.pattern=LP),Kt.init(e,t)}),zD=me("$ZodXID",(e,t)=>{t.pattern??(t.pattern=BP),Kt.init(e,t)}),MD=me("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=UP),Kt.init(e,t)}),FD=me("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=rD(t)),Kt.init(e,t)}),$D=me("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=tD),Kt.init(e,t)}),ND=me("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=nD(t)),Kt.init(e,t)}),PD=me("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=HP),Kt.init(e,t)}),DD=me("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=JP),Kt.init(e,t),e._zod.bag.format="ipv4"}),LD=me("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=KP),Kt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),BD=me("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=YP),Kt.init(e,t)}),UD=me("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=XP),Kt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Sx(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const ZD=me("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=QP),Kt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Sx(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function HD(e){if(!vx.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Sx(n)}const qD=me("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=vx),Kt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{HD(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),WD=me("$ZodE164",(e,t)=>{t.pattern??(t.pattern=eD),Kt.init(e,t)});function VD(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const GD=me("$ZodJWT",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{VD(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Ex=me("$ZodNumber",(e,t)=>{qt.init(e,t),e._zod.pattern=e._zod.bag.pattern??_x,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}}),JD=me("$ZodNumberFormat",(e,t)=>{dD.init(e,t),Ex.init(e,t)}),KD=me("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=oD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),YD=me("$ZodNull",(e,t)=>{qt.init(e,t),e._zod.pattern=sD,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const a=n.value;return a===null||n.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),n}}),XD=me("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=n=>n}),QD=me("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Rg(e,t,n){e.issues.length&&t.issues.push(...Ci(n,e.issues)),t.value[n]=e.value}const eL=me("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let o=0;o<a.length;o++){const l=a[o],u=t.element._zod.run({value:l,issues:[]},r);u instanceof Promise?s.push(u.then(d=>Rg(d,n,o))):Rg(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function ul(e,t,n,r,a){if(e.issues.length){if(a&&!(n in r))return;t.issues.push(...Ci(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Tx(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=yP(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ax(e,t,n,r,a,s){const o=[],l=a.keySet,u=a.catchall._zod,d=u.def.type,p=u.optout==="optional";for(const h in t){if(l.has(h))continue;if(d==="never"){o.push(h);continue}const g=u.run({value:t[h],issues:[]},r);g instanceof Promise?e.push(g.then(v=>ul(v,n,h,t,p))):ul(g,n,h,t,p)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const tL=me("$ZodObject",(e,t)=>{if(qt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Nl(()=>Tx(t));bt(e._zod,"propValues",()=>{const l=t.shape,u={};for(const d in l){const p=l[d]._zod;if(p.values){u[d]??(u[d]=new Set);for(const h of p.values)u[d].add(h)}}return u});const a=jo,s=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=r.value);const d=l.value;if(!a(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const p=[],h=o.shape;for(const g of o.keys){const v=h[g],y=v._zod.optout==="optional",_=v._zod.run({value:d[g],issues:[]},u);_ instanceof Promise?p.push(_.then(x=>ul(x,l,g,d,y))):ul(_,l,g,d,y)}return s?Ax(p,d,l,u,r.value,e):p.length?Promise.all(p).then(()=>l):l}}),nL=me("$ZodObjectJIT",(e,t)=>{tL.init(e,t);const n=e._zod.parse,r=Nl(()=>Tx(t)),a=g=>{const v=new wD(["shape","payload","ctx"]),y=r.value,_=A=>{const I=Ig(A);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};v.write("const input = payload.value;");const x=Object.create(null);let k=0;for(const A of y.keys)x[A]=`key_${k++}`;v.write("const newResult = {};");for(const A of y.keys){const I=x[A],$=Ig(A),U=g[A]?._zod?.optout==="optional";v.write(`const ${I} = ${_(A)};`),U?v.write(`
        if (${I}.issues.length) {
          if (${$} in input) {
            payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${$}, ...iss.path] : [${$}]
            })));
          }
        }
        
        if (${I}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${I}.value;
        }
        
      `):v.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        if (${I}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${I}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const T=v.compile();return(A,I)=>T(g,A,I)};let s;const o=jo,l=!dx.jitless,d=l&&mP.value,p=t.catchall;let h;e._zod.parse=(g,v)=>{h??(h=r.value);const y=g.value;return o(y)?l&&d&&v?.async===!1&&v.jitless!==!0?(s||(s=a(t.shape)),g=s(g,v),p?Ax([],y,g,v,h,e):g):n(g,v):(g.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),g)}});function Og(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!ki(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>xa(o,r,ba())))}),t)}const Ix=me("$ZodUnion",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),bt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),bt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),bt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>gp(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(n)return r(a,s);let o=!1;const l=[];for(const u of t.options){const d=u._zod.run({value:a.value,issues:[]},s);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>Og(u,a,e,s)):Og(l,a,e,s)}}),rL=me("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Ix.init(e,t);const n=e._zod.parse;bt(e._zod,"propValues",()=>{const a={};for(const s of t.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const[l,u]of Object.entries(o)){a[l]||(a[l]=new Set);for(const d of u)a[l].add(d)}}return a});const r=Nl(()=>{const a=t.options,s=new Map;for(const o of a){const l=o._zod.propValues?.[t.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const u of l){if(s.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);s.set(u,o)}}return s});e._zod.parse=(a,s)=>{const o=a.value;if(!jo(o))return a.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),a;const l=r.value.get(o?.[t.discriminator]);return l?l._zod.run(a,s):t.unionFallback?n(a,s):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),a)}}),aL=me("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,s=t.left._zod.run({value:a,issues:[]},r),o=t.right._zod.run({value:a,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,d])=>zg(n,u,d)):zg(n,s,o)}});function xd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Oi(e)&&Oi(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),a={...e,...t};for(const s of r){const o=xd(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};a[s]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r],o=xd(a,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function zg(e,t,n){const r=new Map;let a;for(const l of t.issues)if(l.code==="unrecognized_keys"){a??(a=l);for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(l);const s=[...r].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(s.length&&a&&e.issues.push({...a,keys:s}),ki(e))return e;const o=xd(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const iL=me("$ZodRecord",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Oi(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const s=[],o=t.keyType._zod.values;if(o){n.value={};const l=new Set;for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const p=t.valueType._zod.run({value:a[d],issues:[]},r);p instanceof Promise?s.push(p.then(h=>{h.issues.length&&n.issues.push(...Ci(d,h.issues)),n.value[d]=h.value})):(p.issues.length&&n.issues.push(...Ci(d,p.issues)),n.value[d]=p.value)}let u;for(const d in a)l.has(d)||(u=u??[],u.push(d));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(a)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&_x.test(l)&&u.issues.length&&u.issues.some(h=>h.code==="invalid_type"&&h.expected==="number")){const h=t.keyType._zod.run({value:Number(l),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(u=h)}if(u.issues.length){t.mode==="loose"?n.value[l]=a[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(h=>xa(h,r,ba())),input:l,path:[l],inst:e});continue}const p=t.valueType._zod.run({value:a[l],issues:[]},r);p instanceof Promise?s.push(p.then(h=>{h.issues.length&&n.issues.push(...Ci(l,h.issues)),n.value[u.value]=h.value})):(p.issues.length&&n.issues.push(...Ci(l,p.issues)),n.value[u.value]=p.value)}}return s.length?Promise.all(s).then(()=>n):n}}),oL=me("$ZodEnum",(e,t)=>{qt.init(e,t);const n=px(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>gP.has(typeof a)).map(a=>typeof a=="string"?zi(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const o=a.value;return r.has(o)||a.issues.push({code:"invalid_value",values:n,input:o,inst:e}),a}}),sL=me("$ZodLiteral",(e,t)=>{if(qt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?zi(r):r?zi(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),lL=me("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ux(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(n.value=o,n));if(a instanceof Promise)throw new Ii;return n.value=a,n}});function Mg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const jx=me("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gp(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>Mg(s,n.value)):Mg(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),cL=me("$ZodExactOptional",(e,t)=>{jx.init(e,t),bt(e._zod,"values",()=>t.innerType._zod.values),bt(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),uL=me("$ZodNullable",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gp(n.source)}|null)$`):void 0}),bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),dL=me("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>Fg(s,t)):Fg(a,t)}});function Fg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const pL=me("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),fL=me("$ZodNonOptional",(e,t)=>{qt.init(e,t),bt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>$g(s,e)):$g(a,e)}});function $g(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const hL=me("$ZodCatch",(e,t)=>{qt.init(e,t),bt(e._zod,"optin",()=>t.innerType._zod.optin),bt(e._zod,"optout",()=>t.innerType._zod.optout),bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>xa(o,r,ba()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(s=>xa(s,r,ba()))},input:n.value}),n.issues=[]),n)}}),mL=me("$ZodPipe",(e,t)=>{qt.init(e,t),bt(e._zod,"values",()=>t.in._zod.values),bt(e._zod,"optin",()=>t.in._zod.optin),bt(e._zod,"optout",()=>t.out._zod.optout),bt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>qs(o,t.in,r)):qs(s,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(s=>qs(s,t.out,r)):qs(a,t.out,r)}});function qs(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const gL=me("$ZodReadonly",(e,t)=>{qt.init(e,t),bt(e._zod,"propValues",()=>t.innerType._zod.propValues),bt(e._zod,"values",()=>t.innerType._zod.values),bt(e._zod,"optin",()=>t.innerType?._zod?.optin),bt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(Ng):Ng(a)}});function Ng(e){return e.value=Object.freeze(e.value),e}const yL=me("$ZodLazy",(e,t)=>{qt.init(e,t),bt(e._zod,"innerType",()=>t.getter()),bt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),bt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),bt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),bt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),vL=me("$ZodCustom",(e,t)=>{Zn.init(e,t),qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(s=>Pg(s,n,r,e));Pg(a,n,r,e)}});function Pg(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Ro(a))}}var Dg;class bL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function xL(){return new bL}(Dg=globalThis).__zod_globalRegistry??(Dg.__zod_globalRegistry=xL());const go=globalThis.__zod_globalRegistry;function _L(e,t){return new e({type:"string",...Ve(t)})}function wL(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ve(t)})}function Lg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(t)})}function kL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(t)})}function CL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(t)})}function SL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(t)})}function EL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(t)})}function TL(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ve(t)})}function AL(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(t)})}function IL(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(t)})}function jL(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(t)})}function RL(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(t)})}function OL(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(t)})}function zL(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(t)})}function ML(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(t)})}function FL(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(t)})}function $L(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(t)})}function NL(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(t)})}function PL(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(t)})}function Rx(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(t)})}function DL(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(t)})}function LL(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(t)})}function BL(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(t)})}function UL(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(t)})}function ZL(e,t){return new e({type:"string",format:"date",check:"string_format",...Ve(t)})}function HL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ve(t)})}function qL(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ve(t)})}function WL(e,t){return new e({type:"number",checks:[],...Ve(t)})}function VL(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(t)})}function GL(e,t){return new e({type:"boolean",...Ve(t)})}function JL(e,t){return new e({type:"null",...Ve(t)})}function KL(e){return new e({type:"unknown"})}function YL(e,t){return new e({type:"never",...Ve(t)})}function Bg(e,t){return new kx({check:"less_than",...Ve(t),value:e,inclusive:!1})}function Ru(e,t){return new kx({check:"less_than",...Ve(t),value:e,inclusive:!0})}function Ug(e,t){return new Cx({check:"greater_than",...Ve(t),value:e,inclusive:!1})}function Ou(e,t){return new Cx({check:"greater_than",...Ve(t),value:e,inclusive:!0})}function Zg(e,t){return new uD({check:"multiple_of",...Ve(t),value:e})}function Ox(e,t){return new pD({check:"max_length",...Ve(t),maximum:e})}function dl(e,t){return new fD({check:"min_length",...Ve(t),minimum:e})}function zx(e,t){return new hD({check:"length_equals",...Ve(t),length:e})}function XL(e,t){return new mD({check:"string_format",format:"regex",...Ve(t),pattern:e})}function QL(e){return new gD({check:"string_format",format:"lowercase",...Ve(e)})}function e4(e){return new yD({check:"string_format",format:"uppercase",...Ve(e)})}function t4(e,t){return new vD({check:"string_format",format:"includes",...Ve(t),includes:e})}function n4(e,t){return new bD({check:"string_format",format:"starts_with",...Ve(t),prefix:e})}function r4(e,t){return new xD({check:"string_format",format:"ends_with",...Ve(t),suffix:e})}function Bi(e){return new _D({check:"overwrite",tx:e})}function a4(e){return Bi(t=>t.normalize(e))}function i4(){return Bi(e=>e.trim())}function o4(){return Bi(e=>e.toLowerCase())}function s4(){return Bi(e=>e.toUpperCase())}function l4(){return Bi(e=>hP(e))}function c4(e,t,n){return new e({type:"array",element:t,...Ve(n)})}function u4(e,t,n){const r=Ve(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function d4(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Ve(n)})}function p4(e){const t=f4(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ro(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Ro(a))}},e(n.value,n)));return t}function f4(e,t){const n=new Zn({check:"custom",...Ve(t)});return n._zod.check=e,n}function pl(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??go,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Lt(e,t,n={path:[],schemaPath:[]}){var r;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=e._zod.toJSONSchema?.();if(l)o.schema=l;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,p);else{const g=o.schema,v=t.processors[a.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);v(e,t,g,p)}const h=e._zod.parent;h&&(o.ref||(o.ref=h),Lt(h,t,p),t.seen.get(h).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&jn(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function fl(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of e.seen.entries()){const l=e.metadataRegistry.get(o[0])?.id;if(l){const u=r.get(l);if(u&&u!==o[0])throw new Error(`Duplicate schema id "${l}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(l,o[0])}}const a=o=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(o[0])?.id,g=e.external.uri??(y=>y);if(h)return{ref:g(h)};const v=o[1].defId??o[1].schema.id??`schema${e.counter++}`;return o[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(o[1]===n)return{ref:"#"};const d=`#/${l}/`,p=o[1].schema.id??`__schema${e.counter++}`;return{defId:p,ref:d+p}},s=o=>{if(o[1].schema.$ref)return;const l=o[1],{ref:u,defId:d}=a(o);l.def={...l.schema},d&&(l.defId=d);const p=l.schema;for(const h in p)delete p[h];p.$ref=u};if(e.cycles==="throw")for(const o of e.seen.entries()){const l=o[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const l=o[1];if(t===o[0]){s(o);continue}if(e.external){const d=e.external.registry.get(o[0])?.id;if(t!==o[0]&&d){s(o);continue}}if(e.metadataRegistry.get(o[0])?.id){s(o);continue}if(l.cycle){s(o);continue}if(l.count>1&&e.reused==="ref"){s(o);continue}}}function hl(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const l=e.seen.get(o);if(l.ref===null)return;const u=l.def??l.schema,d={...u},p=l.ref;if(l.ref=null,p){r(p);const g=e.seen.get(p),v=g.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(v)):Object.assign(u,v),Object.assign(u,d),o._zod.parent===p)for(const _ in u)_==="$ref"||_==="allOf"||_ in d||delete u[_];if(v.$ref)for(const _ in u)_==="$ref"||_==="allOf"||_ in g.def&&JSON.stringify(u[_])===JSON.stringify(g.def[_])&&delete u[_]}const h=o._zod.parent;if(h&&h!==p){r(h);const g=e.seen.get(h);if(g?.schema.$ref&&(u.$ref=g.schema.$ref,g.def))for(const v in u)v==="$ref"||v==="allOf"||v in g.def&&JSON.stringify(u[v])===JSON.stringify(g.def[v])&&delete u[v]}e.override({zodSchema:o,jsonSchema:u,path:l.path??[]})};for(const o of[...e.seen.entries()].reverse())r(o[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(o)}Object.assign(a,n.def??n.schema);const s=e.external?.defs??{};for(const o of e.seen.entries()){const l=o[1];l.def&&l.defId&&(s[l.defId]=l.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const o=JSON.parse(JSON.stringify(a));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:ml(t,"input",e.processors),output:ml(t,"output",e.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function jn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return jn(r.element,n);if(r.type==="set")return jn(r.valueType,n);if(r.type==="lazy")return jn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return jn(r.innerType,n);if(r.type==="intersection")return jn(r.left,n)||jn(r.right,n);if(r.type==="record"||r.type==="map")return jn(r.keyType,n)||jn(r.valueType,n);if(r.type==="pipe")return jn(r.in,n)||jn(r.out,n);if(r.type==="object"){for(const a in r.shape)if(jn(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(jn(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(jn(a,n))return!0;return!!(r.rest&&jn(r.rest,n))}return!1}const h4=(e,t={})=>n=>{const r=pl({...n,processors:t});return Lt(e,r),fl(r,e),hl(r,e)},ml=(e,t,n={})=>r=>{const{libraryOptions:a,target:s}=r??{},o=pl({...a??{},target:s,io:t,processors:n});return Lt(e,o),fl(o,e),hl(o,e)},m4={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Mx=(e,t,n,r)=>{const a=n;a.type="string";const{minimum:s,maximum:o,format:l,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof o=="number"&&(a.maxLength=o),l&&(a.format=m4[l]??l,a.format===""&&delete a.format,l==="time"&&delete a.format),d&&(a.contentEncoding=d),u&&u.size>0){const p=[...u];p.length===1?a.pattern=p[0].source:p.length>1&&(a.allOf=[...p.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Fx=(e,t,n,r)=>{const a=n,{minimum:s,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:p}=e._zod.bag;typeof l=="string"&&l.includes("int")?a.type="integer":a.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=p,a.exclusiveMinimum=!0):a.exclusiveMinimum=p),typeof s=="number"&&(a.minimum=s,typeof p=="number"&&t.target!=="draft-04"&&(p>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=d,a.exclusiveMaximum=!0):a.exclusiveMaximum=d),typeof o=="number"&&(a.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete a.maximum:delete a.exclusiveMaximum)),typeof u=="number"&&(a.multipleOf=u)},$x=(e,t,n,r)=>{n.type="boolean"},g4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},y4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},Nx=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},v4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},b4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},Px=(e,t,n,r)=>{n.not={}},x4=(e,t,n,r)=>{},Dx=(e,t,n,r)=>{},_4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},Lx=(e,t,n,r)=>{const a=e._zod.def,s=px(a.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},Bx=(e,t,n,r)=>{const a=e._zod.def,s=[];for(const o of a.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},w4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},k4=(e,t,n,r)=>{const a=n,s=e._zod.pattern;if(!s)throw new Error("Pattern not found in template literal");a.type="string",a.pattern=s.source},C4=(e,t,n,r)=>{const a=n,s={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:l,mime:u}=e._zod.bag;o!==void 0&&(s.minLength=o),l!==void 0&&(s.maxLength=l),u?u.length===1?(s.contentMediaType=u[0],Object.assign(a,s)):(Object.assign(a,s),a.anyOf=u.map(d=>({contentMediaType:d}))):Object.assign(a,s)},S4=(e,t,n,r)=>{n.type="boolean"},Ux=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},E4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},Zx=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},T4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},A4=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},Hx=(e,t,n,r)=>{const a=n,s=e._zod.def,{minimum:o,maximum:l}=e._zod.bag;typeof o=="number"&&(a.minItems=o),typeof l=="number"&&(a.maxItems=l),a.type="array",a.items=Lt(s.element,t,{...r,path:[...r.path,"items"]})},qx=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="object",a.properties={};const o=s.shape;for(const d in o)a.properties[d]=Lt(o[d],t,{...r,path:[...r.path,"properties",d]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(d=>{const p=s.shape[d]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(a.required=Array.from(u)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=Lt(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},Wx=(e,t,n,r)=>{const a=e._zod.def,s=a.inclusive===!1,o=a.options.map((l,u)=>Lt(l,t,{...r,path:[...r.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=o:n.anyOf=o},Vx=(e,t,n,r)=>{const a=e._zod.def,s=Lt(a.left,t,{...r,path:[...r.path,"allOf",0]}),o=Lt(a.right,t,{...r,path:[...r.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(s)?s.allOf:[s],...l(o)?o.allOf:[o]];n.allOf=u},I4=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="array";const o=t.target==="draft-2020-12"?"prefixItems":"items",l=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=s.items.map((g,v)=>Lt(g,t,{...r,path:[...r.path,o,v]})),d=s.rest?Lt(s.rest,t,{...r,path:[...r.path,l,...t.target==="openapi-3.0"?[s.items.length]:[]]}):null;t.target==="draft-2020-12"?(a.prefixItems=u,d&&(a.items=d)):t.target==="openapi-3.0"?(a.items={anyOf:u},d&&a.items.anyOf.push(d),a.minItems=u.length,d||(a.maxItems=u.length)):(a.items=u,d&&(a.additionalItems=d));const{minimum:p,maximum:h}=e._zod.bag;typeof p=="number"&&(a.minItems=p),typeof h=="number"&&(a.maxItems=h)},Gx=(e,t,n,r)=>{const a=n,s=e._zod.def;a.type="object";const o=s.keyType,u=o._zod.bag?.patterns;if(s.mode==="loose"&&u&&u.size>0){const p=Lt(s.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});a.patternProperties={};for(const h of u)a.patternProperties[h.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(a.propertyNames=Lt(s.keyType,t,{...r,path:[...r.path,"propertyNames"]})),a.additionalProperties=Lt(s.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const d=o._zod.values;if(d){const p=[...d].filter(h=>typeof h=="string"||typeof h=="number");p.length>0&&(a.required=p)}},Jx=(e,t,n,r)=>{const a=e._zod.def,s=Lt(a.innerType,t,r),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=a.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Kx=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},Yx=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},Xx=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Qx=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType;let o;try{o=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},e0=(e,t,n,r)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Lt(s,t,r);const o=t.seen.get(e);o.ref=s},t0=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType,n.readOnly=!0},j4=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},_p=(e,t,n,r)=>{const a=e._zod.def;Lt(a.innerType,t,r);const s=t.seen.get(e);s.ref=a.innerType},n0=(e,t,n,r)=>{const a=e._zod.innerType;Lt(a,t,r);const s=t.seen.get(e);s.ref=a},Hg={string:Mx,number:Fx,boolean:$x,bigint:g4,symbol:y4,null:Nx,undefined:v4,void:b4,never:Px,any:x4,unknown:Dx,date:_4,enum:Lx,literal:Bx,nan:w4,template_literal:k4,file:C4,success:S4,custom:Ux,function:E4,transform:Zx,map:T4,set:A4,array:Hx,object:qx,union:Wx,intersection:Vx,tuple:I4,record:Gx,nullable:Jx,nonoptional:Kx,default:Yx,prefault:Xx,catch:Qx,pipe:e0,readonly:t0,promise:j4,optional:_p,lazy:n0};function r0(e,t){if("_idmap"in e){const r=e,a=pl({...t,processors:Hg}),s={};for(const u of r._idmap.entries()){const[d,p]=u;Lt(p,a)}const o={},l={registry:r,uri:t?.uri,defs:s};a.external=l;for(const u of r._idmap.entries()){const[d,p]=u;fl(a,p),o[d]=hl(a,p)}if(Object.keys(s).length>0){const u=a.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[u]:s}}return{schemas:o}}const n=pl({...t,processors:Hg});return Lt(e,n),fl(n,e),hl(n,e)}const R4=me("ZodISODateTime",(e,t)=>{FD.init(e,t),nn.init(e,t)});function O4(e){return UL(R4,e)}const z4=me("ZodISODate",(e,t)=>{$D.init(e,t),nn.init(e,t)});function M4(e){return ZL(z4,e)}const F4=me("ZodISOTime",(e,t)=>{ND.init(e,t),nn.init(e,t)});function $4(e){return HL(F4,e)}const N4=me("ZodISODuration",(e,t)=>{PD.init(e,t),nn.init(e,t)});function P4(e){return qL(N4,e)}const D4=(e,t)=>{gx.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>TP(e,n)},flatten:{value:n=>EP(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,bd,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,bd,2)}},isEmpty:{get(){return e.issues.length===0}}})},vr=me("ZodError",D4,{Parent:Error}),L4=vp(vr),B4=bp(vr),U4=Pl(vr),wp=Dl(vr),Z4=jP(vr),H4=RP(vr),q4=OP(vr),W4=zP(vr),V4=MP(vr),G4=FP(vr),J4=$P(vr),K4=NP(vr),Wt=me("ZodType",(e,t)=>(qt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ml(e,"input"),output:ml(e,"output")}}),e.toJSONSchema=h4(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Sa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Ea(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>L4(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>U4(e,n,r),e.parseAsync=async(n,r)=>B4(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>wp(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Z4(e,n,r),e.decode=(n,r)=>H4(e,n,r),e.encodeAsync=async(n,r)=>q4(e,n,r),e.decodeAsync=async(n,r)=>W4(e,n,r),e.safeEncode=(n,r)=>V4(e,n,r),e.safeDecode=(n,r)=>G4(e,n,r),e.safeEncodeAsync=async(n,r)=>J4(e,n,r),e.safeDecodeAsync=async(n,r)=>K4(e,n,r),e.refine=(n,r)=>e.check(BB(n,r)),e.superRefine=n=>e.check(UB(n)),e.overwrite=n=>e.check(Bi(n)),e.optional=()=>pn(e),e.exactOptional=()=>AB(e),e.nullable=()=>Vg(e),e.nullish=()=>pn(Vg(e)),e.nonoptional=n=>MB(e,n),e.array=()=>Hn(e),e.or=n=>jt([e,n]),e.and=n=>wB(e,n),e.transform=n=>Gg(e,EB(n)),e.default=n=>RB(e,n),e.prefault=n=>zB(e,n),e.catch=n=>$B(e,n),e.pipe=n=>Gg(e,n),e.readonly=()=>DB(e),e.describe=n=>{const r=e.clone();return go.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return go.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return go.get(e);const r=e.clone();return go.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),a0=me("_ZodString",(e,t)=>{xp.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Mx(e,r,a);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(XL(...r)),e.includes=(...r)=>e.check(t4(...r)),e.startsWith=(...r)=>e.check(n4(...r)),e.endsWith=(...r)=>e.check(r4(...r)),e.min=(...r)=>e.check(dl(...r)),e.max=(...r)=>e.check(Ox(...r)),e.length=(...r)=>e.check(zx(...r)),e.nonempty=(...r)=>e.check(dl(1,...r)),e.lowercase=r=>e.check(QL(r)),e.uppercase=r=>e.check(e4(r)),e.trim=()=>e.check(i4()),e.normalize=(...r)=>e.check(a4(...r)),e.toLowerCase=()=>e.check(o4()),e.toUpperCase=()=>e.check(s4()),e.slugify=()=>e.check(l4())}),Y4=me("ZodString",(e,t)=>{xp.init(e,t),a0.init(e,t),e.email=n=>e.check(wL(X4,n)),e.url=n=>e.check(TL(Q4,n)),e.jwt=n=>e.check(BL(fB,n)),e.emoji=n=>e.check(AL(eB,n)),e.guid=n=>e.check(Lg(qg,n)),e.uuid=n=>e.check(kL(Ws,n)),e.uuidv4=n=>e.check(CL(Ws,n)),e.uuidv6=n=>e.check(SL(Ws,n)),e.uuidv7=n=>e.check(EL(Ws,n)),e.nanoid=n=>e.check(IL(tB,n)),e.guid=n=>e.check(Lg(qg,n)),e.cuid=n=>e.check(jL(nB,n)),e.cuid2=n=>e.check(RL(rB,n)),e.ulid=n=>e.check(OL(aB,n)),e.base64=n=>e.check(Rx(i0,n)),e.base64url=n=>e.check(DL(dB,n)),e.xid=n=>e.check(zL(iB,n)),e.ksuid=n=>e.check(ML(oB,n)),e.ipv4=n=>e.check(FL(sB,n)),e.ipv6=n=>e.check($L(lB,n)),e.cidrv4=n=>e.check(NL(cB,n)),e.cidrv6=n=>e.check(PL(uB,n)),e.e164=n=>e.check(LL(pB,n)),e.datetime=n=>e.check(O4(n)),e.date=n=>e.check(M4(n)),e.time=n=>e.check($4(n)),e.duration=n=>e.check(P4(n))});function se(e){return _L(Y4,e)}const nn=me("ZodStringFormat",(e,t)=>{Kt.init(e,t),a0.init(e,t)}),X4=me("ZodEmail",(e,t)=>{ED.init(e,t),nn.init(e,t)}),qg=me("ZodGUID",(e,t)=>{CD.init(e,t),nn.init(e,t)}),Ws=me("ZodUUID",(e,t)=>{SD.init(e,t),nn.init(e,t)}),Q4=me("ZodURL",(e,t)=>{TD.init(e,t),nn.init(e,t)}),eB=me("ZodEmoji",(e,t)=>{AD.init(e,t),nn.init(e,t)}),tB=me("ZodNanoID",(e,t)=>{ID.init(e,t),nn.init(e,t)}),nB=me("ZodCUID",(e,t)=>{jD.init(e,t),nn.init(e,t)}),rB=me("ZodCUID2",(e,t)=>{RD.init(e,t),nn.init(e,t)}),aB=me("ZodULID",(e,t)=>{OD.init(e,t),nn.init(e,t)}),iB=me("ZodXID",(e,t)=>{zD.init(e,t),nn.init(e,t)}),oB=me("ZodKSUID",(e,t)=>{MD.init(e,t),nn.init(e,t)}),sB=me("ZodIPv4",(e,t)=>{DD.init(e,t),nn.init(e,t)}),lB=me("ZodIPv6",(e,t)=>{LD.init(e,t),nn.init(e,t)}),cB=me("ZodCIDRv4",(e,t)=>{BD.init(e,t),nn.init(e,t)}),uB=me("ZodCIDRv6",(e,t)=>{UD.init(e,t),nn.init(e,t)}),i0=me("ZodBase64",(e,t)=>{ZD.init(e,t),nn.init(e,t)});function o0(e){return Rx(i0,e)}const dB=me("ZodBase64URL",(e,t)=>{qD.init(e,t),nn.init(e,t)}),pB=me("ZodE164",(e,t)=>{WD.init(e,t),nn.init(e,t)}),fB=me("ZodJWT",(e,t)=>{GD.init(e,t),nn.init(e,t)}),s0=me("ZodNumber",(e,t)=>{Ex.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Fx(e,r,a),e.gt=(r,a)=>e.check(Ug(r,a)),e.gte=(r,a)=>e.check(Ou(r,a)),e.min=(r,a)=>e.check(Ou(r,a)),e.lt=(r,a)=>e.check(Bg(r,a)),e.lte=(r,a)=>e.check(Ru(r,a)),e.max=(r,a)=>e.check(Ru(r,a)),e.int=r=>e.check(Wg(r)),e.safe=r=>e.check(Wg(r)),e.positive=r=>e.check(Ug(0,r)),e.nonnegative=r=>e.check(Ou(0,r)),e.negative=r=>e.check(Bg(0,r)),e.nonpositive=r=>e.check(Ru(0,r)),e.multipleOf=(r,a)=>e.check(Zg(r,a)),e.step=(r,a)=>e.check(Zg(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Mi(e){return WL(s0,e)}const hB=me("ZodNumberFormat",(e,t)=>{JD.init(e,t),s0.init(e,t)});function Wg(e){return VL(hB,e)}const mB=me("ZodBoolean",(e,t)=>{KD.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>$x(e,n,r)});function dt(e){return GL(mB,e)}const gB=me("ZodNull",(e,t)=>{YD.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Nx(e,n,r)});function l0(e){return JL(gB,e)}const yB=me("ZodUnknown",(e,t)=>{XD.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Dx()});function St(){return KL(yB)}const vB=me("ZodNever",(e,t)=>{QD.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Px(e,n,r)});function Ln(e){return YL(vB,e)}const bB=me("ZodArray",(e,t)=>{eL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Hx(e,n,r,a),e.element=t.element,e.min=(n,r)=>e.check(dl(n,r)),e.nonempty=n=>e.check(dl(1,n)),e.max=(n,r)=>e.check(Ox(n,r)),e.length=(n,r)=>e.check(zx(n,r)),e.unwrap=()=>e.element});function Hn(e,t){return c4(bB,e,t)}const kp=me("ZodObject",(e,t)=>{nL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>qx(e,n,r,a),bt(e,"shape",()=>t.shape),e.keyof=()=>Lo(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:St()}),e.loose=()=>e.clone({...e._zod.def,catchall:St()}),e.strict=()=>e.clone({...e._zod.def,catchall:Ln()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>_P(e,n),e.safeExtend=n=>wP(e,n),e.merge=n=>kP(e,n),e.pick=n=>bP(e,n),e.omit=n=>xP(e,n),e.partial=(...n)=>CP(d0,e,n[0]),e.required=(...n)=>SP(p0,e,n[0])});function Be(e,t){const n={type:"object",shape:e??{},...Ve(t)};return new kp(n)}function rt(e,t){return new kp({type:"object",shape:e,catchall:Ln(),...Ve(t)})}function Si(e,t){return new kp({type:"object",shape:e,catchall:St(),...Ve(t)})}const c0=me("ZodUnion",(e,t)=>{Ix.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Wx(e,n,r,a),e.options=t.options});function jt(e,t){return new c0({type:"union",options:e,...Ve(t)})}const xB=me("ZodDiscriminatedUnion",(e,t)=>{c0.init(e,t),rL.init(e,t)});function u0(e,t,n){return new xB({type:"union",options:t,discriminator:e,...Ve(n)})}const _B=me("ZodIntersection",(e,t)=>{aL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Vx(e,n,r,a)});function wB(e,t){return new _B({type:"intersection",left:e,right:t})}const kB=me("ZodRecord",(e,t)=>{iL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Gx(e,n,r,a),e.keyType=t.keyType,e.valueType=t.valueType});function Fi(e,t,n){return new kB({type:"record",keyType:e,valueType:t,...Ve(n)})}const _d=me("ZodEnum",(e,t)=>{oL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(r,a,s)=>Lx(e,r,a),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new _d({...t,checks:[],...Ve(a),entries:s})},e.exclude=(r,a)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new _d({...t,checks:[],...Ve(a),entries:s})}});function Lo(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new _d({type:"enum",entries:n,...Ve(t)})}const CB=me("ZodLiteral",(e,t)=>{sL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Bx(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ce(e,t){return new CB({type:"literal",values:Array.isArray(e)?e:[e],...Ve(t)})}const SB=me("ZodTransform",(e,t)=>{lL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Zx(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new ux(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Ro(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(Ro(o))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(s=>(n.value=s,n)):(n.value=a,n)}});function EB(e){return new SB({type:"transform",transform:e})}const d0=me("ZodOptional",(e,t)=>{jx.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>_p(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function pn(e){return new d0({type:"optional",innerType:e})}const TB=me("ZodExactOptional",(e,t)=>{cL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>_p(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function AB(e){return new TB({type:"optional",innerType:e})}const IB=me("ZodNullable",(e,t)=>{uL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Jx(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function Vg(e){return new IB({type:"nullable",innerType:e})}const jB=me("ZodDefault",(e,t)=>{dL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Yx(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function RB(e,t){return new jB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():hx(t)}})}const OB=me("ZodPrefault",(e,t)=>{pL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Xx(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function zB(e,t){return new OB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():hx(t)}})}const p0=me("ZodNonOptional",(e,t)=>{fL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Kx(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function MB(e,t){return new p0({type:"nonoptional",innerType:e,...Ve(t)})}const FB=me("ZodCatch",(e,t)=>{hL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Qx(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function $B(e,t){return new FB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const NB=me("ZodPipe",(e,t)=>{mL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>e0(e,n,r,a),e.in=t.in,e.out=t.out});function Gg(e,t){return new NB({type:"pipe",in:e,out:t})}const PB=me("ZodReadonly",(e,t)=>{gL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>t0(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function DB(e){return new PB({type:"readonly",innerType:e})}const LB=me("ZodLazy",(e,t)=>{yL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>n0(e,n,r,a),e.unwrap=()=>e._zod.def.getter()});function f0(e){return new LB({type:"lazy",getter:e})}const Cp=me("ZodCustom",(e,t)=>{vL.init(e,t),Wt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Ux(e,n)});function Bl(e,t){return u4(Cp,e??(()=>!0),t)}function BB(e,t={}){return d4(Cp,e,t)}function UB(e){return p4(e)}function _a(e,t={}){const n=new Cp({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...Ve(t)});return n._zod.bag.Class=e,n._zod.check=r=>{r.value instanceof e||r.issues.push({code:"invalid_type",expected:e.name,input:r.value,inst:n,path:[...n._zod.def.path??[]]})},n}var Oo;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Oo||(Oo={}));var Jg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Jg||(Jg={}));Oo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Oo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class gl extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return a(this),r}static assert(t){if(!(t instanceof gl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oo.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];n[s]=n[s]||[],n[s].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}gl.create=e=>new gl(e);var Kg;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Kg||(Kg={}));var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));var Bo=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const s=n.length,o=new Array(t);for(let l=0;l<t;l++)o[l]=n[Math.random()*s|0];return o.join("")};if(e==null)return a;if(n.includes(r))throw new lP({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},ZB=Bo();function Yg(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Ba(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((n,r)=>{t[r.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function Xg(e,...t){const n=new Headers(Ba(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var HB=/"__proto__"\s*:/,qB=/"constructor"\s*:/;function Qg(e){const t=JSON.parse(e);return t===null||typeof t!="object"||HB.test(e)===!1&&qB.test(e)===!1?t:WB(t)}function WB(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const s=r[a];s&&typeof s=="object"&&t.push(s)}}}return e}function VB(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Qg(e)}try{return Qg(e)}finally{Error.stackTraceLimit=t}}var yl=Symbol.for("vercel.ai.validator");function GB(e){return{[yl]:!0,validate:e}}function JB(e){return typeof e=="object"&&e!==null&&yl in e&&e[yl]===!0&&"validate"in e}function KB(e){let t;return()=>(t==null&&(t=e()),t)}function YB(e){return JB(e)?e:typeof e=="function"?e():XB(e)}function XB(e){return GB(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new cl({value:t,cause:n.issues})}})}async function ey({value:e,schema:t}){const n=await Sp({value:e,schema:t});if(!n.success)throw cl.wrap({value:e,cause:n.error});return n.value}async function Sp({value:e,schema:t}){const n=YB(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:cl.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:cl.wrap({value:e,cause:r}),rawValue:e}}}async function vl({text:e,schema:t}){try{const n=VB(e);return t==null?{success:!0,value:n,rawValue:n}:await Sp({value:n,schema:t})}catch(n){return{success:!1,error:Cg.isInstance(n)?n:new Cg({text:e,cause:n}),rawValue:void 0}}}function QB({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new cx).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await vl({text:n,schema:t}))}}))}async function yi(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}function Ks(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const n in t)t[n]=Ks(t[n])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Ks(t)):e.items=Ks(e.items)),e}var e5=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},t5=Symbol("Let zodToJsonSchema decide on which parser to use"),ty={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},n5=e=>typeof e=="string"?{...ty,name:e}:{...ty,...e};function er(){return{}}function r5(e,t){var n,r,a;const s={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==ze.ZodAny&&(s.items=zt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function a5(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function i5(){return{type:"boolean"}}function h0(e,t){return zt(e.type._def,t)}var o5=(e,t)=>zt(e.innerType._def,t);function m0(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>m0(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return s5(e)}}var s5=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function l5(e,t){return{...zt(e.innerType._def,t),default:e.defaultValue()}}function c5(e,t){return t.effectStrategy==="input"?zt(e.schema._def,t):er()}function u5(e){return{type:"string",enum:Array.from(e.values)}}var d5=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function p5(e,t){const n=[zt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),zt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(d5(a))r.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}r.push(s)}}),r.length?{allOf:r}:void 0}function f5(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var zu=void 0,Cr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(zu===void 0&&(zu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function g0(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Sr(n,"email",r.message,t);break;case"format:idn-email":Sr(n,"idn-email",r.message,t);break;case"pattern:zod":An(n,Cr.email,r.message,t);break}break;case"url":Sr(n,"uri",r.message,t);break;case"uuid":Sr(n,"uuid",r.message,t);break;case"regex":An(n,r.regex,r.message,t);break;case"cuid":An(n,Cr.cuid,r.message,t);break;case"cuid2":An(n,Cr.cuid2,r.message,t);break;case"startsWith":An(n,RegExp(`^${Mu(r.value,t)}`),r.message,t);break;case"endsWith":An(n,RegExp(`${Mu(r.value,t)}$`),r.message,t);break;case"datetime":Sr(n,"date-time",r.message,t);break;case"date":Sr(n,"date",r.message,t);break;case"time":Sr(n,"time",r.message,t);break;case"duration":Sr(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{An(n,RegExp(Mu(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Sr(n,"ipv4",r.message,t),r.version!=="v4"&&Sr(n,"ipv6",r.message,t);break}case"base64url":An(n,Cr.base64url,r.message,t);break;case"jwt":An(n,Cr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&An(n,Cr.ipv4Cidr,r.message,t),r.version!=="v4"&&An(n,Cr.ipv6Cidr,r.message,t);break}case"emoji":An(n,Cr.emoji(),r.message,t);break;case"ulid":{An(n,Cr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Sr(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{An(n,Cr.base64,r.message,t);break}}break}case"nanoid":An(n,Cr.nanoid,r.message,t)}return n}function Mu(e,t){return t.patternStrategy==="escape"?m5(e):e}var h5=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function m5(e){let t="";for(let n=0;n<e.length;n++)h5.has(e[n])||(t+="\\"),t+=e[n];return t}function Sr(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function An(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:ny(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=ny(t,r)}function ny(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,u=!1;for(let d=0;d<a.length;d++){if(o){s+=a[d],o=!1;continue}if(r.i){if(l){if(a[d].match(/[a-z]/)){u?(s+=a[d],s+=`${a[d-2]}-${a[d]}`.toUpperCase(),u=!1):a[d+1]==="-"&&((n=a[d+2])!=null&&n.match(/[a-z]/))?(s+=a[d],u=!0):s+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){s+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(r.m){if(a[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[d]==="."){s+=l?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}s+=a[d],a[d]==="\\"?o=!0:l&&a[d]==="]"?l=!1:!l&&a[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function y0(e,t){var n,r,a,s,o,l;const u={type:"object",additionalProperties:(n=zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===ze.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:d,...p}=g0(e.keyType._def,t);return{...u,propertyNames:p}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===ze.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===ze.ZodBranded&&e.keyType._def.type._def.typeName===ze.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:d,...p}=h0(e.keyType._def,t);return{...u,propertyNames:p}}}return u}function g5(e,t){if(t.mapStrategy==="record")return y0(e,t);const n=zt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||er(),r=zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||er();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function y5(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function v5(){return{not:er()}}function b5(){return{type:"null"}}var wd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function x5(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in wd&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const o=wd[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,o,l)=>l.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return _5(e,t)}var _5=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>zt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function w5(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[wd[e.innerType._def.typeName],"null"]};const n=zt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function k5(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function C5(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;const u=E5(l),d=zt(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});d!==void 0&&(n.properties[o]=d,u||r.push(o))}r.length&&(n.required=r);const s=S5(e,t);return s!==void 0&&(n.additionalProperties=s),n}function S5(e,t){if(e.catchall._def.typeName!=="ZodNever")return zt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function E5(e){try{return e.isOptional()}catch{return!0}}var T5=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return zt(e.innerType._def,t);const r=zt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:er()},r]}:er()},A5=(e,t)=>{if(t.pipeStrategy==="input")return zt(e.in._def,t);if(t.pipeStrategy==="output")return zt(e.out._def,t);const n=zt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=zt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function I5(e,t){return zt(e.type._def,t)}function j5(e,t){const r={type:"array",uniqueItems:!0,items:zt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function R5(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>zt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:zt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>zt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function O5(){return{not:er()}}function z5(){return er()}var M5=(e,t)=>zt(e.innerType._def,t),F5=(e,t,n)=>{switch(t){case ze.ZodString:return g0(e,n);case ze.ZodNumber:return k5(e);case ze.ZodObject:return C5(e,n);case ze.ZodBigInt:return a5(e);case ze.ZodBoolean:return i5();case ze.ZodDate:return m0(e,n);case ze.ZodUndefined:return O5();case ze.ZodNull:return b5();case ze.ZodArray:return r5(e,n);case ze.ZodUnion:case ze.ZodDiscriminatedUnion:return x5(e,n);case ze.ZodIntersection:return p5(e,n);case ze.ZodTuple:return R5(e,n);case ze.ZodRecord:return y0(e,n);case ze.ZodLiteral:return f5(e);case ze.ZodEnum:return u5(e);case ze.ZodNativeEnum:return y5(e);case ze.ZodNullable:return w5(e,n);case ze.ZodOptional:return T5(e,n);case ze.ZodMap:return g5(e,n);case ze.ZodSet:return j5(e,n);case ze.ZodLazy:return()=>e.getter()._def;case ze.ZodPromise:return I5(e,n);case ze.ZodNaN:case ze.ZodNever:return v5();case ze.ZodEffects:return c5(e,n);case ze.ZodAny:return er();case ze.ZodUnknown:return z5();case ze.ZodDefault:return l5(e,n);case ze.ZodBranded:return h0(e,n);case ze.ZodReadonly:return M5(e,n);case ze.ZodCatch:return o5(e,n);case ze.ZodPipeline:return A5(e,n);case ze.ZodFunction:case ze.ZodVoid:case ze.ZodSymbol:return;default:return(r=>{})()}};function zt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==t5)return u}if(a&&!n){const u=$5(a,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=F5(e,e.typeName,t),l=typeof o=="function"?zt(o(),t):o;if(l&&N5(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return s.jsonSchema=l,u}return s.jsonSchema=l,l}var $5=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:e5(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),er()):t.$refStrategy==="seen"?er():void 0}},N5=(e,t,n)=>(e.description&&(n.description=e.description),n),P5=e=>{const t=n5(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},D5=(e,t)=>{var n;const r=P5(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,h])=>{var g;return{...d,[p]:(g=zt(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?g:er()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=zt(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:er(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(o.title=l);const u=s===void 0?a?{...o,[r.definitionPath]:a}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},L5=D5;function B5(e,t){var n;const r=(n=void 0)!=null?n:!1;return Ep(()=>L5(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function U5(e,t){var n;const r=(n=void 0)!=null?n:!1;return Ep(()=>Ks(r0(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async a=>{const s=await wp(e,a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Z5(e){return"_zod"in e}function v0(e,t){return Z5(e)?U5(e):B5(e)}var kd=Symbol.for("vercel.ai.schema");function Ep(e,{validate:t}={}){return{[kd]:!0,_type:void 0,[yl]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function H5(e){return typeof e=="object"&&e!==null&&kd in e&&e[kd]===!0&&"jsonSchema"in e&&"validate"in e}function q5(e){return e==null?Ep({properties:{},additionalProperties:!1}):H5(e)?e:typeof e=="function"?e():v0(e)}var W5=Object.defineProperty,V5=(e,t)=>{for(var n in t)W5(e,n,{get:t[n],enumerable:!0})},b0="AI_NoObjectGeneratedError",x0=`vercel.ai.error.${b0}`,G5=Symbol.for(x0),_0,ry=class extends va{constructor({message:t="No object generated.",cause:n,text:r,response:a,usage:s,finishReason:o}){super({name:b0,message:t,cause:n}),this[_0]=!0,this.text=r,this.response=a,this.usage=s,this.finishReason=o}static isInstance(t){return va.hasMarker(t,x0)}};_0=G5;var ay="5.0.118",w0=jt([se(),_a(Uint8Array),_a(ArrayBuffer),Bl(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),zo=f0(()=>jt([l0(),se(),Mi(),dt(),Fi(se(),zo),Hn(zo)])),cn=Fi(se(),Fi(se(),zo)),k0=Be({type:Ce("text"),text:se(),providerOptions:cn.optional()}),J5=Be({type:Ce("image"),image:jt([w0,_a(URL)]),mediaType:se().optional(),providerOptions:cn.optional()}),C0=Be({type:Ce("file"),data:jt([w0,_a(URL)]),filename:se().optional(),mediaType:se(),providerOptions:cn.optional()}),K5=Be({type:Ce("reasoning"),text:se(),providerOptions:cn.optional()}),Y5=Be({type:Ce("tool-call"),toolCallId:se(),toolName:se(),input:St(),providerOptions:cn.optional(),providerExecuted:dt().optional()}),X5=u0("type",[Be({type:Ce("text"),value:se()}),Be({type:Ce("json"),value:zo}),Be({type:Ce("error-text"),value:se()}),Be({type:Ce("error-json"),value:zo}),Be({type:Ce("content"),value:Hn(jt([Be({type:Ce("text"),text:se()}),Be({type:Ce("media"),data:se(),mediaType:se()})]))})]),S0=Be({type:Ce("tool-result"),toolCallId:se(),toolName:se(),output:X5,providerOptions:cn.optional()}),Q5=Be({role:Ce("system"),content:se(),providerOptions:cn.optional()}),e6=Be({role:Ce("user"),content:jt([se(),Hn(jt([k0,J5,C0]))]),providerOptions:cn.optional()}),t6=Be({role:Ce("assistant"),content:jt([se(),Hn(jt([k0,C0,K5,Y5,S0]))]),providerOptions:cn.optional()}),n6=Be({role:Ce("tool"),content:Hn(S0),providerOptions:cn.optional()});jt([Q5,e6,t6,n6]);Bo({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var r6=KB(()=>v0(jt([rt({type:Ce("text-start"),id:se(),providerMetadata:cn.optional()}),rt({type:Ce("text-delta"),id:se(),delta:se(),providerMetadata:cn.optional()}),rt({type:Ce("text-end"),id:se(),providerMetadata:cn.optional()}),rt({type:Ce("error"),errorText:se()}),rt({type:Ce("tool-input-start"),toolCallId:se(),toolName:se(),providerExecuted:dt().optional(),dynamic:dt().optional()}),rt({type:Ce("tool-input-delta"),toolCallId:se(),inputTextDelta:se()}),rt({type:Ce("tool-input-available"),toolCallId:se(),toolName:se(),input:St(),providerExecuted:dt().optional(),providerMetadata:cn.optional(),dynamic:dt().optional()}),rt({type:Ce("tool-input-error"),toolCallId:se(),toolName:se(),input:St(),providerExecuted:dt().optional(),providerMetadata:cn.optional(),dynamic:dt().optional(),errorText:se()}),rt({type:Ce("tool-output-available"),toolCallId:se(),output:St(),providerExecuted:dt().optional(),dynamic:dt().optional(),preliminary:dt().optional()}),rt({type:Ce("tool-output-error"),toolCallId:se(),errorText:se(),providerExecuted:dt().optional(),dynamic:dt().optional()}),rt({type:Ce("reasoning-start"),id:se(),providerMetadata:cn.optional()}),rt({type:Ce("reasoning-delta"),id:se(),delta:se(),providerMetadata:cn.optional()}),rt({type:Ce("reasoning-end"),id:se(),providerMetadata:cn.optional()}),rt({type:Ce("source-url"),sourceId:se(),url:se(),title:se().optional(),providerMetadata:cn.optional()}),rt({type:Ce("source-document"),sourceId:se(),mediaType:se(),title:se(),filename:se().optional(),providerMetadata:cn.optional()}),rt({type:Ce("file"),url:se(),mediaType:se(),providerMetadata:cn.optional()}),rt({type:Bl(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:se().optional(),data:St(),transient:dt().optional()}),rt({type:Ce("start-step")}),rt({type:Ce("finish-step")}),rt({type:Ce("start"),messageId:se().optional(),messageMetadata:St().optional()}),rt({type:Ce("finish"),finishReason:Lo(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:St().optional()}),rt({type:Ce("abort")}),rt({type:Ce("message-metadata"),messageMetadata:St()})])));function a6(e){return e.type.startsWith("data-")}function E0(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(a===void 0)continue;const s=r in e?e[r]:void 0,o=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),l=s!=null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&l?n[r]=E0(s,a):n[r]=a}return n}function i6(e){const t=["ROOT"];let n=-1,r=null;function a(u,d,p){switch(u){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function s(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function o(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let u=0;u<e.length;u++){const d=e[u];switch(t[t.length-1]){case"ROOT":a(d,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(d,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(d,u);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=u,t.pop();break}default:{n=u,a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(d,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}async function T0(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await vl({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await vl({text:i6(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Ys(e){return e.type.startsWith("tool-")}function o6(e){return e.type==="dynamic-tool"}function iy(e){return Ys(e)||o6(e)}function oy(e){return e.type.split("-").slice(1).join("-")}function s6({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function l6({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:s,onData:o}){return e.pipeThrough(new TransformStream({async transform(l,u){await r(async({state:d,write:p})=>{var h,g,v,y;function _(I){const O=d.message.parts.filter(Ys).find(U=>U.toolCallId===I);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function x(I){const O=d.message.parts.filter(U=>U.type==="dynamic-tool").find(U=>U.toolCallId===I);if(O==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return O}function k(I){var $;const O=d.message.parts.find(G=>Ys(G)&&G.toolCallId===I.toolCallId),U=I,B=O;O!=null?(O.state=I.state,B.input=U.input,B.output=U.output,B.errorText=U.errorText,B.rawInput=U.rawInput,B.preliminary=U.preliminary,B.providerExecuted=($=U.providerExecuted)!=null?$:O.providerExecuted,U.providerMetadata!=null&&O.state==="input-available"&&(O.callProviderMetadata=U.providerMetadata)):d.message.parts.push({type:`tool-${I.toolName}`,toolCallId:I.toolCallId,state:I.state,input:U.input,output:U.output,rawInput:U.rawInput,errorText:U.errorText,providerExecuted:U.providerExecuted,preliminary:U.preliminary,...U.providerMetadata!=null?{callProviderMetadata:U.providerMetadata}:{}})}function T(I){var $,O;const U=d.message.parts.find(Y=>Y.type==="dynamic-tool"&&Y.toolCallId===I.toolCallId),B=I,G=U;U!=null?(U.state=I.state,G.toolName=I.toolName,G.input=B.input,G.output=B.output,G.errorText=B.errorText,G.rawInput=($=B.rawInput)!=null?$:G.rawInput,G.preliminary=B.preliminary,G.providerExecuted=(O=B.providerExecuted)!=null?O:U.providerExecuted,B.providerMetadata!=null&&U.state==="input-available"&&(U.callProviderMetadata=B.providerMetadata)):d.message.parts.push({type:"dynamic-tool",toolName:I.toolName,toolCallId:I.toolCallId,state:I.state,input:B.input,output:B.output,errorText:B.errorText,preliminary:B.preliminary,providerExecuted:B.providerExecuted,...B.providerMetadata!=null?{callProviderMetadata:B.providerMetadata}:{}})}async function A(I){if(I!=null){const $=d.message.metadata!=null?E0(d.message.metadata,I):I;t!=null&&await ey({value:$,schema:t}),d.message.metadata=$}}switch(l.type){case"text-start":{const I={type:"text",text:"",providerMetadata:l.providerMetadata,state:"streaming"};d.activeTextParts[l.id]=I,d.message.parts.push(I),p();break}case"text-delta":{const I=d.activeTextParts[l.id];I.text+=l.delta,I.providerMetadata=(h=l.providerMetadata)!=null?h:I.providerMetadata,p();break}case"text-end":{const I=d.activeTextParts[l.id];I.state="done",I.providerMetadata=(g=l.providerMetadata)!=null?g:I.providerMetadata,delete d.activeTextParts[l.id],p();break}case"reasoning-start":{const I={type:"reasoning",text:"",providerMetadata:l.providerMetadata,state:"streaming"};d.activeReasoningParts[l.id]=I,d.message.parts.push(I),p();break}case"reasoning-delta":{const I=d.activeReasoningParts[l.id];I.text+=l.delta,I.providerMetadata=(v=l.providerMetadata)!=null?v:I.providerMetadata,p();break}case"reasoning-end":{const I=d.activeReasoningParts[l.id];I.providerMetadata=(y=l.providerMetadata)!=null?y:I.providerMetadata,I.state="done",delete d.activeReasoningParts[l.id],p();break}case"file":{d.message.parts.push({type:"file",mediaType:l.mediaType,url:l.url}),p();break}case"source-url":{d.message.parts.push({type:"source-url",sourceId:l.sourceId,url:l.url,title:l.title,providerMetadata:l.providerMetadata}),p();break}case"source-document":{d.message.parts.push({type:"source-document",sourceId:l.sourceId,mediaType:l.mediaType,title:l.title,filename:l.filename,providerMetadata:l.providerMetadata}),p();break}case"tool-input-start":{const I=d.message.parts.filter(Ys);d.partialToolCalls[l.toolCallId]={text:"",toolName:l.toolName,index:I.length,dynamic:l.dynamic},l.dynamic?T({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-streaming",input:void 0,providerExecuted:l.providerExecuted}),p();break}case"tool-input-delta":{const I=d.partialToolCalls[l.toolCallId];I.text+=l.inputTextDelta;const{value:$}=await T0(I.text);I.dynamic?T({toolCallId:l.toolCallId,toolName:I.toolName,state:"input-streaming",input:$}):k({toolCallId:l.toolCallId,toolName:I.toolName,state:"input-streaming",input:$}),p();break}case"tool-input-available":{l.dynamic?T({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"input-available",input:l.input,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),p(),s&&!l.providerExecuted&&await s({toolCall:l});break}case"tool-input-error":{l.dynamic?T({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}):k({toolCallId:l.toolCallId,toolName:l.toolName,state:"output-error",input:void 0,rawInput:l.input,errorText:l.errorText,providerExecuted:l.providerExecuted,providerMetadata:l.providerMetadata}),p();break}case"tool-output-available":{if(l.dynamic){const I=x(l.toolCallId);T({toolCallId:l.toolCallId,toolName:I.toolName,state:"output-available",input:I.input,output:l.output,preliminary:l.preliminary})}else{const I=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:oy(I),state:"output-available",input:I.input,output:l.output,providerExecuted:l.providerExecuted,preliminary:l.preliminary})}p();break}case"tool-output-error":{if(l.dynamic){const I=x(l.toolCallId);T({toolCallId:l.toolCallId,toolName:I.toolName,state:"output-error",input:I.input,errorText:l.errorText,providerExecuted:l.providerExecuted})}else{const I=_(l.toolCallId);k({toolCallId:l.toolCallId,toolName:oy(I),state:"output-error",input:I.input,rawInput:I.rawInput,errorText:l.errorText,providerExecuted:l.providerExecuted})}p();break}case"start-step":{d.message.parts.push({type:"step-start"});break}case"finish-step":{d.activeTextParts={},d.activeReasoningParts={};break}case"start":{l.messageId!=null&&(d.message.id=l.messageId),await A(l.messageMetadata),(l.messageId!=null||l.messageMetadata!=null)&&p();break}case"finish":{l.finishReason!=null&&(d.finishReason=l.finishReason),await A(l.messageMetadata),l.messageMetadata!=null&&p();break}case"message-metadata":{await A(l.messageMetadata),l.messageMetadata!=null&&p();break}case"error":{a?.(new Error(l.errorText));break}default:if(a6(l)){n?.[l.type]!=null&&await ey({value:l.data,schema:n[l.type]});const I=l;if(I.transient){o?.(I);break}const $=I.id!=null?d.message.parts.find(O=>I.type===O.type&&I.id===O.id):void 0;$!=null?$.data=I.data:d.message.parts.push(I),o?.(I),p()}}u.enqueue(l)})}}))}async function c6({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}Bo({prefix:"aitxt",size:24});Bo({prefix:"aiobj",size:24});var u6=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};Bo({prefix:"aiobj",size:24});var d6={};V5(d6,{object:()=>f6,text:()=>p6});var p6=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),f6=({schema:e})=>{const t=q5(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await T0(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await vl({text:n});if(!a.success)throw new ry({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await Sp({value:a.value,schema:t});if(!s.success)throw new ry({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}};async function h6(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,a=await new Promise((s,o)=>{const l=new FileReader;l.onload=u=>{var d;s((d=u.target)==null?void 0:d.result)},l.onerror=u=>o(u),l.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:a}}))}var m6=class{constructor({api:t="/api/chat",credentials:n,headers:r,body:a,fetch:s,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:l}){this.api=t,this.credentials=n,this.headers=r,this.body=a,this.fetch=s,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=l}async sendMessages({abortSignal:t,...n}){var r,a,s,o,l;const u=await yi(this.body),d=await yi(this.headers),p=await yi(this.credentials),h={...Ba(d),...Ba(n.headers)},g=await((r=this.prepareSendMessagesRequest)==null?void 0:r.call(this,{api:this.api,id:n.chatId,messages:n.messages,body:{...u,...n.body},headers:h,credentials:p,requestMetadata:n.metadata,trigger:n.trigger,messageId:n.messageId})),v=(a=g?.api)!=null?a:this.api,y=g?.headers!==void 0?Ba(g.headers):h,_=g?.body!==void 0?g.body:{...u,...n.body,id:n.chatId,messages:n.messages,trigger:n.trigger,messageId:n.messageId},x=(s=g?.credentials)!=null?s:p,T=await((o=this.fetch)!=null?o:globalThis.fetch)(v,{method:"POST",headers:Xg({"Content-Type":"application/json",...y},`ai-sdk/${ay}`,Yg()),body:JSON.stringify(_),credentials:x,signal:t});if(!T.ok)throw new Error((l=await T.text())!=null?l:"Failed to fetch the chat response.");if(!T.body)throw new Error("The response body is empty.");return this.processResponseStream(T.body)}async reconnectToStream(t){var n,r,a,s,o;const l=await yi(this.body),u=await yi(this.headers),d=await yi(this.credentials),p={...Ba(u),...Ba(t.headers)},h=await((n=this.prepareReconnectToStreamRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,body:{...l,...t.body},headers:p,credentials:d,requestMetadata:t.metadata})),g=(r=h?.api)!=null?r:`${this.api}/${t.chatId}/stream`,v=h?.headers!==void 0?Ba(h.headers):p,y=(a=h?.credentials)!=null?a:d,x=await((s=this.fetch)!=null?s:globalThis.fetch)(g,{method:"GET",headers:Xg(v,`ai-sdk/${ay}`,Yg()),credentials:y});if(x.status===204)return null;if(!x.ok)throw new Error((o=await x.text())!=null?o:"Failed to fetch the chat response.");if(!x.body)throw new Error("The response body is empty.");return this.processResponseStream(x.body)}},g6=class extends m6{constructor(t={}){super(t)}processResponseStream(t){return QB({stream:t,schema:r6}).pipeThrough(new TransformStream({async transform(n,r){if(!n.success)throw n.error;r.enqueue(n.value)}}))}},y6=class{constructor({generateId:e=ZB,id:t=e(),transport:n=new g6,messageMetadataSchema:r,dataPartSchemas:a,state:s,onError:o,onToolCall:l,onFinish:u,onData:d,sendAutomaticallyWhen:p}){this.activeResponse=void 0,this.jobExecutor=new u6,this.sendMessage=async(h,g)=>{var v,y,_,x;if(h==null){await this.makeRequest({trigger:"submit-message",messageId:(v=this.lastMessage)==null?void 0:v.id,...g});return}let k;if("text"in h||"files"in h?k={parts:[...Array.isArray(h.files)?h.files:await h6(h.files),..."text"in h&&h.text!=null?[{type:"text",text:h.text}]:[]]}:k=h,h.messageId!=null){const T=this.state.messages.findIndex(A=>A.id===h.messageId);if(T===-1)throw new Error(`message with id ${h.messageId} not found`);if(this.state.messages[T].role!=="user")throw new Error(`message with id ${h.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,T+1),this.state.replaceMessage(T,{...k,id:h.messageId,role:(y=k.role)!=null?y:"user",metadata:h.metadata})}else this.state.pushMessage({...k,id:(_=k.id)!=null?_:this.generateId(),role:(x=k.role)!=null?x:"user",metadata:h.metadata});await this.makeRequest({trigger:"submit-message",messageId:h.messageId,...g})},this.regenerate=async({messageId:h,...g}={})=>{const v=h==null?this.state.messages.length-1:this.state.messages.findIndex(y=>y.id===h);if(v===-1)throw new Error(`message ${h} not found`);this.state.messages=this.state.messages.slice(0,this.messages[v].role==="assistant"?v:v+1),await this.makeRequest({trigger:"regenerate-message",messageId:h,...g})},this.resumeStream=async(h={})=>{await this.makeRequest({trigger:"resume-stream",...h})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async({state:h="output-available",tool:g,toolCallId:v,output:y,errorText:_})=>this.jobExecutor.run(async()=>{var x,k;const T=this.state.messages,A=T[T.length-1];this.state.replaceMessage(T.length-1,{...A,parts:A.parts.map(I=>iy(I)&&I.toolCallId===v?{...I,state:h,output:y,errorText:_}:I)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(I=>iy(I)&&I.toolCallId===v?{...I,state:h,output:y,errorText:_}:I)),this.status!=="streaming"&&this.status!=="submitted"&&((x=this.sendAutomaticallyWhen)!=null&&x.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(k=this.lastMessage)==null?void 0:k.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var h;this.status!=="streaming"&&this.status!=="submitted"||(h=this.activeResponse)!=null&&h.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=s,this.onError=o,this.onToolCall=l,this.onFinish=u,this.onData=d,this.sendAutomaticallyWhen=p}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var s,o,l,u;this.setStatus({status:"submitted",error:void 0});const d=this.lastMessage;let p=!1,h=!1,g=!1;try{const v={state:s6({lastMessage:this.state.snapshot(d),messageId:this.generateId()}),abortController:new AbortController};v.abortController.signal.addEventListener("abort",()=>{p=!0}),this.activeResponse=v;let y;if(e==="resume-stream"){const x=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(x==null){this.setStatus({status:"ready"});return}y=x}else y=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:v.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const _=x=>this.jobExecutor.run(()=>x({state:v.state,write:()=>{var k;this.setStatus({status:"streaming"}),v.state.message.id===((k=this.lastMessage)==null?void 0:k.id)?this.state.replaceMessage(this.state.messages.length-1,v.state.message):this.state.pushMessage(v.state.message)}}));await c6({stream:l6({stream:y,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:_,onError:x=>{throw x}}),onError:x=>{throw x}}),this.setStatus({status:"ready"})}catch(v){if(p||v.name==="AbortError")return p=!0,this.setStatus({status:"ready"}),null;g=!0,v instanceof TypeError&&(v.message.toLowerCase().includes("fetch")||v.message.toLowerCase().includes("network"))&&(h=!0),this.onError&&v instanceof Error&&this.onError(v),this.setStatus({status:"error",error:v})}finally{try{(o=this.onFinish)==null||o.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:p,isDisconnect:h,isError:g,finishReason:(s=this.activeResponse)==null?void 0:s.state.finishReason})}catch(v){console.error(v)}this.activeResponse=void 0}(l=this.sendAutomaticallyWhen)!=null&&l.call(this,{messages:this.state.messages})&&!g&&await this.makeRequest({trigger:"submit-message",messageId:(u=this.lastMessage)==null?void 0:u.id,metadata:t,headers:n,body:r})}};function v6(e,t){if(typeof e!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...s){clearTimeout(n);const o=Date.now(),l=o-r,u=t-l;u<=0?(r=o,e.apply(this,s)):n=setTimeout(()=>{r=Date.now(),e.apply(this,s)},u)}}var b6=v6;const x6=ka(b6);var A0=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Zt=(e,t,n)=>(A0(e,t,"read from private field"),n?n.call(e):t.get(e)),Or=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ha=(e,t,n,r)=>(A0(e,t,"write to private field"),t.set(e,n),n);function _6(e,t){return t!=null?x6(e,t):e}var pr,Xs,Qs,yo,vo,bo,xi,Cd,Sd,w6=class{constructor(e=[]){Or(this,pr,void 0),Or(this,Xs,"ready"),Or(this,Qs,void 0),Or(this,yo,new Set),Or(this,vo,new Set),Or(this,bo,new Set),this.pushMessage=t=>{ha(this,pr,Zt(this,pr).concat(t)),Zt(this,xi).call(this)},this.popMessage=()=>{ha(this,pr,Zt(this,pr).slice(0,-1)),Zt(this,xi).call(this)},this.replaceMessage=(t,n)=>{ha(this,pr,[...Zt(this,pr).slice(0,t),this.snapshot(n),...Zt(this,pr).slice(t+1)]),Zt(this,xi).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?_6(t,n):t;return Zt(this,yo).add(r),()=>{Zt(this,yo).delete(r)}},this["~registerStatusCallback"]=t=>(Zt(this,vo).add(t),()=>{Zt(this,vo).delete(t)}),this["~registerErrorCallback"]=t=>(Zt(this,bo).add(t),()=>{Zt(this,bo).delete(t)}),Or(this,xi,()=>{Zt(this,yo).forEach(t=>t())}),Or(this,Cd,()=>{Zt(this,vo).forEach(t=>t())}),Or(this,Sd,()=>{Zt(this,bo).forEach(t=>t())}),ha(this,pr,e)}get status(){return Zt(this,Xs)}set status(e){ha(this,Xs,e),Zt(this,Cd).call(this)}get error(){return Zt(this,Qs)}set error(e){ha(this,Qs,e),Zt(this,Sd).call(this)}get messages(){return Zt(this,pr)}set messages(e){ha(this,pr,[...e]),Zt(this,xi).call(this)}};pr=new WeakMap;Xs=new WeakMap;Qs=new WeakMap;yo=new WeakMap;vo=new WeakMap;bo=new WeakMap;xi=new WeakMap;Cd=new WeakMap;Sd=new WeakMap;var _i,sy=class extends y6{constructor({messages:t,...n}){const r=new w6(t);super({...n,state:r}),Or(this,_i,void 0),this["~registerMessagesCallback"]=(a,s)=>Zt(this,_i)["~registerMessagesCallback"](a,s),this["~registerStatusCallback"]=a=>Zt(this,_i)["~registerStatusCallback"](a),this["~registerErrorCallback"]=a=>Zt(this,_i)["~registerErrorCallback"](a),ha(this,_i,r)}};_i=new WeakMap;function k6({experimental_throttle:e,resume:t=!1,...n}={}){const r=W.useRef("chat"in n?n.chat:new sy(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new sy(n));const s=W.useCallback(p=>r.current["~registerMessagesCallback"](p,e),[e,r.current.id]),o=W.useSyncExternalStore(s,()=>r.current.messages,()=>r.current.messages),l=W.useSyncExternalStore(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),u=W.useSyncExternalStore(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),d=W.useCallback(p=>{typeof p=="function"&&(p=p(r.current.messages)),r.current.messages=p},[r]);return W.useEffect(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:o,setMessages:d,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:u,resumeStream:r.current.resumeStream,status:l,addToolResult:r.current.addToolOutput,addToolOutput:r.current.addToolOutput}}var I0="vercel.ai.error",C6=Symbol.for(I0),j0,S6=class R0 extends Error{constructor({name:t,message:n,cause:r}){super(n),this[j0]=!0,this.name=t,this.cause=r}static isInstance(t){return R0.hasMarker(t,I0)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};j0=C6;var wa=S6;function O0(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var z0="AI_InvalidArgumentError",M0=`vercel.ai.error.${z0}`,E6=Symbol.for(M0),F0,T6=class extends wa{constructor({message:e,cause:t,argument:n}){super({name:z0,message:e,cause:t}),this[F0]=!0,this.argument=n}static isInstance(e){return wa.hasMarker(e,M0)}};F0=E6;var $0="AI_JSONParseError",N0=`vercel.ai.error.${$0}`,A6=Symbol.for(N0),P0,ly=class extends wa{constructor({text:e,cause:t}){super({name:$0,message:`JSON parsing failed: Text: ${e}.
Error message: ${O0(t)}`,cause:t}),this[P0]=!0,this.text=e}static isInstance(e){return wa.hasMarker(e,N0)}};P0=A6;var D0="AI_TypeValidationError",L0=`vercel.ai.error.${D0}`,I6=Symbol.for(L0),B0,j6=class Ed extends wa{constructor({value:t,cause:n}){super({name:D0,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${O0(n)}`,cause:n}),this[B0]=!0,this.value=t}static isInstance(t){return wa.hasMarker(t,L0)}static wrap({value:t,cause:n}){return Ed.isInstance(n)&&n.value===t?n:new Ed({value:t,cause:n})}};B0=I6;var Td=j6;function cy(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function R6(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function uy(e,...t){const n=R6(e??{}),r=new Headers(n),a=r.get("user-agent")||"";return r.set("user-agent",[a,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var Uo=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const s=n.length,o=new Array(t);for(let l=0;l<t;l++)o[l]=n[Math.random()*s|0];return o.join("")};if(e==null)return a;if(n.includes(r))throw new T6({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`};Uo();var O6=/"__proto__"\s*:/,z6=/"constructor"\s*:/;function M6(e){const t=JSON.parse(e);return t===null||typeof t!="object"||O6.test(e)===!1&&z6.test(e)===!1?t:F6(t)}function F6(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const s=r[a];s&&typeof s=="object"&&t.push(s)}}}return e}function $6(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return M6(e)}finally{Error.stackTraceLimit=t}}var bl=Symbol.for("vercel.ai.validator");function N6(e){return{[bl]:!0,validate:e}}function P6(e){return typeof e=="object"&&e!==null&&bl in e&&e[bl]===!0&&"validate"in e}function D6(e){return P6(e)?e:L6(e)}function L6(e){return N6(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Td({value:t,cause:n.issues})}})}async function U0({value:e,schema:t}){const n=D6(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Td.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Td.wrap({value:e,cause:r}),rawValue:e}}}async function xl({text:e,schema:t}){try{const n=$6(e);return t==null?{success:!0,value:n,rawValue:n}:await U0({value:n,schema:t})}catch(n){return{success:!1,error:ly.isInstance(n)?n:new ly({text:e,cause:n}),rawValue:void 0}}}function B6({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new cx).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await xl({text:n,schema:t}))}}))}async function vi(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var U6=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},Z6=Symbol("Let zodToJsonSchema decide on which parser to use"),dy={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},H6=e=>typeof e=="string"?{...dy,name:e}:{...dy,...e};function tr(){return{}}function q6(e,t){var n,r,a;const s={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==ze.ZodAny&&(s.items=Mt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function W6(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function V6(){return{type:"boolean"}}function Z0(e,t){return Mt(e.type._def,t)}var G6=(e,t)=>Mt(e.innerType._def,t);function H0(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>H0(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return J6(e)}}var J6=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function K6(e,t){return{...Mt(e.innerType._def,t),default:e.defaultValue()}}function Y6(e,t){return t.effectStrategy==="input"?Mt(e.schema._def,t):tr()}function X6(e){return{type:"string",enum:Array.from(e.values)}}var Q6=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function eU(e,t){const n=[Mt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Mt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(Q6(a))r.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}r.push(s)}}),r.length?{allOf:r}:void 0}function tU(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Fu=void 0,Er={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Fu===void 0&&(Fu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function q0(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Tr(n,"email",r.message,t);break;case"format:idn-email":Tr(n,"idn-email",r.message,t);break;case"pattern:zod":In(n,Er.email,r.message,t);break}break;case"url":Tr(n,"uri",r.message,t);break;case"uuid":Tr(n,"uuid",r.message,t);break;case"regex":In(n,r.regex,r.message,t);break;case"cuid":In(n,Er.cuid,r.message,t);break;case"cuid2":In(n,Er.cuid2,r.message,t);break;case"startsWith":In(n,RegExp(`^${$u(r.value,t)}`),r.message,t);break;case"endsWith":In(n,RegExp(`${$u(r.value,t)}$`),r.message,t);break;case"datetime":Tr(n,"date-time",r.message,t);break;case"date":Tr(n,"date",r.message,t);break;case"time":Tr(n,"time",r.message,t);break;case"duration":Tr(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{In(n,RegExp($u(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Tr(n,"ipv4",r.message,t),r.version!=="v4"&&Tr(n,"ipv6",r.message,t);break}case"base64url":In(n,Er.base64url,r.message,t);break;case"jwt":In(n,Er.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&In(n,Er.ipv4Cidr,r.message,t),r.version!=="v4"&&In(n,Er.ipv6Cidr,r.message,t);break}case"emoji":In(n,Er.emoji(),r.message,t);break;case"ulid":{In(n,Er.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Tr(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{In(n,Er.base64,r.message,t);break}}break}case"nanoid":In(n,Er.nanoid,r.message,t)}return n}function $u(e,t){return t.patternStrategy==="escape"?rU(e):e}var nU=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rU(e){let t="";for(let n=0;n<e.length;n++)nU.has(e[n])||(t+="\\"),t+=e[n];return t}function Tr(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function In(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:py(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=py(t,r)}function py(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,u=!1;for(let d=0;d<a.length;d++){if(o){s+=a[d],o=!1;continue}if(r.i){if(l){if(a[d].match(/[a-z]/)){u?(s+=a[d],s+=`${a[d-2]}-${a[d]}`.toUpperCase(),u=!1):a[d+1]==="-"&&((n=a[d+2])!=null&&n.match(/[a-z]/))?(s+=a[d],u=!0):s+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){s+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(r.m){if(a[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[d]==="."){s+=l?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}s+=a[d],a[d]==="\\"?o=!0:l&&a[d]==="]"?l=!1:!l&&a[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function W0(e,t){var n,r,a,s,o,l;const u={type:"object",additionalProperties:(n=Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===ze.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:d,...p}=q0(e.keyType._def,t);return{...u,propertyNames:p}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===ze.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===ze.ZodBranded&&e.keyType._def.type._def.typeName===ze.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:d,...p}=Z0(e.keyType._def,t);return{...u,propertyNames:p}}}return u}function aU(e,t){if(t.mapStrategy==="record")return W0(e,t);const n=Mt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||tr(),r=Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||tr();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function iU(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function oU(){return{not:tr()}}function sU(){return{type:"null"}}var Ad={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function lU(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Ad&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const o=Ad[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,o,l)=>l.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return cU(e,t)}var cU=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>Mt(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function uU(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Ad[e.innerType._def.typeName],"null"]};const n=Mt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function dU(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function pU(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;const u=hU(l),d=Mt(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});d!==void 0&&(n.properties[o]=d,u||r.push(o))}r.length&&(n.required=r);const s=fU(e,t);return s!==void 0&&(n.additionalProperties=s),n}function fU(e,t){if(e.catchall._def.typeName!=="ZodNever")return Mt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function hU(e){try{return e.isOptional()}catch{return!0}}var mU=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return Mt(e.innerType._def,t);const r=Mt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:tr()},r]}:tr()},gU=(e,t)=>{if(t.pipeStrategy==="input")return Mt(e.in._def,t);if(t.pipeStrategy==="output")return Mt(e.out._def,t);const n=Mt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Mt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function yU(e,t){return Mt(e.type._def,t)}function vU(e,t){const r={type:"array",uniqueItems:!0,items:Mt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function bU(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Mt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Mt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Mt(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function xU(){return{not:tr()}}function _U(){return tr()}var wU=(e,t)=>Mt(e.innerType._def,t),kU=(e,t,n)=>{switch(t){case ze.ZodString:return q0(e,n);case ze.ZodNumber:return dU(e);case ze.ZodObject:return pU(e,n);case ze.ZodBigInt:return W6(e);case ze.ZodBoolean:return V6();case ze.ZodDate:return H0(e,n);case ze.ZodUndefined:return xU();case ze.ZodNull:return sU();case ze.ZodArray:return q6(e,n);case ze.ZodUnion:case ze.ZodDiscriminatedUnion:return lU(e,n);case ze.ZodIntersection:return eU(e,n);case ze.ZodTuple:return bU(e,n);case ze.ZodRecord:return W0(e,n);case ze.ZodLiteral:return tU(e);case ze.ZodEnum:return X6(e);case ze.ZodNativeEnum:return iU(e);case ze.ZodNullable:return uU(e,n);case ze.ZodOptional:return mU(e,n);case ze.ZodMap:return aU(e,n);case ze.ZodSet:return vU(e,n);case ze.ZodLazy:return()=>e.getter()._def;case ze.ZodPromise:return yU(e,n);case ze.ZodNaN:case ze.ZodNever:return oU();case ze.ZodEffects:return Y6(e,n);case ze.ZodAny:return tr();case ze.ZodUnknown:return _U();case ze.ZodDefault:return K6(e,n);case ze.ZodBranded:return Z0(e,n);case ze.ZodReadonly:return wU(e,n);case ze.ZodCatch:return G6(e,n);case ze.ZodPipeline:return gU(e,n);case ze.ZodFunction:case ze.ZodVoid:case ze.ZodSymbol:return;default:return(r=>{})()}};function Mt(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const u=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(u!==Z6)return u}if(a&&!n){const u=CU(a,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=kU(e,e.typeName,t),l=typeof o=="function"?Mt(o(),t):o;if(l&&SU(e,t,l),t.postProcess){const u=t.postProcess(l,e,t);return s.jsonSchema=l,u}return s.jsonSchema=l,l}var CU=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:U6(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),tr()):t.$refStrategy==="seen"?tr():void 0}},SU=(e,t,n)=>(e.description&&(n.description=e.description),n),EU=e=>{const t=H6(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},TU=(e,t)=>{var n;const r=EU(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,h])=>{var g;return{...d,[p]:(g=Mt(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?g:tr()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=Mt(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))!=null?n:tr(),l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(o.title=l);const u=s===void 0?a?{...o,[r.definitionPath]:a}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:o}};return u.$schema="http://json-schema.org/draft-07/schema#",u},AU=TU;function IU(e,t){var n;const r=(n=void 0)!=null?n:!1;return Tp(AU(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function jU(e,t){var n;const r=(n=void 0)!=null?n:!1,a=r0(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return Tp(a,{validate:async s=>{const o=await wp(e,s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function RU(e){return"_zod"in e}function OU(e,t){return RU(e)?jU(e):IU(e)}var Id=Symbol.for("vercel.ai.schema");function Tp(e,{validate:t}={}){return{[Id]:!0,_type:void 0,[bl]:!0,jsonSchema:e,validate:t}}function zU(e){return typeof e=="object"&&e!==null&&Id in e&&e[Id]===!0&&"jsonSchema"in e&&"validate"in e}function MU(e){return e==null?Tp({properties:{},additionalProperties:!1}):zU(e)?e:OU(e)}var FU=Object.defineProperty,$U=(e,t)=>{for(var n in t)FU(e,n,{get:t[n],enumerable:!0})},V0="AI_NoObjectGeneratedError",G0=`vercel.ai.error.${V0}`,NU=Symbol.for(G0),J0,fy=class extends wa{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:V0,message:e,cause:t}),this[J0]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return wa.hasMarker(e,G0)}};J0=NU;var hy="5.0.52",K0=jt([se(),_a(Uint8Array),_a(ArrayBuffer),Bl(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),Mo=f0(()=>jt([l0(),se(),Mi(),dt(),Fi(se(),Mo),Hn(Mo)])),Et=Fi(se(),Fi(se(),Mo)),Y0=Be({type:Ce("text"),text:se(),providerOptions:Et.optional()}),PU=Be({type:Ce("image"),image:jt([K0,_a(URL)]),mediaType:se().optional(),providerOptions:Et.optional()}),X0=Be({type:Ce("file"),data:jt([K0,_a(URL)]),filename:se().optional(),mediaType:se(),providerOptions:Et.optional()}),DU=Be({type:Ce("reasoning"),text:se(),providerOptions:Et.optional()}),LU=Be({type:Ce("tool-call"),toolCallId:se(),toolName:se(),input:St(),providerOptions:Et.optional(),providerExecuted:dt().optional()}),BU=u0("type",[Be({type:Ce("text"),value:se()}),Be({type:Ce("json"),value:Mo}),Be({type:Ce("error-text"),value:se()}),Be({type:Ce("error-json"),value:Mo}),Be({type:Ce("content"),value:Hn(jt([Be({type:Ce("text"),text:se()}),Be({type:Ce("media"),data:se(),mediaType:se()})]))})]),Q0=Be({type:Ce("tool-result"),toolCallId:se(),toolName:se(),output:BU,providerOptions:Et.optional()}),UU=Be({role:Ce("system"),content:se(),providerOptions:Et.optional()}),ZU=Be({role:Ce("user"),content:jt([se(),Hn(jt([Y0,PU,X0]))]),providerOptions:Et.optional()}),HU=Be({role:Ce("assistant"),content:jt([se(),Hn(jt([Y0,X0,DU,LU,Q0]))]),providerOptions:Et.optional()}),qU=Be({role:Ce("tool"),content:Hn(Q0),providerOptions:Et.optional()});jt([UU,ZU,HU,qU]);Uo({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var WU=jt([rt({type:Ce("text-start"),id:se(),providerMetadata:Et.optional()}),rt({type:Ce("text-delta"),id:se(),delta:se(),providerMetadata:Et.optional()}),rt({type:Ce("text-end"),id:se(),providerMetadata:Et.optional()}),rt({type:Ce("error"),errorText:se()}),rt({type:Ce("tool-input-start"),toolCallId:se(),toolName:se(),providerExecuted:dt().optional(),dynamic:dt().optional()}),rt({type:Ce("tool-input-delta"),toolCallId:se(),inputTextDelta:se()}),rt({type:Ce("tool-input-available"),toolCallId:se(),toolName:se(),input:St(),providerExecuted:dt().optional(),providerMetadata:Et.optional(),dynamic:dt().optional()}),rt({type:Ce("tool-input-error"),toolCallId:se(),toolName:se(),input:St(),providerExecuted:dt().optional(),providerMetadata:Et.optional(),dynamic:dt().optional(),errorText:se()}),rt({type:Ce("tool-output-available"),toolCallId:se(),output:St(),providerExecuted:dt().optional(),dynamic:dt().optional(),preliminary:dt().optional()}),rt({type:Ce("tool-output-error"),toolCallId:se(),errorText:se(),providerExecuted:dt().optional(),dynamic:dt().optional()}),rt({type:Ce("reasoning-start"),id:se(),providerMetadata:Et.optional()}),rt({type:Ce("reasoning-delta"),id:se(),delta:se(),providerMetadata:Et.optional()}),rt({type:Ce("reasoning-end"),id:se(),providerMetadata:Et.optional()}),rt({type:Ce("source-url"),sourceId:se(),url:se(),title:se().optional(),providerMetadata:Et.optional()}),rt({type:Ce("source-document"),sourceId:se(),mediaType:se(),title:se(),filename:se().optional(),providerMetadata:Et.optional()}),rt({type:Ce("file"),url:se(),mediaType:se(),providerMetadata:Et.optional()}),rt({type:Bl(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:se().optional(),data:St(),transient:dt().optional()}),rt({type:Ce("start-step")}),rt({type:Ce("finish-step")}),rt({type:Ce("start"),messageId:se().optional(),messageMetadata:St().optional()}),rt({type:Ce("finish"),messageMetadata:St().optional()}),rt({type:Ce("abort")}),rt({type:Ce("message-metadata"),messageMetadata:St()})]);function VU(e){const t=["ROOT"];let n=-1,r=null;function a(u,d,p){switch(u){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function s(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function o(u,d){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let u=0;u<e.length;u++){const d=e[u];switch(t[t.length-1]){case"ROOT":a(d,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(d,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{s(d,u);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=u}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=u,t.pop();break}default:{n=u,a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}default:{n=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(d,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=u;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&s(d,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,u+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?s(d,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(d,u)):n=u;break}}}let l=e.slice(0,n+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}async function GU(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await xl({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await xl({text:VU(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}Uo({prefix:"aitxt",size:24});Uo({prefix:"aiobj",size:24});Uo({prefix:"aiobj",size:24});var JU={};$U(JU,{object:()=>YU,text:()=>KU});var KU=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),YU=({schema:e})=>{const t=MU(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await GU(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const a=r.state;throw new Error(`Unsupported parse state: ${a}`)}}},async parseOutput({text:n},r){const a=await xl({text:n});if(!a.success)throw new fy({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const s=await U0({value:a.value,schema:t});if(!s.success)throw new fy({message:"No object generated: response did not match schema.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value}}},XU=Si({name:se(),version:se()}),Ap=Si({_meta:pn(Be({}).loose())}),Fo=Ap,QU=Be({method:se(),params:pn(Ap)}),e3=Si({experimental:pn(Be({}).loose()),logging:pn(Be({}).loose()),prompts:pn(Si({listChanged:pn(dt())})),resources:pn(Si({subscribe:pn(dt()),listChanged:pn(dt())})),tools:pn(Si({listChanged:pn(dt())}))});Fo.extend({protocolVersion:se(),capabilities:e3,serverInfo:XU,instructions:pn(se())});var t3=Fo.extend({nextCursor:pn(se())}),n3=Be({name:se(),description:pn(se()),inputSchema:Be({type:Ce("object"),properties:pn(Be({}).loose())}).loose()}).loose();t3.extend({tools:Hn(n3)});var r3=Be({type:Ce("text"),text:se()}).loose(),a3=Be({type:Ce("image"),data:o0(),mimeType:se()}).loose(),e_=Be({uri:se(),mimeType:pn(se())}).loose(),i3=e_.extend({text:se()}),o3=e_.extend({blob:o0()}),s3=Be({type:Ce("resource"),resource:jt([i3,o3])}).loose();Fo.extend({content:Hn(jt([r3,a3,s3])),isError:dt().default(!1).optional()}).or(Fo.extend({toolResult:St()}));var Ul="2.0",l3=Be({jsonrpc:Ce(Ul),id:jt([se(),Mi().int()])}).merge(QU).strict(),c3=Be({jsonrpc:Ce(Ul),id:jt([se(),Mi().int()]),result:Fo}).strict(),u3=Be({jsonrpc:Ce(Ul),id:jt([se(),Mi().int()]),error:Be({code:Mi().int(),message:se(),data:pn(St())})}).strict(),d3=Be({jsonrpc:Ce(Ul)}).merge(Be({method:se(),params:pn(Ap)})).strict();jt([l3,d3,c3,u3]);var p3=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,a,s,o;const l=await vi(this.body),u=await vi(this.headers),d=await vi(this.credentials),p=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...l,...t.body},headers:{...u,...t.headers},credentials:d,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),h=(r=p?.api)!=null?r:this.api,g=p?.headers!==void 0?p.headers:{...u,...t.headers},v=p?.body!==void 0?p.body:{...l,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},y=(a=p?.credentials)!=null?a:d,x=await((s=this.fetch)!=null?s:globalThis.fetch)(h,{method:"POST",headers:uy({"Content-Type":"application/json",...g},`ai-sdk/${hy}`,cy()),body:JSON.stringify(v),credentials:y,signal:e});if(!x.ok)throw new Error((o=await x.text())!=null?o:"Failed to fetch the chat response.");if(!x.body)throw new Error("The response body is empty.");return this.processResponseStream(x.body)}async reconnectToStream(e){var t,n,r,a,s;const o=await vi(this.body),l=await vi(this.headers),u=await vi(this.credentials),d=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...l,...e.headers},credentials:u,requestMetadata:e.metadata})),p=(n=d?.api)!=null?n:`${this.api}/${e.chatId}/stream`,h=d?.headers!==void 0?d.headers:{...l,...e.headers},g=(r=d?.credentials)!=null?r:u,y=await((a=this.fetch)!=null?a:globalThis.fetch)(p,{method:"GET",headers:uy(h,`ai-sdk/${hy}`,cy()),credentials:g});if(y.status===204)return null;if(!y.ok)throw new Error((s=await y.text())!=null?s:"Failed to fetch the chat response.");if(!y.body)throw new Error("The response body is empty.");return this.processResponseStream(y.body)}},f3=class extends p3{constructor(e={}){super(e)}processResponseStream(e){return B6({stream:e,schema:WU}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},h3=Be({type:Ce("text"),text:se(),state:Lo(["streaming","done"]).optional(),providerMetadata:Et.optional()}),m3=Be({type:Ce("reasoning"),text:se(),state:Lo(["streaming","done"]).optional(),providerMetadata:Et.optional()}),g3=Be({type:Ce("source-url"),sourceId:se(),url:se(),title:se().optional(),providerMetadata:Et.optional()}),y3=Be({type:Ce("source-document"),sourceId:se(),mediaType:se(),title:se(),filename:se().optional(),providerMetadata:Et.optional()}),v3=Be({type:Ce("file"),mediaType:se(),filename:se().optional(),url:se(),providerMetadata:Et.optional()}),b3=Be({type:Ce("step-start")}),x3=Be({type:se().startsWith("data-"),id:se().optional(),data:St()}),_3=[Be({type:Ce("dynamic-tool"),toolName:se(),toolCallId:se(),state:Ce("input-streaming"),input:St().optional(),output:Ln().optional(),errorText:Ln().optional()}),Be({type:Ce("dynamic-tool"),toolName:se(),toolCallId:se(),state:Ce("input-available"),input:St(),output:Ln().optional(),errorText:Ln().optional(),callProviderMetadata:Et.optional()}),Be({type:Ce("dynamic-tool"),toolName:se(),toolCallId:se(),state:Ce("output-available"),input:St(),output:St(),errorText:Ln().optional(),callProviderMetadata:Et.optional(),preliminary:dt().optional()}),Be({type:Ce("dynamic-tool"),toolName:se(),toolCallId:se(),state:Ce("output-error"),input:St(),output:Ln().optional(),errorText:se(),callProviderMetadata:Et.optional()})],w3=[Be({type:se().startsWith("tool-"),toolCallId:se(),state:Ce("input-streaming"),providerExecuted:dt().optional(),input:St().optional(),output:Ln().optional(),errorText:Ln().optional()}),Be({type:se().startsWith("tool-"),toolCallId:se(),state:Ce("input-available"),providerExecuted:dt().optional(),input:St(),output:Ln().optional(),errorText:Ln().optional(),callProviderMetadata:Et.optional()}),Be({type:se().startsWith("tool-"),toolCallId:se(),state:Ce("output-available"),providerExecuted:dt().optional(),input:St(),output:St(),errorText:Ln().optional(),callProviderMetadata:Et.optional(),preliminary:dt().optional()}),Be({type:se().startsWith("tool-"),toolCallId:se(),state:Ce("output-error"),providerExecuted:dt().optional(),input:St(),output:Ln().optional(),errorText:se(),callProviderMetadata:Et.optional()})];Be({id:se(),role:Lo(["system","user","assistant"]),metadata:St().optional(),parts:Hn(jt([h3,m3,g3,y3,v3,b3,x3,..._3,...w3]))});let Yr=null;const Ip="strapi-ai-token",t_=60*1e3,k3=e=>{const t=Date.parse(e);return Number.isFinite(t)?t:null},C3=(e,t=t_,n=Date.now())=>{const r=k3(e);return r===null||r<=n?"expired":r-t<=n?"stale":"valid"},my=(e,t=t_,n=Date.now())=>C3(e,t,n)==="valid",S3=()=>{Yr=null,sessionStorage.removeItem(Ip)},E3=()=>{try{const e=sessionStorage.getItem(Ip);return e?JSON.parse(e):null}catch{return null}},T3=e=>{sessionStorage.setItem(Ip,JSON.stringify(e))},_l=async()=>{if(Yr&&my(Yr.expiresAt))return Yr;const e=E3();if(e&&my(e.expiresAt))return Yr=e,Yr;try{const{get:t}=hA(),{data:n}=await t("/admin/ai-token"),r=n?.token||n?.data?.token,a=n?.expiresAt||n?.data?.expiresAt;return r&&a?(Yr={token:r,expiresAt:a},T3(Yr),Yr):null}catch{return null}},A3=async()=>{try{if(await _l())return;await _l()}catch{}},n_=async e=>{try{return await e.json()}catch{try{return{error:await e.text()}}catch{return}}},I3=(e,t,n)=>({Authorization:`Bearer ${e}`,"X-Strapi-Version":t?.strapiVersion||"latest","X-Strapi-User":t?.userId||"unknown","X-Strapi-Project-Id":t?.projectId||"unknown",...n}),j3=(e,t)=>{if(e===401||e===403)return!0;const n=(t?.error||"").toString().toLowerCase();return n.includes("expired")||n.includes("invalid token")},r_=async(e,t={})=>{const n=await _l();if(!n?.token)throw new Error("Could not authorize with AI Server. Please contact your administrator.");const r=async o=>{const l=I3(o,t.ctx,t.headers);return fetch(e,{...t,headers:l})};let a=await r(n.token),s;try{s=await n_(a.clone())}catch{}if(j3(a.status,s)){S3();const o=await _l();o?.token&&o.token!==n.token&&(a=await r(o.token))}return a},R3=e=>async(t,n={})=>r_(t,{...n,ctx:e}),O3="Too many requests",z3="License limit",M3="AI credit limit exceeded",F3="Chat too long",Zl=e=>()=>{const t=ta("useAIFetch",p=>p.strapiVersion),n=ta("useAIFetch",p=>p.projectId),r=ta("useAIFetch-user",p=>p.userId),a=mA(void 0,{refetchOnMountOrArgChange:!0}),[s,o]=W.useState(!1),[l,u]=W.useState(null);return{isPending:s,error:l,fetch:async(p={})=>{o(!0),u(null);try{const h=`${Yv}${e}`,g=!!p.body&&!p.formData,v=await r_(h,{method:"POST",headers:g?{"Content-Type":"application/json",...p.headers||{}}:p.headers,body:p.formData?p.formData:g?JSON.stringify(p.body||{}):void 0,ctx:{strapiVersion:t,projectId:n,userId:r}});a.refetch();const y=await n_(v);if(!v.ok)throw new Error(`Error: ${v.statusText}`);return y}catch(h){return u(h instanceof Error?h.message:`Failed to fetch data from ${e}`),null}finally{o(!1)}}}},$3=Zl("/schemas/chat/generate-title"),N3=Zl("/schemas/chat/attachment"),P3=Zl("/schemas/chat/feedback"),D3=Zl("/media/upload"),L3=e=>{const t=ta("useAIChat",s=>s.strapiVersion),n=ta("useAIFetch",s=>s.projectId),r=ta("useAIChat-user",s=>s.userId),a=R3({strapiVersion:t,projectId:n,userId:r});return k6({...e,transport:new f3({api:zR,fetch:a})})},B3=({chatId:e,messages:t})=>{const[n,r]=W.useState(void 0),{fetch:a,error:s,isPending:o}=$3(),l=W.useCallback(async()=>{const d=t.at(0);if(!d||n||o||s)return;const p=d.parts.map(g=>g.type==="text"?g.text:"").join(`
`),h=await a({body:{chatId:e,message:p}});h?.data&&r(h.data.title)},[t,n,o,s,a,e]),u=W.useCallback(()=>{r(void 0)},[]);return{title:n,isGenerating:o,error:s,generateTitle:l,resetTitle:u}},U3=1,Z3=()=>{if(typeof window>"u")return{uid:null,type:null};const e=window.location.pathname;if(e.includes("/content-types/")){const t=e.split("/content-types/")[1];if(t)return{uid:t,type:"contentType"}}if(e.includes("/component-categories/")){const t=e.split("/component-categories/")[1].split("/");if(t.length>=2)return{uid:t[1],type:"component"}}return{uid:null,type:null}},H3=()=>{const[e,t]=W.useState([]),{components:n,contentTypes:r}=nr();return W.useEffect(()=>{const o=()=>{const{uid:d,type:p}=Z3();if(!d||!p)return;const h={uid:d,type:p,timestamp:Date.now()};t(g=>{const v=g.filter(y=>y.uid!==h.uid);return[h,...v].slice(0,U3)})};o(),window.addEventListener("popstate",o);const u=(()=>{let d=window.location.pathname;const p=setInterval(()=>{const h=window.location.pathname;h!==d&&(d=h,o())},300);return()=>clearInterval(p)})();return()=>{window.removeEventListener("popstate",o),u()}},[]),{lastSeenSchemas:W.useMemo(()=>e.filter(o=>o.type==="contentType"?Object.keys(r).some(l=>l===o.uid):o.type==="component"?Object.keys(n).some(l=>l===o.uid):!1),[e,n,r]),clearHistory:()=>{t([])}}},gy=e=>e.reduce((t,n)=>{const{name:r,...a}=n;return{...t,[r]:a}},{}),yy=e=>e.modelType==="component"?{category:e.category,kind:"component",action:"create",modelType:"component",description:e.info.description,name:e.info.displayName,uid:e.uid,attributes:gy(e.attributes),sources:e.sources}:{kind:e.kind,modelType:e.modelType,description:e.info.description,action:"create",name:e.info.pluralName,uid:e.uid,attributes:gy(e.attributes),sources:e.sources,options:{draftAndPublish:e.options?.draftAndPublish,localized:!1}},a_=W.createContext(null),i_=()=>{const e=W.useContext(a_);if(!e)throw new Error("useStepModal must be used within a StepModal");return e},Wa=({open:e,onOpenChange:t,title:n,children:r,onComplete:a,onCancel:s})=>{const[o,l]=W.useState(0),[u,d]=W.useState(!1),[p,h]=W.useState(null),g=W.Children.toArray(r).filter(U=>W.isValidElement(U)).map(U=>U.props),v=g.length,y=o===0,_=o===v-1;W.useEffect(()=>{e||(l(0),d(!1),h(null))},[e]);const x=()=>{l(0),d(!1),h(null)},k=()=>{s?.(),x(),t(!1)},T=()=>{l(U=>Math.max(0,U-1)),h(null)},A=async()=>{const U=g[o];if(U.onNext){d(!0),h(null);try{return _?(a?.(),x(),t(!1)):(await U.onNext(),l(B=>B+1)),!0}catch(B){return h(B instanceof Error?B:new Error(String(B))),!1}finally{d(!1)}}else return _?(a?.(),x(),t(!1)):l(B=>B+1),!0},I=U=>{U.preventDefault(),!u&&!g[o]?.disableNext&&A()},$={currentStep:o,goToStep:l,nextStep:A,prevStep:T,isFirstStep:y,isLastStep:_,totalSteps:v,isLoading:u,error:p,setError:h},O=g[o];return m.jsx(a_.Provider,{value:$,children:e&&m.jsx(gn.Root,{open:!0,onOpenChange:k,children:m.jsxs(gn.Content,{children:[m.jsx(gn.Header,{children:m.jsx($e,{variant:"omega",fontWeight:"bold",children:O?.title||n})}),m.jsxs("form",{onSubmit:I,children:[m.jsxs(gn.Body,{children:[W.Children.toArray(r)[o],p&&m.jsx(Ne,{marginTop:4,padding:3,background:"danger100",color:"danger600",borderRadius:"4px",children:m.jsx($e,{variant:"pi",children:p.message})})]}),m.jsxs(gn.Footer,{children:[y?m.jsx(vt,{variant:"tertiary",onClick:k,type:"button",children:O?.cancelLabel||"Cancel"}):m.jsx(vt,{variant:"tertiary",onClick:T,type:"button",children:O?.backLabel||"Back"}),m.jsx(vt,{variant:"default",type:"submit",disabled:u||O?.disableNext,loading:u,children:O?.nextLabel||(_?"Complete":"Next")})]})]})]})})})},q3=({children:e})=>m.jsx(m.Fragment,{children:e});Wa.Step=q3;const wl=(e=16)=>crypto.randomUUID().slice(0,e);function Zo(){const{setAttachments:e,attachments:t,id:n}=br(),{toggleNotification:r}=Ni(),{fetch:a}=D3(),s=W.useCallback(p=>{p&&e(h=>[...h,...p])},[e]),o=W.useCallback(p=>{e(h=>h.map(g=>g.id===p.id?{...g,...p}:g))},[e]),l=W.useCallback(p=>{e(h=>h.filter(g=>g.id!==p.id))},[e]),u=W.useCallback(async(p,h)=>{const g=t?.length||0,v=Array.from(p).length;let y=p;if(g+v>mu){r({type:"danger",title:"File limit reached: ",message:`You can only upload up to ${mu} files`});const _=mu-g;y=p.slice(0,_)}for(const _ of y)_.size>OR&&(r({type:"danger",title:"File too large: ",message:"One of the files is too large (15MB limit)"}),y=y.filter(x=>x!==_));for(const _ of y){const x={id:wl(),type:"file",status:"loading",filename:_.name,mediaType:_.type,url:""};e(T=>[...T,x]);const k=new FormData;k.append("file",_),k.append("fileInfo",JSON.stringify({name:_.name,chatId:n})),a({formData:k}).then(T=>{const A=T?.data;if(!T||T.error){r({type:"danger",title:"Failed to upload file: ",message:T?.error||"Unknown error",timeout:5e3}),l(x);return}o({id:x.id,url:A?.url||"",status:"ready"})}).catch(()=>l(x))}h&&r({title:"Files attached",message:h})},[t,e,r,n,a,l,o]),d=W.useCallback(p=>{t&&e(t.filter((h,g)=>g!==p))},[e,t]);return{attachments:t,attachFiles:u,addAttachments:s,removeAttachment:l,removeAttachmentByIndex:d}}var o_={exports:{}};(function(e,t){var n={};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(r){e.exports=r()})(function(){return function r(a,s,o){function l(p,h){if(!s[p]){if(!a[p]){var g=typeof Fs=="function"&&Fs;if(!h&&g)return g(p,!0);if(u)return u(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var y=s[p]={exports:{}};a[p][0].call(y.exports,function(_){var x=a[p][1][_];return l(x||_)},y,y.exports,r,a,s,o)}return s[p].exports}for(var u=typeof Fs=="function"&&Fs,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(r,a,s){var o=r("./utils"),l=r("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(d){for(var p,h,g,v,y,_,x,k=[],T=0,A=d.length,I=A,$=o.getTypeOf(d)!=="string";T<d.length;)I=A-T,g=$?(p=d[T++],h=T<A?d[T++]:0,T<A?d[T++]:0):(p=d.charCodeAt(T++),h=T<A?d.charCodeAt(T++):0,T<A?d.charCodeAt(T++):0),v=p>>2,y=(3&p)<<4|h>>4,_=1<I?(15&h)<<2|g>>6:64,x=2<I?63&g:64,k.push(u.charAt(v)+u.charAt(y)+u.charAt(_)+u.charAt(x));return k.join("")},s.decode=function(d){var p,h,g,v,y,_,x=0,k=0,T="data:";if(d.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var A,I=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&I--,d.charAt(d.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=l.uint8array?new Uint8Array(0|I):new Array(0|I);x<d.length;)p=u.indexOf(d.charAt(x++))<<2|(v=u.indexOf(d.charAt(x++)))>>4,h=(15&v)<<4|(y=u.indexOf(d.charAt(x++)))>>2,g=(3&y)<<6|(_=u.indexOf(d.charAt(x++))),A[k++]=p,y!==64&&(A[k++]=h),_!==64&&(A[k++]=g);return A}},{"./support":30,"./utils":32}],2:[function(r,a,s){var o=r("./external"),l=r("./stream/DataWorker"),u=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function p(h,g,v,y,_){this.compressedSize=h,this.uncompressedSize=g,this.crc32=v,this.compression=y,this.compressedContent=_}p.prototype={getContentWorker:function(){var h=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(h,g,v){return h.pipe(new u).pipe(new d("uncompressedSize")).pipe(g.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},a.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,s){var o=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,s){var o=r("./utils"),l=function(){for(var u,d=[],p=0;p<256;p++){u=p;for(var h=0;h<8;h++)u=1&u?3988292384^u>>>1:u>>>1;d[p]=u}return d}();a.exports=function(u,d){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(p,h,g,v){var y=l,_=v+g;p^=-1;for(var x=v;x<_;x++)p=p>>>8^y[255&(p^h[x])];return-1^p}(0|d,u,u.length,0):function(p,h,g,v){var y=l,_=v+g;p^=-1;for(var x=v;x<_;x++)p=p>>>8^y[255&(p^h.charCodeAt(x))];return-1^p}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(r,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,a,s){var o=null;o=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:o}},{lie:37}],7:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),u=r("./utils"),d=r("./stream/GenericWorker"),p=o?"uint8array":"array";function h(g,v){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=v,this.meta={}}s.magic="\b\0",u.inherits(h,d),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,g.data),!1)},h.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(v){g.push({data:v,meta:g.meta})}},s.compressWorker=function(g){return new h("Deflate",g)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,s){function o(y,_){var x,k="";for(x=0;x<_;x++)k+=String.fromCharCode(255&y),y>>>=8;return k}function l(y,_,x,k,T,A){var I,$,O=y.file,U=y.compression,B=A!==p.utf8encode,G=u.transformTo("string",A(O.name)),Y=u.transformTo("string",p.utf8encode(O.name)),q=O.comment,le=u.transformTo("string",A(q)),R=u.transformTo("string",p.utf8encode(q)),J=Y.length!==O.name.length,w=R.length!==q.length,L="",Se="",ce="",pe=O.dir,N=O.date,Ae={crc32:0,compressedSize:0,uncompressedSize:0};_&&!x||(Ae.crc32=y.crc32,Ae.compressedSize=y.compressedSize,Ae.uncompressedSize=y.uncompressedSize);var oe=0;_&&(oe|=8),B||!J&&!w||(oe|=2048);var z=0,Me=0;pe&&(z|=16),T==="UNIX"?(Me=798,z|=function(ue,nt){var He=ue;return ue||(He=nt?16893:33204),(65535&He)<<16}(O.unixPermissions,pe)):(Me=20,z|=function(ue){return 63&(ue||0)}(O.dosPermissions)),I=N.getUTCHours(),I<<=6,I|=N.getUTCMinutes(),I<<=5,I|=N.getUTCSeconds()/2,$=N.getUTCFullYear()-1980,$<<=4,$|=N.getUTCMonth()+1,$<<=5,$|=N.getUTCDate(),J&&(Se=o(1,1)+o(h(G),4)+Y,L+="up"+o(Se.length,2)+Se),w&&(ce=o(1,1)+o(h(le),4)+R,L+="uc"+o(ce.length,2)+ce);var de="";return de+=`
\0`,de+=o(oe,2),de+=U.magic,de+=o(I,2),de+=o($,2),de+=o(Ae.crc32,4),de+=o(Ae.compressedSize,4),de+=o(Ae.uncompressedSize,4),de+=o(G.length,2),de+=o(L.length,2),{fileRecord:g.LOCAL_FILE_HEADER+de+G+L,dirRecord:g.CENTRAL_FILE_HEADER+o(Me,2)+de+o(le.length,2)+"\0\0\0\0"+o(z,4)+o(k,4)+G+L+le}}var u=r("../utils"),d=r("../stream/GenericWorker"),p=r("../utf8"),h=r("../crc32"),g=r("../signature");function v(y,_,x,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=x,this.encodeFileName=k,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(v,d),v.prototype.push=function(y){var _=y.meta.percent||0,x=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,d.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:x?(_+100*(x-k-1))/x:100}}))},v.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var x=l(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,x=l(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),_)this.push({data:function(k){return g.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var x=this.bytesWritten-y,k=function(T,A,I,$,O){var U=u.transformTo("string",O($));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(T,2)+o(T,2)+o(A,4)+o(I,4)+o(U.length,2)+U}(this.dirRecords.length,x,y,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(x){_.processChunk(x)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(x){_.error(x)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(y){var _=this._sources;if(!d.prototype.error.call(this,y))return!1;for(var x=0;x<_.length;x++)try{_[x].error(y)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,s){var o=r("../compressions"),l=r("./ZipFileWorker");s.generateWorker=function(u,d,p){var h=new l(d.streamFiles,p,d.platform,d.encodeFileName),g=0;try{u.forEach(function(v,y){g++;var _=function(A,I){var $=A||I,O=o[$];if(!O)throw new Error($+" is not a valid compression method !");return O}(y.options.compression,d.compression),x=y.options.compressionOptions||d.compressionOptions||{},k=y.dir,T=y.date;y._compressWorker(_,x).withStreamInfo("file",{name:v,dir:k,date:T,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(v){h.error(v)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(l,u){return new o().loadAsync(l,u)},o.external=r("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,s){var o=r("./utils"),l=r("./external"),u=r("./utf8"),d=r("./zipEntries"),p=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function g(v){return new l.Promise(function(y,_){var x=v.decompressed.getContentWorker().pipe(new p);x.on("error",function(k){_(k)}).on("end",function(){x.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}a.exports=function(v,y){var _=this;return y=o.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),h.isNode&&h.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,y.optimizedBinaryString,y.base64).then(function(x){var k=new d(y);return k.load(x),k}).then(function(x){var k=[l.Promise.resolve(x)],T=x.files;if(y.checkCRC32)for(var A=0;A<T.length;A++)k.push(g(T[A]));return l.Promise.all(k)}).then(function(x){for(var k=x.shift(),T=k.files,A=0;A<T.length;A++){var I=T[A],$=I.fileNameStr,O=o.resolve(I.fileNameStr);_.file(O,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:y.createFolders}),I.dir||(_.file(O).unsafeOriginalName=$)}return k.zipComment.length&&(_.comment=k.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,s){var o=r("../utils"),l=r("../stream/GenericWorker");function u(d,p){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(u,l),u.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(h){p.push({data:h,meta:{percent:0}})}).on("error",function(h){p.isPaused?this.generatedError=h:p.error(h)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,s){var o=r("readable-stream").Readable;function l(u,d,p){o.call(this,d),this._helper=u;var h=this;u.on("data",function(g,v){h.push(g)||h._helper.pause(),p&&p(v)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}r("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,a,s){function o(O,U,B){var G,Y=u.getTypeOf(U),q=u.extend(B||{},h);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(O=T(O)),q.createFolders&&(G=k(O))&&A.call(this,G,!0);var le=Y==="string"&&q.binary===!1&&q.base64===!1;B&&B.binary!==void 0||(q.binary=!le),(U instanceof g&&U.uncompressedSize===0||q.dir||!U||U.length===0)&&(q.base64=!1,q.binary=!0,U="",q.compression="STORE",Y="string");var R=null;R=U instanceof g||U instanceof d?U:_.isNode&&_.isStream(U)?new x(O,U):u.prepareContent(O,U,q.binary,q.optimizedBinaryString,q.base64);var J=new v(O,R,q);this.files[O]=J}var l=r("./utf8"),u=r("./utils"),d=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),h=r("./defaults"),g=r("./compressedObject"),v=r("./zipObject"),y=r("./generate"),_=r("./nodejsUtils"),x=r("./nodejs/NodejsStreamInputAdapter"),k=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var U=O.lastIndexOf("/");return 0<U?O.substring(0,U):""},T=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},A=function(O,U){return U=U!==void 0?U:h.createFolders,O=T(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:U}),this.files[O]};function I(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var U,B,G;for(U in this.files)G=this.files[U],(B=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&O(B,G)},filter:function(O){var U=[];return this.forEach(function(B,G){O(B,G)&&U.push(G)}),U},file:function(O,U,B){if(arguments.length!==1)return O=this.root+O,o.call(this,O,U,B),this;if(I(O)){var G=O;return this.filter(function(q,le){return!le.dir&&G.test(q)})}var Y=this.files[this.root+O];return Y&&!Y.dir?Y:null},folder:function(O){if(!O)return this;if(I(O))return this.filter(function(Y,q){return q.dir&&O.test(Y)});var U=this.root+O,B=A.call(this,U),G=this.clone();return G.root=B.name,G},remove:function(O){O=this.root+O;var U=this.files[O];if(U||(O.slice(-1)!=="/"&&(O+="/"),U=this.files[O]),U&&!U.dir)delete this.files[O];else for(var B=this.filter(function(Y,q){return q.name.slice(0,O.length)===O}),G=0;G<B.length;G++)delete this.files[B[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var U,B={};try{if((B=u.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");u.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var G=B.comment||this.comment||"";U=y.generateWorker(this,B,G)}catch(Y){(U=new d("error")).error(Y)}return new p(U,B.type||"string",B.mimeType)},generateAsync:function(O,U){return this.generateInternalStream(O).accumulate(U)},generateNodeStream:function(O,U){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(U)}};a.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,s){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,s){var o=r("./DataReader");function l(u){o.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}r("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),p=u.charCodeAt(1),h=u.charCodeAt(2),g=u.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===p&&this.data[v+2]===h&&this.data[v+3]===g)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),p=u.charCodeAt(1),h=u.charCodeAt(2),g=u.charCodeAt(3),v=this.readData(4);return d===v[0]&&p===v[1]&&h===v[2]&&g===v[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,a,s){var o=r("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,p=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=u,p},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},a.exports=l},{"../utils":32}],19:[function(r,a,s){var o=r("./Uint8ArrayReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,s){var o=r("./DataReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,a,s){var o=r("./ArrayReader");function l(u){o.call(this,u)}r("../utils").inherits(l,o),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,s){var o=r("../utils"),l=r("../support"),u=r("./ArrayReader"),d=r("./StringReader"),p=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");a.exports=function(g){var v=o.getTypeOf(g);return o.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new p(g):l.uint8array?new h(o.transformTo("uint8array",g)):new u(o.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,s){var o=r("./GenericWorker"),l=r("../utils");function u(d){o.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,o),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},a.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,s){var o=r("./GenericWorker"),l=r("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(u,o),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},a.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,s){var o=r("../utils"),l=r("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(u,l),u.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}l.prototype.processChunk.call(this,d)},a.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,s){var o=r("../utils"),l=r("./GenericWorker");function u(d){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(h){p.dataIsReady=!0,p.data=h,p.max=h&&h.length||0,p.type=o.getTypeOf(h),p.isPaused||p._tickAndRepeat()},function(h){p.error(h)})}o.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,s){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=o},{}],29:[function(r,a,s){var o=r("../utils"),l=r("./ConvertWorker"),u=r("./GenericWorker"),d=r("../base64"),p=r("../support"),h=r("../external"),g=null;if(p.nodestream)try{g=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,x){return new h.Promise(function(k,T){var A=[],I=_._internalType,$=_._outputType,O=_._mimeType;_.on("data",function(U,B){A.push(U),x&&x(B)}).on("error",function(U){A=[],T(U)}).on("end",function(){try{var U=function(B,G,Y){switch(B){case"blob":return o.newBlob(o.transformTo("arraybuffer",G),Y);case"base64":return d.encode(G);default:return o.transformTo(B,G)}}($,function(B,G){var Y,q=0,le=null,R=0;for(Y=0;Y<G.length;Y++)R+=G[Y].length;switch(B){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(le=new Uint8Array(R),Y=0;Y<G.length;Y++)le.set(G[Y],q),q+=G[Y].length;return le;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+B+"'")}}(I,A),O);k(U)}catch(B){T(B)}A=[]}).resume()})}function y(_,x,k){var T=x;switch(x){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=x,this._mimeType=k,o.checkSupport(T),this._worker=_.pipe(new l(T)),_.lock()}catch(A){this._worker=new u("error"),this._worker.error(A)}}y.prototype={accumulate:function(_){return v(this,_)},on:function(_,x){var k=this;return _==="data"?this._worker.on(_,function(T){x.call(k,T.data,T.meta)}):this._worker.on(_,function(){o.delay(x,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},_)}},a.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,s){for(var o=r("./utils"),l=r("./support"),u=r("./nodejsUtils"),d=r("./stream/GenericWorker"),p=new Array(256),h=0;h<256;h++)p[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;p[254]=p[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}s.utf8encode=function(y){return l.nodebuffer?u.newBufferFrom(y,"utf-8"):function(_){var x,k,T,A,I,$=_.length,O=0;for(A=0;A<$;A++)(64512&(k=_.charCodeAt(A)))==55296&&A+1<$&&(64512&(T=_.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(T-56320),A++),O+=k<128?1:k<2048?2:k<65536?3:4;for(x=l.uint8array?new Uint8Array(O):new Array(O),A=I=0;I<O;A++)(64512&(k=_.charCodeAt(A)))==55296&&A+1<$&&(64512&(T=_.charCodeAt(A+1)))==56320&&(k=65536+(k-55296<<10)+(T-56320),A++),k<128?x[I++]=k:(k<2048?x[I++]=192|k>>>6:(k<65536?x[I++]=224|k>>>12:(x[I++]=240|k>>>18,x[I++]=128|k>>>12&63),x[I++]=128|k>>>6&63),x[I++]=128|63&k);return x}(y)},s.utf8decode=function(y){return l.nodebuffer?o.transformTo("nodebuffer",y).toString("utf-8"):function(_){var x,k,T,A,I=_.length,$=new Array(2*I);for(x=k=0;x<I;)if((T=_[x++])<128)$[k++]=T;else if(4<(A=p[T]))$[k++]=65533,x+=A-1;else{for(T&=A===2?31:A===3?15:7;1<A&&x<I;)T=T<<6|63&_[x++],A--;1<A?$[k++]=65533:T<65536?$[k++]=T:(T-=65536,$[k++]=55296|T>>10&1023,$[k++]=56320|1023&T)}return $.length!==k&&($.subarray?$=$.subarray(0,k):$.length=k),o.applyFromCharCode($)}(y=o.transformTo(l.uint8array?"uint8array":"array",y))},o.inherits(g,d),g.prototype.processChunk=function(y){var _=o.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var x=_;(_=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),_.set(x,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var k=function(A,I){var $;for((I=I||A.length)>A.length&&(I=A.length),$=I-1;0<=$&&(192&A[$])==128;)$--;return $<0||$===0?I:$+p[A[$]]>I?$:I}(_),T=_;k!==_.length&&(l.uint8array?(T=_.subarray(0,k),this.leftOver=_.subarray(k,_.length)):(T=_.slice(0,k),this.leftOver=_.slice(k,_.length))),this.push({data:s.utf8decode(T),meta:y.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,o.inherits(v,d),v.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,s){var o=r("./support"),l=r("./base64"),u=r("./nodejsUtils"),d=r("./external");function p(x){return x}function h(x,k){for(var T=0;T<x.length;++T)k[T]=255&x.charCodeAt(T);return k}r("setimmediate"),s.newBlob=function(x,k){s.checkSupport("blob");try{return new Blob([x],{type:k})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(x),T.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(x,k,T){var A=[],I=0,$=x.length;if($<=T)return String.fromCharCode.apply(null,x);for(;I<$;)k==="array"||k==="nodebuffer"?A.push(String.fromCharCode.apply(null,x.slice(I,Math.min(I+T,$)))):A.push(String.fromCharCode.apply(null,x.subarray(I,Math.min(I+T,$)))),I+=T;return A.join("")},stringifyByChar:function(x){for(var k="",T=0;T<x.length;T++)k+=String.fromCharCode(x[T]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function v(x){var k=65536,T=s.getTypeOf(x),A=!0;if(T==="uint8array"?A=g.applyCanBeUsed.uint8array:T==="nodebuffer"&&(A=g.applyCanBeUsed.nodebuffer),A)for(;1<k;)try{return g.stringifyByChunk(x,T,k)}catch{k=Math.floor(k/2)}return g.stringifyByChar(x)}function y(x,k){for(var T=0;T<x.length;T++)k[T]=x[T];return k}s.applyFromCharCode=v;var _={};_.string={string:p,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return _.string.uint8array(x).buffer},uint8array:function(x){return h(x,new Uint8Array(x.length))},nodebuffer:function(x){return h(x,u.allocBuffer(x.length))}},_.array={string:v,array:p,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return u.newBufferFrom(x)}},_.arraybuffer={string:function(x){return v(new Uint8Array(x))},array:function(x){return y(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:p,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return u.newBufferFrom(new Uint8Array(x))}},_.uint8array={string:v,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:p,nodebuffer:function(x){return u.newBufferFrom(x)}},_.nodebuffer={string:v,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return _.nodebuffer.uint8array(x).buffer},uint8array:function(x){return y(x,new Uint8Array(x.length))},nodebuffer:p},s.transformTo=function(x,k){if(k=k||"",!x)return k;s.checkSupport(x);var T=s.getTypeOf(k);return _[T][x](k)},s.resolve=function(x){for(var k=x.split("/"),T=[],A=0;A<k.length;A++){var I=k[A];I==="."||I===""&&A!==0&&A!==k.length-1||(I===".."?T.pop():T.push(I))}return T.join("/")},s.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(x)?"nodebuffer":o.uint8array&&x instanceof Uint8Array?"uint8array":o.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(x){if(!o[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(x){var k,T,A="";for(T=0;T<(x||"").length;T++)A+="\\x"+((k=x.charCodeAt(T))<16?"0":"")+k.toString(16).toUpperCase();return A},s.delay=function(x,k,T){setImmediate(function(){x.apply(T||null,k||[])})},s.inherits=function(x,k){function T(){}T.prototype=k.prototype,x.prototype=new T},s.extend=function(){var x,k,T={};for(x=0;x<arguments.length;x++)for(k in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],k)&&T[k]===void 0&&(T[k]=arguments[x][k]);return T},s.prepareContent=function(x,k,T,A,I){return d.Promise.resolve(k).then(function($){return o.blob&&($ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($))!==-1)&&typeof FileReader<"u"?new d.Promise(function(O,U){var B=new FileReader;B.onload=function(G){O(G.target.result)},B.onerror=function(G){U(G.target.error)},B.readAsArrayBuffer($)}):$}).then(function($){var O=s.getTypeOf($);return O?(O==="arraybuffer"?$=s.transformTo("uint8array",$):O==="string"&&(I?$=l.decode($):T&&A!==!0&&($=function(U){return h(U,o.uint8array?new Uint8Array(U.length):new Array(U.length))}($))),$):d.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,s){var o=r("./reader/readerFor"),l=r("./utils"),u=r("./signature"),d=r("./zipEntry"),p=r("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(g)+")")}},isSignature:function(g,v){var y=this.reader.index;this.reader.setIndex(g);var _=this.reader.readString(4)===v;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),v=p.uint8array?"uint8array":"array",y=l.transformTo(v,g);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,v,y,_=this.zip64EndOfCentralSize-44;0<_;)g=this.reader.readInt(2),v=this.reader.readInt(4),y=this.reader.readData(v),this.zip64ExtensibleData[g]={id:g,length:v,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,v;for(g=0;g<this.files.length;g++)v=this.files[g],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var v=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=v-y;if(0<_)this.isSignature(v,u.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,s){var o=r("./reader/readerFor"),l=r("./utils"),u=r("./compressedObject"),d=r("./crc32"),p=r("./utf8"),h=r("./compressions"),g=r("./support");function v(y,_){this.options=y,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,x;if(y.skip(22),this.fileNameLength=y.readInt(2),x=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(k){for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)&&h[T].magic===k)return h[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,x,k,T=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<T;)_=y.readInt(2),x=y.readInt(2),k=y.readData(x),this.extraFields[_]={id:_,length:x,value:k};y.setIndex(T)},handleUTF8:function(){var y=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var x=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var T=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=o(y.value);return _.readInt(1)!==1||d(this.fileName)!==_.readInt(4)?null:p.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=o(y.value);return _.readInt(1)!==1||d(this.fileComment)!==_.readInt(4)?null:p.utf8decode(_.readData(y.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,s){function o(_,x,k){this.name=_,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=x,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var l=r("./stream/StreamHelper"),u=r("./stream/DataWorker"),d=r("./utf8"),p=r("./compressedObject"),h=r("./stream/GenericWorker");o.prototype={internalStream:function(_){var x=null,k="string";try{if(!_)throw new Error("No output type specified.");var T=(k=_.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),x=this._decompressWorker();var A=!this._dataBinary;A&&!T&&(x=x.pipe(new d.Utf8EncodeWorker)),!A&&T&&(x=x.pipe(new d.Utf8DecodeWorker))}catch(I){(x=new h("error")).error(I)}return new l(x,k,"")},async:function(_,x){return this.internalStream(_).accumulate(x)},nodeStream:function(_,x){return this.internalStream(_||"nodebuffer").toNodejsStream(x)},_compressWorker:function(_,x){if(this._data instanceof p&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(k,_,x)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof h?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<g.length;y++)o.prototype[g[y]]=v;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,s){(function(o){var l,u,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var p=0,h=new d(_),g=o.document.createTextNode("");h.observe(g,{characterData:!0}),l=function(){g.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var x=o.document.createElement("script");x.onreadystatechange=function(){_(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},o.document.documentElement.appendChild(x)}:function(){setTimeout(_,0)};else{var v=new o.MessageChannel;v.port1.onmessage=_,l=function(){v.port2.postMessage(0)}}var y=[];function _(){var x,k;u=!0;for(var T=y.length;T;){for(k=y,y=[],x=-1;++x<T;)k[x]();T=y.length}u=!1}a.exports=function(x){y.push(x)!==1||u||l()}}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,s){var o=r("immediate");function l(){}var u={},d=["REJECTED"],p=["FULFILLED"],h=["PENDING"];function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,T!==l&&x(this,T)}function v(T,A,I){this.promise=T,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function y(T,A,I){o(function(){var $;try{$=A(I)}catch(O){return u.reject(T,O)}$===T?u.reject(T,new TypeError("Cannot resolve promise with itself")):u.resolve(T,$)})}function _(T){var A=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof A=="function")return function(){A.apply(T,arguments)}}function x(T,A){var I=!1;function $(B){I||(I=!0,u.reject(T,B))}function O(B){I||(I=!0,u.resolve(T,B))}var U=k(function(){A(O,$)});U.status==="error"&&$(U.value)}function k(T,A){var I={};try{I.value=T(A),I.status="success"}catch($){I.status="error",I.value=$}return I}(a.exports=g).prototype.finally=function(T){if(typeof T!="function")return this;var A=this.constructor;return this.then(function(I){return A.resolve(T()).then(function(){return I})},function(I){return A.resolve(T()).then(function(){throw I})})},g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,A){if(typeof T!="function"&&this.state===p||typeof A!="function"&&this.state===d)return this;var I=new this.constructor(l);return this.state!==h?y(I,this.state===p?T:A,this.outcome):this.queue.push(new v(I,T,A)),I},v.prototype.callFulfilled=function(T){u.resolve(this.promise,T)},v.prototype.otherCallFulfilled=function(T){y(this.promise,this.onFulfilled,T)},v.prototype.callRejected=function(T){u.reject(this.promise,T)},v.prototype.otherCallRejected=function(T){y(this.promise,this.onRejected,T)},u.resolve=function(T,A){var I=k(_,A);if(I.status==="error")return u.reject(T,I.value);var $=I.value;if($)x(T,$);else{T.state=p,T.outcome=A;for(var O=-1,U=T.queue.length;++O<U;)T.queue[O].callFulfilled(A)}return T},u.reject=function(T,A){T.state=d,T.outcome=A;for(var I=-1,$=T.queue.length;++I<$;)T.queue[I].callRejected(A);return T},g.resolve=function(T){return T instanceof this?T:u.resolve(new this(l),T)},g.reject=function(T){var A=new this(l);return u.reject(A,T)},g.all=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=T.length,$=!1;if(!I)return this.resolve([]);for(var O=new Array(I),U=0,B=-1,G=new this(l);++B<I;)Y(T[B],B);return G;function Y(q,le){A.resolve(q).then(function(R){O[le]=R,++U!==I||$||($=!0,u.resolve(G,O))},function(R){$||($=!0,u.reject(G,R))})}},g.race=function(T){var A=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=T.length,$=!1;if(!I)return this.resolve([]);for(var O=-1,U=new this(l);++O<I;)B=T[O],A.resolve(B).then(function(G){$||($=!0,u.resolve(U,G))},function(G){$||($=!0,u.reject(U,G))});var B;return U}},{immediate:36}],38:[function(r,a,s){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,s){var o=r("./zlib/deflate"),l=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/messages"),p=r("./zlib/zstream"),h=Object.prototype.toString,g=0,v=-1,y=0,_=8;function x(T){if(!(this instanceof x))return new x(T);this.options=l.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},T||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(I!==g)throw new Error(d[I]);if(A.header&&o.deflateSetHeader(this.strm,A.header),A.dictionary){var $;if($=typeof A.dictionary=="string"?u.string2buf(A.dictionary):h.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(I=o.deflateSetDictionary(this.strm,$))!==g)throw new Error(d[I]);this._dict_set=!0}}function k(T,A){var I=new x(A);if(I.push(T,!0),I.err)throw I.msg||d[I.err];return I.result}x.prototype.push=function(T,A){var I,$,O=this.strm,U=this.options.chunkSize;if(this.ended)return!1;$=A===~~A?A:A===!0?4:0,typeof T=="string"?O.input=u.string2buf(T):h.call(T)==="[object ArrayBuffer]"?O.input=new Uint8Array(T):O.input=T,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(U),O.next_out=0,O.avail_out=U),(I=o.deflate(O,$))!==1&&I!==g)return this.onEnd(I),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(O.output,O.next_out))):this.onData(l.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&I!==1);return $===4?(I=o.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===g):$!==2||(this.onEnd(g),!(O.avail_out=0))},x.prototype.onData=function(T){this.chunks.push(T)},x.prototype.onEnd=function(T){T===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},s.Deflate=x,s.deflate=k,s.deflateRaw=function(T,A){return(A=A||{}).raw=!0,k(T,A)},s.gzip=function(T,A){return(A=A||{}).gzip=!0,k(T,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,s){var o=r("./zlib/inflate"),l=r("./utils/common"),u=r("./utils/strings"),d=r("./zlib/constants"),p=r("./zlib/messages"),h=r("./zlib/zstream"),g=r("./zlib/gzheader"),v=Object.prototype.toString;function y(x){if(!(this instanceof y))return new y(x);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},x||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||x&&x.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var T=o.inflateInit2(this.strm,k.windowBits);if(T!==d.Z_OK)throw new Error(p[T]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}function _(x,k){var T=new y(k);if(T.push(x,!0),T.err)throw T.msg||p[T.err];return T.result}y.prototype.push=function(x,k){var T,A,I,$,O,U,B=this.strm,G=this.options.chunkSize,Y=this.options.dictionary,q=!1;if(this.ended)return!1;A=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof x=="string"?B.input=u.binstring2buf(x):v.call(x)==="[object ArrayBuffer]"?B.input=new Uint8Array(x):B.input=x,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new l.Buf8(G),B.next_out=0,B.avail_out=G),(T=o.inflate(B,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&Y&&(U=typeof Y=="string"?u.string2buf(Y):v.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,T=o.inflateSetDictionary(this.strm,U)),T===d.Z_BUF_ERROR&&q===!0&&(T=d.Z_OK,q=!1),T!==d.Z_STREAM_END&&T!==d.Z_OK)return this.onEnd(T),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&T!==d.Z_STREAM_END&&(B.avail_in!==0||A!==d.Z_FINISH&&A!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(B.output,B.next_out),$=B.next_out-I,O=u.buf2string(B.output,I),B.next_out=$,B.avail_out=G-$,$&&l.arraySet(B.output,B.output,I,$,0),this.onData(O)):this.onData(l.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(q=!0)}while((0<B.avail_in||B.avail_out===0)&&T!==d.Z_STREAM_END);return T===d.Z_STREAM_END&&(A=d.Z_FINISH),A===d.Z_FINISH?(T=o.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d.Z_OK):A!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(B.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},s.Inflate=y,s.inflate=_,s.inflateRaw=function(x,k){return(k=k||{}).raw=!0,_(x,k)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var h=p.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(d[g]=h[g])}}return d},s.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var l={arraySet:function(d,p,h,g,v){if(p.subarray&&d.subarray)d.set(p.subarray(h,h+g),v);else for(var y=0;y<g;y++)d[v+y]=p[h+y]},flattenChunks:function(d){var p,h,g,v,y,_;for(p=g=0,h=d.length;p<h;p++)g+=d[p].length;for(_=new Uint8Array(g),p=v=0,h=d.length;p<h;p++)y=d[p],_.set(y,v),v+=y.length;return _}},u={arraySet:function(d,p,h,g,v){for(var y=0;y<g;y++)d[v+y]=p[h+y]},flattenChunks:function(d){return[].concat.apply([],d)}};s.setTyped=function(d){d?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(r,a,s){var o=r("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new o.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function h(g,v){if(v<65537&&(g.subarray&&u||!g.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(g,v));for(var y="",_=0;_<v;_++)y+=String.fromCharCode(g[_]);return y}d[254]=d[254]=1,s.string2buf=function(g){var v,y,_,x,k,T=g.length,A=0;for(x=0;x<T;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<T&&(64512&(_=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),A+=y<128?1:y<2048?2:y<65536?3:4;for(v=new o.Buf8(A),x=k=0;k<A;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<T&&(64512&(_=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),y<128?v[k++]=y:(y<2048?v[k++]=192|y>>>6:(y<65536?v[k++]=224|y>>>12:(v[k++]=240|y>>>18,v[k++]=128|y>>>12&63),v[k++]=128|y>>>6&63),v[k++]=128|63&y);return v},s.buf2binstring=function(g){return h(g,g.length)},s.binstring2buf=function(g){for(var v=new o.Buf8(g.length),y=0,_=v.length;y<_;y++)v[y]=g.charCodeAt(y);return v},s.buf2string=function(g,v){var y,_,x,k,T=v||g.length,A=new Array(2*T);for(y=_=0;y<T;)if((x=g[y++])<128)A[_++]=x;else if(4<(k=d[x]))A[_++]=65533,y+=k-1;else{for(x&=k===2?31:k===3?15:7;1<k&&y<T;)x=x<<6|63&g[y++],k--;1<k?A[_++]=65533:x<65536?A[_++]=x:(x-=65536,A[_++]=55296|x>>10&1023,A[_++]=56320|1023&x)}return h(A,_)},s.utf8border=function(g,v){var y;for((v=v||g.length)>g.length&&(v=g.length),y=v-1;0<=y&&(192&g[y])==128;)y--;return y<0||y===0?v:y+d[g[y]]>v?y:v}},{"./common":41}],43:[function(r,a,s){a.exports=function(o,l,u,d){for(var p=65535&o|0,h=o>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;h=h+(p=p+l[d++]|0)|0,--g;);p%=65521,h%=65521}return p|h<<16|0}},{}],44:[function(r,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,s){var o=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();a.exports=function(l,u,d,p){var h=o,g=p+d;l^=-1;for(var v=p;v<g;v++)l=l>>>8^h[255&(l^u[v])];return-1^l}},{}],46:[function(r,a,s){var o,l=r("../utils/common"),u=r("./trees"),d=r("./adler32"),p=r("./crc32"),h=r("./messages"),g=0,v=4,y=0,_=-2,x=-1,k=4,T=2,A=8,I=9,$=286,O=30,U=19,B=2*$+1,G=15,Y=3,q=258,le=q+Y+1,R=42,J=113,w=1,L=2,Se=3,ce=4;function pe(S,fe){return S.msg=h[fe],fe}function N(S){return(S<<1)-(4<S?9:0)}function Ae(S){for(var fe=S.length;0<=--fe;)S[fe]=0}function oe(S){var fe=S.state,V=fe.pending;V>S.avail_out&&(V=S.avail_out),V!==0&&(l.arraySet(S.output,fe.pending_buf,fe.pending_out,V,S.next_out),S.next_out+=V,fe.pending_out+=V,S.total_out+=V,S.avail_out-=V,fe.pending-=V,fe.pending===0&&(fe.pending_out=0))}function z(S,fe){u._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,fe),S.block_start=S.strstart,oe(S.strm)}function Me(S,fe){S.pending_buf[S.pending++]=fe}function de(S,fe){S.pending_buf[S.pending++]=fe>>>8&255,S.pending_buf[S.pending++]=255&fe}function ue(S,fe){var V,D,C=S.max_chain_length,ee=S.strstart,_e=S.prev_length,ke=S.nice_match,re=S.strstart>S.w_size-le?S.strstart-(S.w_size-le):0,ie=S.window,ye=S.w_mask,Z=S.prev,K=S.strstart+q,xe=ie[ee+_e-1],Re=ie[ee+_e];S.prev_length>=S.good_match&&(C>>=2),ke>S.lookahead&&(ke=S.lookahead);do if(ie[(V=fe)+_e]===Re&&ie[V+_e-1]===xe&&ie[V]===ie[ee]&&ie[++V]===ie[ee+1]){ee+=2,V++;do;while(ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ie[++ee]===ie[++V]&&ee<K);if(D=q-(K-ee),ee=K-q,_e<D){if(S.match_start=fe,ke<=(_e=D))break;xe=ie[ee+_e-1],Re=ie[ee+_e]}}while((fe=Z[fe&ye])>re&&--C!=0);return _e<=S.lookahead?_e:S.lookahead}function nt(S){var fe,V,D,C,ee,_e,ke,re,ie,ye,Z=S.w_size;do{if(C=S.window_size-S.lookahead-S.strstart,S.strstart>=Z+(Z-le)){for(l.arraySet(S.window,S.window,Z,Z,0),S.match_start-=Z,S.strstart-=Z,S.block_start-=Z,fe=V=S.hash_size;D=S.head[--fe],S.head[fe]=Z<=D?D-Z:0,--V;);for(fe=V=Z;D=S.prev[--fe],S.prev[fe]=Z<=D?D-Z:0,--V;);C+=Z}if(S.strm.avail_in===0)break;if(_e=S.strm,ke=S.window,re=S.strstart+S.lookahead,ie=C,ye=void 0,ye=_e.avail_in,ie<ye&&(ye=ie),V=ye===0?0:(_e.avail_in-=ye,l.arraySet(ke,_e.input,_e.next_in,ye,re),_e.state.wrap===1?_e.adler=d(_e.adler,ke,ye,re):_e.state.wrap===2&&(_e.adler=p(_e.adler,ke,ye,re)),_e.next_in+=ye,_e.total_in+=ye,ye),S.lookahead+=V,S.lookahead+S.insert>=Y)for(ee=S.strstart-S.insert,S.ins_h=S.window[ee],S.ins_h=(S.ins_h<<S.hash_shift^S.window[ee+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[ee+Y-1])&S.hash_mask,S.prev[ee&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=ee,ee++,S.insert--,!(S.lookahead+S.insert<Y)););}while(S.lookahead<le&&S.strm.avail_in!==0)}function He(S,fe){for(var V,D;;){if(S.lookahead<le){if(nt(S),S.lookahead<le&&fe===g)return w;if(S.lookahead===0)break}if(V=0,S.lookahead>=Y&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),V!==0&&S.strstart-V<=S.w_size-le&&(S.match_length=ue(S,V)),S.match_length>=Y)if(D=u._tr_tally(S,S.strstart-S.match_start,S.match_length-Y),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=Y){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else D=u._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(D&&(z(S,!1),S.strm.avail_out===0))return w}return S.insert=S.strstart<Y-1?S.strstart:Y-1,fe===v?(z(S,!0),S.strm.avail_out===0?Se:ce):S.last_lit&&(z(S,!1),S.strm.avail_out===0)?w:L}function he(S,fe){for(var V,D,C;;){if(S.lookahead<le){if(nt(S),S.lookahead<le&&fe===g)return w;if(S.lookahead===0)break}if(V=0,S.lookahead>=Y&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=Y-1,V!==0&&S.prev_length<S.max_lazy_match&&S.strstart-V<=S.w_size-le&&(S.match_length=ue(S,V),S.match_length<=5&&(S.strategy===1||S.match_length===Y&&4096<S.strstart-S.match_start)&&(S.match_length=Y-1)),S.prev_length>=Y&&S.match_length<=S.prev_length){for(C=S.strstart+S.lookahead-Y,D=u._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-Y),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=C&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+Y-1])&S.hash_mask,V=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=Y-1,S.strstart++,D&&(z(S,!1),S.strm.avail_out===0))return w}else if(S.match_available){if((D=u._tr_tally(S,0,S.window[S.strstart-1]))&&z(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return w}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(D=u._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<Y-1?S.strstart:Y-1,fe===v?(z(S,!0),S.strm.avail_out===0?Se:ce):S.last_lit&&(z(S,!1),S.strm.avail_out===0)?w:L}function Fe(S,fe,V,D,C){this.good_length=S,this.max_lazy=fe,this.nice_length=V,this.max_chain=D,this.func=C}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*B),this.dyn_dtree=new l.Buf16(2*(2*O+1)),this.bl_tree=new l.Buf16(2*(2*U+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(G+1),this.heap=new l.Buf16(2*$+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*$+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(S){var fe;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=T,(fe=S.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?R:J,S.adler=fe.wrap===2?0:1,fe.last_flush=g,u._tr_init(fe),y):pe(S,_)}function Qe(S){var fe=Oe(S);return fe===y&&function(V){V.window_size=2*V.w_size,Ae(V.head),V.max_lazy_match=o[V.level].max_lazy,V.good_match=o[V.level].good_length,V.nice_match=o[V.level].nice_length,V.max_chain_length=o[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=Y-1,V.match_available=0,V.ins_h=0}(S.state),fe}function et(S,fe,V,D,C,ee){if(!S)return _;var _e=1;if(fe===x&&(fe=6),D<0?(_e=0,D=-D):15<D&&(_e=2,D-=16),C<1||I<C||V!==A||D<8||15<D||fe<0||9<fe||ee<0||k<ee)return pe(S,_);D===8&&(D=9);var ke=new be;return(S.state=ke).strm=S,ke.wrap=_e,ke.gzhead=null,ke.w_bits=D,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=C+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+Y-1)/Y),ke.window=new l.Buf8(2*ke.w_size),ke.head=new l.Buf16(ke.hash_size),ke.prev=new l.Buf16(ke.w_size),ke.lit_bufsize=1<<C+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new l.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=fe,ke.strategy=ee,ke.method=V,Qe(S)}o=[new Fe(0,0,0,0,function(S,fe){var V=65535;for(V>S.pending_buf_size-5&&(V=S.pending_buf_size-5);;){if(S.lookahead<=1){if(nt(S),S.lookahead===0&&fe===g)return w;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var D=S.block_start+V;if((S.strstart===0||S.strstart>=D)&&(S.lookahead=S.strstart-D,S.strstart=D,z(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-le&&(z(S,!1),S.strm.avail_out===0))return w}return S.insert=0,fe===v?(z(S,!0),S.strm.avail_out===0?Se:ce):(S.strstart>S.block_start&&(z(S,!1),S.strm.avail_out),w)}),new Fe(4,4,8,4,He),new Fe(4,5,16,8,He),new Fe(4,6,32,32,He),new Fe(4,4,16,16,he),new Fe(8,16,32,32,he),new Fe(8,16,128,128,he),new Fe(8,32,128,256,he),new Fe(32,128,258,1024,he),new Fe(32,258,258,4096,he)],s.deflateInit=function(S,fe){return et(S,fe,A,15,8,0)},s.deflateInit2=et,s.deflateReset=Qe,s.deflateResetKeep=Oe,s.deflateSetHeader=function(S,fe){return S&&S.state?S.state.wrap!==2?_:(S.state.gzhead=fe,y):_},s.deflate=function(S,fe){var V,D,C,ee;if(!S||!S.state||5<fe||fe<0)return S?pe(S,_):_;if(D=S.state,!S.output||!S.input&&S.avail_in!==0||D.status===666&&fe!==v)return pe(S,S.avail_out===0?-5:_);if(D.strm=S,V=D.last_flush,D.last_flush=fe,D.status===R)if(D.wrap===2)S.adler=0,Me(D,31),Me(D,139),Me(D,8),D.gzhead?(Me(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),Me(D,255&D.gzhead.time),Me(D,D.gzhead.time>>8&255),Me(D,D.gzhead.time>>16&255),Me(D,D.gzhead.time>>24&255),Me(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Me(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(Me(D,255&D.gzhead.extra.length),Me(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(S.adler=p(S.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(Me(D,0),Me(D,0),Me(D,0),Me(D,0),Me(D,0),Me(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),Me(D,3),D.status=J);else{var _e=A+(D.w_bits-8<<4)<<8;_e|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(_e|=32),_e+=31-_e%31,D.status=J,de(D,_e),D.strstart!==0&&(de(D,S.adler>>>16),de(D,65535&S.adler)),S.adler=1}if(D.status===69)if(D.gzhead.extra){for(C=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending!==D.pending_buf_size));)Me(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,Me(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),ee===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){C=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),oe(S),C=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,Me(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>C&&(S.adler=p(S.adler,D.pending_buf,D.pending-C,C)),ee===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&oe(S),D.pending+2<=D.pending_buf_size&&(Me(D,255&S.adler),Me(D,S.adler>>8&255),S.adler=0,D.status=J)):D.status=J),D.pending!==0){if(oe(S),S.avail_out===0)return D.last_flush=-1,y}else if(S.avail_in===0&&N(fe)<=N(V)&&fe!==v)return pe(S,-5);if(D.status===666&&S.avail_in!==0)return pe(S,-5);if(S.avail_in!==0||D.lookahead!==0||fe!==g&&D.status!==666){var ke=D.strategy===2?function(re,ie){for(var ye;;){if(re.lookahead===0&&(nt(re),re.lookahead===0)){if(ie===g)return w;break}if(re.match_length=0,ye=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ye&&(z(re,!1),re.strm.avail_out===0))return w}return re.insert=0,ie===v?(z(re,!0),re.strm.avail_out===0?Se:ce):re.last_lit&&(z(re,!1),re.strm.avail_out===0)?w:L}(D,fe):D.strategy===3?function(re,ie){for(var ye,Z,K,xe,Re=re.window;;){if(re.lookahead<=q){if(nt(re),re.lookahead<=q&&ie===g)return w;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=Y&&0<re.strstart&&(Z=Re[K=re.strstart-1])===Re[++K]&&Z===Re[++K]&&Z===Re[++K]){xe=re.strstart+q;do;while(Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&Z===Re[++K]&&K<xe);re.match_length=q-(xe-K),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=Y?(ye=u._tr_tally(re,1,re.match_length-Y),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ye=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ye&&(z(re,!1),re.strm.avail_out===0))return w}return re.insert=0,ie===v?(z(re,!0),re.strm.avail_out===0?Se:ce):re.last_lit&&(z(re,!1),re.strm.avail_out===0)?w:L}(D,fe):o[D.level].func(D,fe);if(ke!==Se&&ke!==ce||(D.status=666),ke===w||ke===Se)return S.avail_out===0&&(D.last_flush=-1),y;if(ke===L&&(fe===1?u._tr_align(D):fe!==5&&(u._tr_stored_block(D,0,0,!1),fe===3&&(Ae(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),oe(S),S.avail_out===0))return D.last_flush=-1,y}return fe!==v?y:D.wrap<=0?1:(D.wrap===2?(Me(D,255&S.adler),Me(D,S.adler>>8&255),Me(D,S.adler>>16&255),Me(D,S.adler>>24&255),Me(D,255&S.total_in),Me(D,S.total_in>>8&255),Me(D,S.total_in>>16&255),Me(D,S.total_in>>24&255)):(de(D,S.adler>>>16),de(D,65535&S.adler)),oe(S),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?y:1)},s.deflateEnd=function(S){var fe;return S&&S.state?(fe=S.state.status)!==R&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==J&&fe!==666?pe(S,_):(S.state=null,fe===J?pe(S,-3):y):_},s.deflateSetDictionary=function(S,fe){var V,D,C,ee,_e,ke,re,ie,ye=fe.length;if(!S||!S.state||(ee=(V=S.state).wrap)===2||ee===1&&V.status!==R||V.lookahead)return _;for(ee===1&&(S.adler=d(S.adler,fe,ye,0)),V.wrap=0,ye>=V.w_size&&(ee===0&&(Ae(V.head),V.strstart=0,V.block_start=0,V.insert=0),ie=new l.Buf8(V.w_size),l.arraySet(ie,fe,ye-V.w_size,V.w_size,0),fe=ie,ye=V.w_size),_e=S.avail_in,ke=S.next_in,re=S.input,S.avail_in=ye,S.next_in=0,S.input=fe,nt(V);V.lookahead>=Y;){for(D=V.strstart,C=V.lookahead-(Y-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[D+Y-1])&V.hash_mask,V.prev[D&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=D,D++,--C;);V.strstart=D,V.lookahead=Y-1,nt(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=Y-1,V.match_available=0,S.next_in=ke,S.input=re,S.avail_in=_e,V.wrap=ee,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,s){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,s){a.exports=function(o,l){var u,d,p,h,g,v,y,_,x,k,T,A,I,$,O,U,B,G,Y,q,le,R,J,w,L;u=o.state,d=o.next_in,w=o.input,p=d+(o.avail_in-5),h=o.next_out,L=o.output,g=h-(l-o.avail_out),v=h+(o.avail_out-257),y=u.dmax,_=u.wsize,x=u.whave,k=u.wnext,T=u.window,A=u.hold,I=u.bits,$=u.lencode,O=u.distcode,U=(1<<u.lenbits)-1,B=(1<<u.distbits)-1;e:do{I<15&&(A+=w[d++]<<I,I+=8,A+=w[d++]<<I,I+=8),G=$[A&U];t:for(;;){if(A>>>=Y=G>>>24,I-=Y,(Y=G>>>16&255)===0)L[h++]=65535&G;else{if(!(16&Y)){if(!(64&Y)){G=$[(65535&G)+(A&(1<<Y)-1)];continue t}if(32&Y){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}q=65535&G,(Y&=15)&&(I<Y&&(A+=w[d++]<<I,I+=8),q+=A&(1<<Y)-1,A>>>=Y,I-=Y),I<15&&(A+=w[d++]<<I,I+=8,A+=w[d++]<<I,I+=8),G=O[A&B];n:for(;;){if(A>>>=Y=G>>>24,I-=Y,!(16&(Y=G>>>16&255))){if(!(64&Y)){G=O[(65535&G)+(A&(1<<Y)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(le=65535&G,I<(Y&=15)&&(A+=w[d++]<<I,(I+=8)<Y&&(A+=w[d++]<<I,I+=8)),y<(le+=A&(1<<Y)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(A>>>=Y,I-=Y,(Y=h-g)<le){if(x<(Y=le-Y)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(J=T,(R=0)===k){if(R+=_-Y,Y<q){for(q-=Y;L[h++]=T[R++],--Y;);R=h-le,J=L}}else if(k<Y){if(R+=_+k-Y,(Y-=k)<q){for(q-=Y;L[h++]=T[R++],--Y;);if(R=0,k<q){for(q-=Y=k;L[h++]=T[R++],--Y;);R=h-le,J=L}}}else if(R+=k-Y,Y<q){for(q-=Y;L[h++]=T[R++],--Y;);R=h-le,J=L}for(;2<q;)L[h++]=J[R++],L[h++]=J[R++],L[h++]=J[R++],q-=3;q&&(L[h++]=J[R++],1<q&&(L[h++]=J[R++]))}else{for(R=h-le;L[h++]=L[R++],L[h++]=L[R++],L[h++]=L[R++],2<(q-=3););q&&(L[h++]=L[R++],1<q&&(L[h++]=L[R++]))}break}}break}}while(d<p&&h<v);d-=q=I>>3,A&=(1<<(I-=q<<3))-1,o.next_in=d,o.next_out=h,o.avail_in=d<p?p-d+5:5-(d-p),o.avail_out=h<v?v-h+257:257-(h-v),u.hold=A,u.bits=I}},{}],49:[function(r,a,s){var o=r("../utils/common"),l=r("./adler32"),u=r("./crc32"),d=r("./inffast"),p=r("./inftrees"),h=1,g=2,v=0,y=-2,_=1,x=852,k=592;function T(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(R){var J;return R&&R.state?(J=R.state,R.total_in=R.total_out=J.total=0,R.msg="",J.wrap&&(R.adler=1&J.wrap),J.mode=_,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new o.Buf32(x),J.distcode=J.distdyn=new o.Buf32(k),J.sane=1,J.back=-1,v):y}function $(R){var J;return R&&R.state?((J=R.state).wsize=0,J.whave=0,J.wnext=0,I(R)):y}function O(R,J){var w,L;return R&&R.state?(L=R.state,J<0?(w=0,J=-J):(w=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?y:(L.window!==null&&L.wbits!==J&&(L.window=null),L.wrap=w,L.wbits=J,$(R))):y}function U(R,J){var w,L;return R?(L=new A,(R.state=L).window=null,(w=O(R,J))!==v&&(R.state=null),w):y}var B,G,Y=!0;function q(R){if(Y){var J;for(B=new o.Buf32(512),G=new o.Buf32(32),J=0;J<144;)R.lens[J++]=8;for(;J<256;)R.lens[J++]=9;for(;J<280;)R.lens[J++]=7;for(;J<288;)R.lens[J++]=8;for(p(h,R.lens,0,288,B,0,R.work,{bits:9}),J=0;J<32;)R.lens[J++]=5;p(g,R.lens,0,32,G,0,R.work,{bits:5}),Y=!1}R.lencode=B,R.lenbits=9,R.distcode=G,R.distbits=5}function le(R,J,w,L){var Se,ce=R.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new o.Buf8(ce.wsize)),L>=ce.wsize?(o.arraySet(ce.window,J,w-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):(L<(Se=ce.wsize-ce.wnext)&&(Se=L),o.arraySet(ce.window,J,w-L,Se,ce.wnext),(L-=Se)?(o.arraySet(ce.window,J,w-L,L,0),ce.wnext=L,ce.whave=ce.wsize):(ce.wnext+=Se,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=Se))),0}s.inflateReset=$,s.inflateReset2=O,s.inflateResetKeep=I,s.inflateInit=function(R){return U(R,15)},s.inflateInit2=U,s.inflate=function(R,J){var w,L,Se,ce,pe,N,Ae,oe,z,Me,de,ue,nt,He,he,Fe,be,Oe,Qe,et,S,fe,V,D,C=0,ee=new o.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return y;(w=R.state).mode===12&&(w.mode=13),pe=R.next_out,Se=R.output,Ae=R.avail_out,ce=R.next_in,L=R.input,N=R.avail_in,oe=w.hold,z=w.bits,Me=N,de=Ae,fe=v;e:for(;;)switch(w.mode){case _:if(w.wrap===0){w.mode=13;break}for(;z<16;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(2&w.wrap&&oe===35615){ee[w.check=0]=255&oe,ee[1]=oe>>>8&255,w.check=u(w.check,ee,2,0),z=oe=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&oe)<<8)+(oe>>8))%31){R.msg="incorrect header check",w.mode=30;break}if((15&oe)!=8){R.msg="unknown compression method",w.mode=30;break}if(z-=4,S=8+(15&(oe>>>=4)),w.wbits===0)w.wbits=S;else if(S>w.wbits){R.msg="invalid window size",w.mode=30;break}w.dmax=1<<S,R.adler=w.check=1,w.mode=512&oe?10:12,z=oe=0;break;case 2:for(;z<16;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(w.flags=oe,(255&w.flags)!=8){R.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){R.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=oe>>8&1),512&w.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,w.check=u(w.check,ee,2,0)),z=oe=0,w.mode=3;case 3:for(;z<32;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.head&&(w.head.time=oe),512&w.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,ee[2]=oe>>>16&255,ee[3]=oe>>>24&255,w.check=u(w.check,ee,4,0)),z=oe=0,w.mode=4;case 4:for(;z<16;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.head&&(w.head.xflags=255&oe,w.head.os=oe>>8),512&w.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,w.check=u(w.check,ee,2,0)),z=oe=0,w.mode=5;case 5:if(1024&w.flags){for(;z<16;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.length=oe,w.head&&(w.head.extra_len=oe),512&w.flags&&(ee[0]=255&oe,ee[1]=oe>>>8&255,w.check=u(w.check,ee,2,0)),z=oe=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(N<(ue=w.length)&&(ue=N),ue&&(w.head&&(S=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),o.arraySet(w.head.extra,L,ce,ue,S)),512&w.flags&&(w.check=u(w.check,L,ue,ce)),N-=ue,ce+=ue,w.length-=ue),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(N===0)break e;for(ue=0;S=L[ce+ue++],w.head&&S&&w.length<65536&&(w.head.name+=String.fromCharCode(S)),S&&ue<N;);if(512&w.flags&&(w.check=u(w.check,L,ue,ce)),N-=ue,ce+=ue,S)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(N===0)break e;for(ue=0;S=L[ce+ue++],w.head&&S&&w.length<65536&&(w.head.comment+=String.fromCharCode(S)),S&&ue<N;);if(512&w.flags&&(w.check=u(w.check,L,ue,ce)),N-=ue,ce+=ue,S)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;z<16;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(oe!==(65535&w.check)){R.msg="header crc mismatch",w.mode=30;break}z=oe=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),R.adler=w.check=0,w.mode=12;break;case 10:for(;z<32;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}R.adler=w.check=T(oe),z=oe=0,w.mode=11;case 11:if(w.havedict===0)return R.next_out=pe,R.avail_out=Ae,R.next_in=ce,R.avail_in=N,w.hold=oe,w.bits=z,2;R.adler=w.check=1,w.mode=12;case 12:if(J===5||J===6)break e;case 13:if(w.last){oe>>>=7&z,z-=7&z,w.mode=27;break}for(;z<3;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}switch(w.last=1&oe,z-=1,3&(oe>>>=1)){case 0:w.mode=14;break;case 1:if(q(w),w.mode=20,J!==6)break;oe>>>=2,z-=2;break e;case 2:w.mode=17;break;case 3:R.msg="invalid block type",w.mode=30}oe>>>=2,z-=2;break;case 14:for(oe>>>=7&z,z-=7&z;z<32;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if((65535&oe)!=(oe>>>16^65535)){R.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&oe,z=oe=0,w.mode=15,J===6)break e;case 15:w.mode=16;case 16:if(ue=w.length){if(N<ue&&(ue=N),Ae<ue&&(ue=Ae),ue===0)break e;o.arraySet(Se,L,ce,ue,pe),N-=ue,ce+=ue,Ae-=ue,pe+=ue,w.length-=ue;break}w.mode=12;break;case 17:for(;z<14;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(w.nlen=257+(31&oe),oe>>>=5,z-=5,w.ndist=1+(31&oe),oe>>>=5,z-=5,w.ncode=4+(15&oe),oe>>>=4,z-=4,286<w.nlen||30<w.ndist){R.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;z<3;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.lens[_e[w.have++]]=7&oe,oe>>>=3,z-=3}for(;w.have<19;)w.lens[_e[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,V={bits:w.lenbits},fe=p(0,w.lens,0,19,w.lencode,0,w.work,V),w.lenbits=V.bits,fe){R.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Fe=(C=w.lencode[oe&(1<<w.lenbits)-1])>>>16&255,be=65535&C,!((he=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(be<16)oe>>>=he,z-=he,w.lens[w.have++]=be;else{if(be===16){for(D=he+2;z<D;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(oe>>>=he,z-=he,w.have===0){R.msg="invalid bit length repeat",w.mode=30;break}S=w.lens[w.have-1],ue=3+(3&oe),oe>>>=2,z-=2}else if(be===17){for(D=he+3;z<D;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}z-=he,S=0,ue=3+(7&(oe>>>=he)),oe>>>=3,z-=3}else{for(D=he+7;z<D;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}z-=he,S=0,ue=11+(127&(oe>>>=he)),oe>>>=7,z-=7}if(w.have+ue>w.nlen+w.ndist){R.msg="invalid bit length repeat",w.mode=30;break}for(;ue--;)w.lens[w.have++]=S}}if(w.mode===30)break;if(w.lens[256]===0){R.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,V={bits:w.lenbits},fe=p(h,w.lens,0,w.nlen,w.lencode,0,w.work,V),w.lenbits=V.bits,fe){R.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,V={bits:w.distbits},fe=p(g,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,V),w.distbits=V.bits,fe){R.msg="invalid distances set",w.mode=30;break}if(w.mode=20,J===6)break e;case 20:w.mode=21;case 21:if(6<=N&&258<=Ae){R.next_out=pe,R.avail_out=Ae,R.next_in=ce,R.avail_in=N,w.hold=oe,w.bits=z,d(R,de),pe=R.next_out,Se=R.output,Ae=R.avail_out,ce=R.next_in,L=R.input,N=R.avail_in,oe=w.hold,z=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Fe=(C=w.lencode[oe&(1<<w.lenbits)-1])>>>16&255,be=65535&C,!((he=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(Fe&&!(240&Fe)){for(Oe=he,Qe=Fe,et=be;Fe=(C=w.lencode[et+((oe&(1<<Oe+Qe)-1)>>Oe)])>>>16&255,be=65535&C,!(Oe+(he=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}oe>>>=Oe,z-=Oe,w.back+=Oe}if(oe>>>=he,z-=he,w.back+=he,w.length=be,Fe===0){w.mode=26;break}if(32&Fe){w.back=-1,w.mode=12;break}if(64&Fe){R.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Fe,w.mode=22;case 22:if(w.extra){for(D=w.extra;z<D;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.length+=oe&(1<<w.extra)-1,oe>>>=w.extra,z-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Fe=(C=w.distcode[oe&(1<<w.distbits)-1])>>>16&255,be=65535&C,!((he=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(!(240&Fe)){for(Oe=he,Qe=Fe,et=be;Fe=(C=w.distcode[et+((oe&(1<<Oe+Qe)-1)>>Oe)])>>>16&255,be=65535&C,!(Oe+(he=C>>>24)<=z);){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}oe>>>=Oe,z-=Oe,w.back+=Oe}if(oe>>>=he,z-=he,w.back+=he,64&Fe){R.msg="invalid distance code",w.mode=30;break}w.offset=be,w.extra=15&Fe,w.mode=24;case 24:if(w.extra){for(D=w.extra;z<D;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}w.offset+=oe&(1<<w.extra)-1,oe>>>=w.extra,z-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){R.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(Ae===0)break e;if(ue=de-Ae,w.offset>ue){if((ue=w.offset-ue)>w.whave&&w.sane){R.msg="invalid distance too far back",w.mode=30;break}nt=ue>w.wnext?(ue-=w.wnext,w.wsize-ue):w.wnext-ue,ue>w.length&&(ue=w.length),He=w.window}else He=Se,nt=pe-w.offset,ue=w.length;for(Ae<ue&&(ue=Ae),Ae-=ue,w.length-=ue;Se[pe++]=He[nt++],--ue;);w.length===0&&(w.mode=21);break;case 26:if(Ae===0)break e;Se[pe++]=w.length,Ae--,w.mode=21;break;case 27:if(w.wrap){for(;z<32;){if(N===0)break e;N--,oe|=L[ce++]<<z,z+=8}if(de-=Ae,R.total_out+=de,w.total+=de,de&&(R.adler=w.check=w.flags?u(w.check,Se,de,pe-de):l(w.check,Se,de,pe-de)),de=Ae,(w.flags?oe:T(oe))!==w.check){R.msg="incorrect data check",w.mode=30;break}z=oe=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;z<32;){if(N===0)break e;N--,oe+=L[ce++]<<z,z+=8}if(oe!==(4294967295&w.total)){R.msg="incorrect length check",w.mode=30;break}z=oe=0}w.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return y}return R.next_out=pe,R.avail_out=Ae,R.next_in=ce,R.avail_in=N,w.hold=oe,w.bits=z,(w.wsize||de!==R.avail_out&&w.mode<30&&(w.mode<27||J!==4))&&le(R,R.output,R.next_out,de-R.avail_out)?(w.mode=31,-4):(Me-=R.avail_in,de-=R.avail_out,R.total_in+=Me,R.total_out+=de,w.total+=de,w.wrap&&de&&(R.adler=w.check=w.flags?u(w.check,Se,de,R.next_out-de):l(w.check,Se,de,R.next_out-de)),R.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(Me==0&&de===0||J===4)&&fe===v&&(fe=-5),fe)},s.inflateEnd=function(R){if(!R||!R.state)return y;var J=R.state;return J.window&&(J.window=null),R.state=null,v},s.inflateGetHeader=function(R,J){var w;return R&&R.state&&2&(w=R.state).wrap?((w.head=J).done=!1,v):y},s.inflateSetDictionary=function(R,J){var w,L=J.length;return R&&R.state?(w=R.state).wrap!==0&&w.mode!==11?y:w.mode===11&&l(1,J,L,0)!==w.check?-3:le(R,J,L,L)?(w.mode=31,-4):(w.havedict=1,v):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,s){var o=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(h,g,v,y,_,x,k,T){var A,I,$,O,U,B,G,Y,q,le=T.bits,R=0,J=0,w=0,L=0,Se=0,ce=0,pe=0,N=0,Ae=0,oe=0,z=null,Me=0,de=new o.Buf16(16),ue=new o.Buf16(16),nt=null,He=0;for(R=0;R<=15;R++)de[R]=0;for(J=0;J<y;J++)de[g[v+J]]++;for(Se=le,L=15;1<=L&&de[L]===0;L--);if(L<Se&&(Se=L),L===0)return _[x++]=20971520,_[x++]=20971520,T.bits=1,0;for(w=1;w<L&&de[w]===0;w++);for(Se<w&&(Se=w),R=N=1;R<=15;R++)if(N<<=1,(N-=de[R])<0)return-1;if(0<N&&(h===0||L!==1))return-1;for(ue[1]=0,R=1;R<15;R++)ue[R+1]=ue[R]+de[R];for(J=0;J<y;J++)g[v+J]!==0&&(k[ue[g[v+J]]++]=J);if(B=h===0?(z=nt=k,19):h===1?(z=l,Me-=257,nt=u,He-=257,256):(z=d,nt=p,-1),R=w,U=x,pe=J=oe=0,$=-1,O=(Ae=1<<(ce=Se))-1,h===1&&852<Ae||h===2&&592<Ae)return 1;for(;;){for(G=R-pe,q=k[J]<B?(Y=0,k[J]):k[J]>B?(Y=nt[He+k[J]],z[Me+k[J]]):(Y=96,0),A=1<<R-pe,w=I=1<<ce;_[U+(oe>>pe)+(I-=A)]=G<<24|Y<<16|q|0,I!==0;);for(A=1<<R-1;oe&A;)A>>=1;if(A!==0?(oe&=A-1,oe+=A):oe=0,J++,--de[R]==0){if(R===L)break;R=g[v+k[J]]}if(Se<R&&(oe&O)!==$){for(pe===0&&(pe=Se),U+=w,N=1<<(ce=R-pe);ce+pe<L&&!((N-=de[ce+pe])<=0);)ce++,N<<=1;if(Ae+=1<<ce,h===1&&852<Ae||h===2&&592<Ae)return 1;_[$=oe&O]=Se<<24|ce<<16|U-x|0}}return oe!==0&&(_[U+oe]=R-pe<<24|64<<16|0),T.bits=Se,0}},{"../utils/common":41}],51:[function(r,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,s){var o=r("../utils/common"),l=0,u=1;function d(C){for(var ee=C.length;0<=--ee;)C[ee]=0}var p=0,h=29,g=256,v=g+1+h,y=30,_=19,x=2*v+1,k=15,T=16,A=7,I=256,$=16,O=17,U=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=new Array(2*(v+2));d(le);var R=new Array(2*y);d(R);var J=new Array(512);d(J);var w=new Array(256);d(w);var L=new Array(h);d(L);var Se,ce,pe,N=new Array(y);function Ae(C,ee,_e,ke,re){this.static_tree=C,this.extra_bits=ee,this.extra_base=_e,this.elems=ke,this.max_length=re,this.has_stree=C&&C.length}function oe(C,ee){this.dyn_tree=C,this.max_code=0,this.stat_desc=ee}function z(C){return C<256?J[C]:J[256+(C>>>7)]}function Me(C,ee){C.pending_buf[C.pending++]=255&ee,C.pending_buf[C.pending++]=ee>>>8&255}function de(C,ee,_e){C.bi_valid>T-_e?(C.bi_buf|=ee<<C.bi_valid&65535,Me(C,C.bi_buf),C.bi_buf=ee>>T-C.bi_valid,C.bi_valid+=_e-T):(C.bi_buf|=ee<<C.bi_valid&65535,C.bi_valid+=_e)}function ue(C,ee,_e){de(C,_e[2*ee],_e[2*ee+1])}function nt(C,ee){for(var _e=0;_e|=1&C,C>>>=1,_e<<=1,0<--ee;);return _e>>>1}function He(C,ee,_e){var ke,re,ie=new Array(k+1),ye=0;for(ke=1;ke<=k;ke++)ie[ke]=ye=ye+_e[ke-1]<<1;for(re=0;re<=ee;re++){var Z=C[2*re+1];Z!==0&&(C[2*re]=nt(ie[Z]++,Z))}}function he(C){var ee;for(ee=0;ee<v;ee++)C.dyn_ltree[2*ee]=0;for(ee=0;ee<y;ee++)C.dyn_dtree[2*ee]=0;for(ee=0;ee<_;ee++)C.bl_tree[2*ee]=0;C.dyn_ltree[2*I]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Fe(C){8<C.bi_valid?Me(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function be(C,ee,_e,ke){var re=2*ee,ie=2*_e;return C[re]<C[ie]||C[re]===C[ie]&&ke[ee]<=ke[_e]}function Oe(C,ee,_e){for(var ke=C.heap[_e],re=_e<<1;re<=C.heap_len&&(re<C.heap_len&&be(ee,C.heap[re+1],C.heap[re],C.depth)&&re++,!be(ee,ke,C.heap[re],C.depth));)C.heap[_e]=C.heap[re],_e=re,re<<=1;C.heap[_e]=ke}function Qe(C,ee,_e){var ke,re,ie,ye,Z=0;if(C.last_lit!==0)for(;ke=C.pending_buf[C.d_buf+2*Z]<<8|C.pending_buf[C.d_buf+2*Z+1],re=C.pending_buf[C.l_buf+Z],Z++,ke===0?ue(C,re,ee):(ue(C,(ie=w[re])+g+1,ee),(ye=B[ie])!==0&&de(C,re-=L[ie],ye),ue(C,ie=z(--ke),_e),(ye=G[ie])!==0&&de(C,ke-=N[ie],ye)),Z<C.last_lit;);ue(C,I,ee)}function et(C,ee){var _e,ke,re,ie=ee.dyn_tree,ye=ee.stat_desc.static_tree,Z=ee.stat_desc.has_stree,K=ee.stat_desc.elems,xe=-1;for(C.heap_len=0,C.heap_max=x,_e=0;_e<K;_e++)ie[2*_e]!==0?(C.heap[++C.heap_len]=xe=_e,C.depth[_e]=0):ie[2*_e+1]=0;for(;C.heap_len<2;)ie[2*(re=C.heap[++C.heap_len]=xe<2?++xe:0)]=1,C.depth[re]=0,C.opt_len--,Z&&(C.static_len-=ye[2*re+1]);for(ee.max_code=xe,_e=C.heap_len>>1;1<=_e;_e--)Oe(C,ie,_e);for(re=K;_e=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Oe(C,ie,1),ke=C.heap[1],C.heap[--C.heap_max]=_e,C.heap[--C.heap_max]=ke,ie[2*re]=ie[2*_e]+ie[2*ke],C.depth[re]=(C.depth[_e]>=C.depth[ke]?C.depth[_e]:C.depth[ke])+1,ie[2*_e+1]=ie[2*ke+1]=re,C.heap[1]=re++,Oe(C,ie,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Re,Ze){var pt,At,_t,it,fn,wt,Rt=Ze.dyn_tree,ft=Ze.max_code,xr=Ze.stat_desc.static_tree,On=Ze.stat_desc.has_stree,Lr=Ze.stat_desc.extra_bits,na=Ze.stat_desc.extra_base,Br=Ze.stat_desc.max_length,ra=0;for(it=0;it<=k;it++)Re.bl_count[it]=0;for(Rt[2*Re.heap[Re.heap_max]+1]=0,pt=Re.heap_max+1;pt<x;pt++)Br<(it=Rt[2*Rt[2*(At=Re.heap[pt])+1]+1]+1)&&(it=Br,ra++),Rt[2*At+1]=it,ft<At||(Re.bl_count[it]++,fn=0,na<=At&&(fn=Lr[At-na]),wt=Rt[2*At],Re.opt_len+=wt*(it+fn),On&&(Re.static_len+=wt*(xr[2*At+1]+fn)));if(ra!==0){do{for(it=Br-1;Re.bl_count[it]===0;)it--;Re.bl_count[it]--,Re.bl_count[it+1]+=2,Re.bl_count[Br]--,ra-=2}while(0<ra);for(it=Br;it!==0;it--)for(At=Re.bl_count[it];At!==0;)ft<(_t=Re.heap[--pt])||(Rt[2*_t+1]!==it&&(Re.opt_len+=(it-Rt[2*_t+1])*Rt[2*_t],Rt[2*_t+1]=it),At--)}}(C,ee),He(ie,xe,C.bl_count)}function S(C,ee,_e){var ke,re,ie=-1,ye=ee[1],Z=0,K=7,xe=4;for(ye===0&&(K=138,xe=3),ee[2*(_e+1)+1]=65535,ke=0;ke<=_e;ke++)re=ye,ye=ee[2*(ke+1)+1],++Z<K&&re===ye||(Z<xe?C.bl_tree[2*re]+=Z:re!==0?(re!==ie&&C.bl_tree[2*re]++,C.bl_tree[2*$]++):Z<=10?C.bl_tree[2*O]++:C.bl_tree[2*U]++,ie=re,xe=(Z=0)===ye?(K=138,3):re===ye?(K=6,3):(K=7,4))}function fe(C,ee,_e){var ke,re,ie=-1,ye=ee[1],Z=0,K=7,xe=4;for(ye===0&&(K=138,xe=3),ke=0;ke<=_e;ke++)if(re=ye,ye=ee[2*(ke+1)+1],!(++Z<K&&re===ye)){if(Z<xe)for(;ue(C,re,C.bl_tree),--Z!=0;);else re!==0?(re!==ie&&(ue(C,re,C.bl_tree),Z--),ue(C,$,C.bl_tree),de(C,Z-3,2)):Z<=10?(ue(C,O,C.bl_tree),de(C,Z-3,3)):(ue(C,U,C.bl_tree),de(C,Z-11,7));ie=re,xe=(Z=0)===ye?(K=138,3):re===ye?(K=6,3):(K=7,4)}}d(N);var V=!1;function D(C,ee,_e,ke){de(C,(p<<1)+(ke?1:0),3),function(re,ie,ye,Z){Fe(re),Me(re,ye),Me(re,~ye),o.arraySet(re.pending_buf,re.window,ie,ye,re.pending),re.pending+=ye}(C,ee,_e)}s._tr_init=function(C){V||(function(){var ee,_e,ke,re,ie,ye=new Array(k+1);for(re=ke=0;re<h-1;re++)for(L[re]=ke,ee=0;ee<1<<B[re];ee++)w[ke++]=re;for(w[ke-1]=re,re=ie=0;re<16;re++)for(N[re]=ie,ee=0;ee<1<<G[re];ee++)J[ie++]=re;for(ie>>=7;re<y;re++)for(N[re]=ie<<7,ee=0;ee<1<<G[re]-7;ee++)J[256+ie++]=re;for(_e=0;_e<=k;_e++)ye[_e]=0;for(ee=0;ee<=143;)le[2*ee+1]=8,ee++,ye[8]++;for(;ee<=255;)le[2*ee+1]=9,ee++,ye[9]++;for(;ee<=279;)le[2*ee+1]=7,ee++,ye[7]++;for(;ee<=287;)le[2*ee+1]=8,ee++,ye[8]++;for(He(le,v+1,ye),ee=0;ee<y;ee++)R[2*ee+1]=5,R[2*ee]=nt(ee,5);Se=new Ae(le,B,g+1,v,k),ce=new Ae(R,G,0,y,k),pe=new Ae(new Array(0),Y,0,_,A)}(),V=!0),C.l_desc=new oe(C.dyn_ltree,Se),C.d_desc=new oe(C.dyn_dtree,ce),C.bl_desc=new oe(C.bl_tree,pe),C.bi_buf=0,C.bi_valid=0,he(C)},s._tr_stored_block=D,s._tr_flush_block=function(C,ee,_e,ke){var re,ie,ye=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(Z){var K,xe=4093624447;for(K=0;K<=31;K++,xe>>>=1)if(1&xe&&Z.dyn_ltree[2*K]!==0)return l;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return u;for(K=32;K<g;K++)if(Z.dyn_ltree[2*K]!==0)return u;return l}(C)),et(C,C.l_desc),et(C,C.d_desc),ye=function(Z){var K;for(S(Z,Z.dyn_ltree,Z.l_desc.max_code),S(Z,Z.dyn_dtree,Z.d_desc.max_code),et(Z,Z.bl_desc),K=_-1;3<=K&&Z.bl_tree[2*q[K]+1]===0;K--);return Z.opt_len+=3*(K+1)+5+5+4,K}(C),re=C.opt_len+3+7>>>3,(ie=C.static_len+3+7>>>3)<=re&&(re=ie)):re=ie=_e+5,_e+4<=re&&ee!==-1?D(C,ee,_e,ke):C.strategy===4||ie===re?(de(C,2+(ke?1:0),3),Qe(C,le,R)):(de(C,4+(ke?1:0),3),function(Z,K,xe,Re){var Ze;for(de(Z,K-257,5),de(Z,xe-1,5),de(Z,Re-4,4),Ze=0;Ze<Re;Ze++)de(Z,Z.bl_tree[2*q[Ze]+1],3);fe(Z,Z.dyn_ltree,K-1),fe(Z,Z.dyn_dtree,xe-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,ye+1),Qe(C,C.dyn_ltree,C.dyn_dtree)),he(C),ke&&Fe(C)},s._tr_tally=function(C,ee,_e){return C.pending_buf[C.d_buf+2*C.last_lit]=ee>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&ee,C.pending_buf[C.l_buf+C.last_lit]=255&_e,C.last_lit++,ee===0?C.dyn_ltree[2*_e]++:(C.matches++,ee--,C.dyn_ltree[2*(w[_e]+g+1)]++,C.dyn_dtree[2*z(ee)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){de(C,2,3),ue(C,I,le),function(ee){ee.bi_valid===16?(Me(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(r,a,s){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,s){(function(o){(function(l,u){if(!l.setImmediate){var d,p,h,g,v=1,y={},_=!1,x=l.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(l);k=k&&k.setTimeout?k:l,d={}.toString.call(l.process)==="[object process]"?function($){n.nextTick(function(){A($)})}:function(){if(l.postMessage&&!l.importScripts){var $=!0,O=l.onmessage;return l.onmessage=function(){$=!1},l.postMessage("","*"),l.onmessage=O,$}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",I,!1):l.attachEvent("onmessage",I),function($){l.postMessage(g+$,"*")}):l.MessageChannel?((h=new MessageChannel).port1.onmessage=function($){A($.data)},function($){h.port2.postMessage($)}):x&&"onreadystatechange"in x.createElement("script")?(p=x.documentElement,function($){var O=x.createElement("script");O.onreadystatechange=function(){A($),O.onreadystatechange=null,p.removeChild(O),O=null},p.appendChild(O)}):function($){setTimeout(A,0,$)},k.setImmediate=function($){typeof $!="function"&&($=new Function(""+$));for(var O=new Array(arguments.length-1),U=0;U<O.length;U++)O[U]=arguments[U+1];var B={callback:$,args:O};return y[v]=B,d(v),v++},k.clearImmediate=T}function T($){delete y[$]}function A($){if(_)setTimeout(A,0,$);else{var O=y[$];if(O){_=!0;try{(function(U){var B=U.callback,G=U.args;switch(G.length){case 0:B();break;case 1:B(G[0]);break;case 2:B(G[0],G[1]);break;case 3:B(G[0],G[1],G[2]);break;default:B.apply(u,G)}})(O)}finally{T($),_=!1}}}}function I($){$.source===l&&typeof $.data=="string"&&$.data.indexOf(g)===0&&A(+$.data.slice(g.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Yn<"u"?Yn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(o_);var W3=o_.exports;const V3=ka(W3),G3=new Proxy({},{get(e,t){throw new Error(`Module "util" has been externalized for browser compatibility. Cannot access "util.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),J3=Object.freeze(Object.defineProperty({__proto__:null,default:G3},Symbol.toStringTag,{value:"Module"})),s_=gv(J3);var Hl={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(r=>r.type===n),e.exceedsLimit=(t,n,r=1,a)=>a===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(r)>=a,e.escapeNode=(t,n=0,r)=>{const a=t.nodes[n];a&&(r&&a.type===r||a.type==="open"||a.type==="close")&&a.escaped!==!0&&(a.value="\\"+a.value,a.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,r)=>(r.type==="text"&&n.push(r.value),r.type==="range"&&(r.type="text"),n),[]),e.flatten=(...t)=>{const n=[],r=a=>{for(let s=0;s<a.length;s++){const o=a[s];if(Array.isArray(o)){r(o);continue}o!==void 0&&n.push(o)}return n};return r(t),n}})(Hl);const vy=Hl;var jp=(e,t={})=>{const n=(r,a={})=>{const s=t.escapeInvalid&&vy.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0;let l="";if(r.value)return(s||o)&&vy.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(const u of r.nodes)l+=n(u);return l};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var K3=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const by=K3,Va=(e,t,n)=>{if(by(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(by(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let a=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),l=String(r.wrap),u=e+":"+t+"="+a+s+o+l;if(Va.cache.hasOwnProperty(u))return Va.cache[u].result;let d=Math.min(e,t),p=Math.max(e,t);if(Math.abs(d-p)===1){let _=e+"|"+t;return r.capture?`(${_})`:r.wrap===!1?_:`(?:${_})`}let h=Sy(e)||Sy(t),g={min:e,max:t,a:d,b:p},v=[],y=[];if(h&&(g.isPadded=h,g.maxLen=String(g.max).length),d<0){let _=p<0?Math.abs(p):1;y=xy(_,Math.abs(d),g,r),d=g.a=0}return p>=0&&(v=xy(d,p,g,r)),g.negatives=y,g.positives=v,g.result=Y3(y,v),r.capture===!0?g.result=`(${g.result})`:r.wrap!==!1&&v.length+y.length>1&&(g.result=`(?:${g.result})`),Va.cache[u]=g,g.result};function Y3(e,t,n){let r=Nu(e,t,"-",!1)||[],a=Nu(t,e,"",!1)||[],s=Nu(e,t,"-?",!0)||[];return r.concat(s).concat(a).join("|")}function X3(e,t){let n=1,r=1,a=wy(e,n),s=new Set([t]);for(;e<=a&&a<=t;)s.add(a),n+=1,a=wy(e,n);for(a=ky(t+1,r)-1;e<a&&a<=t;)s.add(a),r+=1,a=ky(t+1,r)-1;return s=[...s],s.sort(tZ),s}function Q3(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=eZ(e,t),a=r.length,s="",o=0;for(let l=0;l<a;l++){let[u,d]=r[l];u===d?s+=u:u!=="0"||d!=="9"?s+=nZ(u,d):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:a}}function xy(e,t,n,r){let a=X3(e,t),s=[],o=e,l;for(let u=0;u<a.length;u++){let d=a[u],p=Q3(String(o),String(d),r),h="";if(!n.isPadded&&l&&l.pattern===p.pattern){l.count.length>1&&l.count.pop(),l.count.push(p.count[0]),l.string=l.pattern+Cy(l.count),o=d+1;continue}n.isPadded&&(h=rZ(d,n,r)),p.string=h+p.pattern+Cy(p.count),s.push(p),o=d+1,l=p}return s}function Nu(e,t,n,r,a){let s=[];for(let o of e){let{string:l}=o;!r&&!_y(t,"string",l)&&s.push(n+l),r&&_y(t,"string",l)&&s.push(n+l)}return s}function eZ(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}function tZ(e,t){return e>t?1:t>e?-1:0}function _y(e,t,n){return e.some(r=>r[t]===n)}function wy(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ky(e,t){return e-e%Math.pow(10,t)}function Cy(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function nZ(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function Sy(e){return/^-?(0+)\d/.test(e)}function rZ(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),a=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${r}}`:`0{${r}}`}}Va.cache={};Va.clearCache=()=>Va.cache={};var aZ=Va;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const iZ=s_,l_=aZ,Ey=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),oZ=e=>t=>e===!0?Number(t):String(t),Pu=e=>typeof e=="number"||typeof e=="string"&&e!=="",Co=e=>Number.isInteger(+e),Du=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},sZ=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,lZ=(e,t,n)=>{if(t>0){let r=e[0]==="-"?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return n===!1?String(e):e},kl=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},cZ=(e,t,n)=>{e.negatives.sort((l,u)=>l<u?-1:l>u?1:0),e.positives.sort((l,u)=>l<u?-1:l>u?1:0);let r=t.capture?"":"?:",a="",s="",o;return e.positives.length&&(a=e.positives.map(l=>kl(String(l),n)).join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.map(l=>kl(String(l),n)).join("|")})`),a&&s?o=`${a}|${s}`:o=a||s,t.wrap?`(${r}${o})`:o},c_=(e,t,n,r)=>{if(n)return l_(e,t,{wrap:!1,...r});let a=String.fromCharCode(e);if(e===t)return a;let s=String.fromCharCode(t);return`[${a}-${s}]`},u_=(e,t,n)=>{if(Array.isArray(e)){let r=n.wrap===!0,a=n.capture?"":"?:";return r?`(${a}${e.join("|")})`:e.join("|")}return l_(e,t,n)},d_=(...e)=>new RangeError("Invalid range arguments: "+iZ.inspect(...e)),p_=(e,t,n)=>{if(n.strictRanges===!0)throw d_([e,t]);return[]},uZ=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},dZ=(e,t,n=1,r={})=>{let a=Number(e),s=Number(t);if(!Number.isInteger(a)||!Number.isInteger(s)){if(r.strictRanges===!0)throw d_([e,t]);return[]}a===0&&(a=0),s===0&&(s=0);let o=a>s,l=String(e),u=String(t),d=String(n);n=Math.max(Math.abs(n),1);let p=Du(l)||Du(u)||Du(d),h=p?Math.max(l.length,u.length,d.length):0,g=p===!1&&sZ(e,t,r)===!1,v=r.transform||oZ(g);if(r.toRegex&&n===1)return c_(kl(e,h),kl(t,h),!0,r);let y={negatives:[],positives:[]},_=T=>y[T<0?"negatives":"positives"].push(Math.abs(T)),x=[],k=0;for(;o?a>=s:a<=s;)r.toRegex===!0&&n>1?_(a):x.push(lZ(v(a,k),h,g)),a=o?a-n:a+n,k++;return r.toRegex===!0?n>1?cZ(y,r,h):u_(x,null,{wrap:!1,...r}):x},pZ=(e,t,n=1,r={})=>{if(!Co(e)&&e.length>1||!Co(t)&&t.length>1)return p_(e,t,r);let a=r.transform||(g=>String.fromCharCode(g)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),l=s>o,u=Math.min(s,o),d=Math.max(s,o);if(r.toRegex&&n===1)return c_(u,d,!1,r);let p=[],h=0;for(;l?s>=o:s<=o;)p.push(a(s,h)),s=l?s-n:s+n,h++;return r.toRegex===!0?u_(p,null,{wrap:!1,options:r}):p},el=(e,t,n,r={})=>{if(t==null&&Pu(e))return[e];if(!Pu(e)||!Pu(t))return p_(e,t,r);if(typeof n=="function")return el(e,t,1,{transform:n});if(Ey(n))return el(e,t,0,n);let a={...r};return a.capture===!0&&(a.wrap=!0),n=n||a.step||1,Co(n)?Co(e)&&Co(t)?dZ(e,t,n,a):pZ(e,t,Math.max(Math.abs(n),1),a):n!=null&&!Ey(n)?uZ(n,a):el(e,t,1,n)};var f_=el;const fZ=f_,Ty=Hl,hZ=(e,t={})=>{const n=(r,a={})=>{const s=Ty.isInvalidBrace(a),o=r.invalid===!0&&t.escapeInvalid===!0,l=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"";let d="";if(r.isOpen===!0)return u+r.value;if(r.isClose===!0)return console.log("node.isClose",u,r.value),u+r.value;if(r.type==="open")return l?u+r.value:"(";if(r.type==="close")return l?u+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":l?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){const p=Ty.reduce(r.nodes),h=fZ(...p,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return p.length>1&&h.length>1?`(${h})`:h}if(r.nodes)for(const p of r.nodes)d+=n(p,r);return d};return n(e)};var mZ=hZ;const gZ=f_,Ay=jp,Ei=Hl,Ha=(e="",t="",n=!1)=>{const r=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?Ei.flatten(t).map(a=>`{${a}}`):t;for(const a of e)if(Array.isArray(a))for(const s of a)r.push(Ha(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?Ha(a,s,n):a+s);return Ei.flatten(r)},yZ=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,r=(a,s={})=>{a.queue=[];let o=s,l=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,l=o.queue;if(a.invalid||a.dollar){l.push(Ha(l.pop(),Ay(a,t)));return}if(a.type==="brace"&&a.invalid!==!0&&a.nodes.length===2){l.push(Ha(l.pop(),["{}"]));return}if(a.nodes&&a.ranges>0){const h=Ei.reduce(a.nodes);if(Ei.exceedsLimit(...h,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let g=gZ(...h,t);g.length===0&&(g=Ay(a,t)),l.push(Ha(l.pop(),g)),a.nodes=[];return}const u=Ei.encloseBrace(a);let d=a.queue,p=a;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,d=p.queue;for(let h=0;h<a.nodes.length;h++){const g=a.nodes[h];if(g.type==="comma"&&a.type==="brace"){h===1&&d.push(""),d.push("");continue}if(g.type==="close"){l.push(Ha(l.pop(),d,u));continue}if(g.value&&g.type!=="open"){d.push(Ha(d.pop(),g.value));continue}g.nodes&&r(g,a)}return d};return Ei.flatten(r(e))};var vZ=yZ,bZ={MAX_LENGTH:1e4,CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_COMMA:",",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_NO_BREAK_SPACE:"",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SINGLE_QUOTE:"'",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const xZ=jp,{MAX_LENGTH:Iy,CHAR_BACKSLASH:Lu,CHAR_BACKTICK:_Z,CHAR_COMMA:wZ,CHAR_DOT:kZ,CHAR_LEFT_PARENTHESES:CZ,CHAR_RIGHT_PARENTHESES:SZ,CHAR_LEFT_CURLY_BRACE:EZ,CHAR_RIGHT_CURLY_BRACE:TZ,CHAR_LEFT_SQUARE_BRACKET:jy,CHAR_RIGHT_SQUARE_BRACKET:Ry,CHAR_DOUBLE_QUOTE:AZ,CHAR_SINGLE_QUOTE:IZ,CHAR_NO_BREAK_SPACE:jZ,CHAR_ZERO_WIDTH_NOBREAK_SPACE:RZ}=bZ,OZ=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},r=typeof n.maxLength=="number"?Math.min(Iy,n.maxLength):Iy;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);const a={type:"root",input:e,nodes:[]},s=[a];let o=a,l=a,u=0;const d=e.length;let p=0,h=0,g;const v=()=>e[p++],y=_=>{if(_.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&_.type==="text"){l.value+=_.value;return}return o.nodes.push(_),_.parent=o,_.prev=l,l=_,_};for(y({type:"bos"});p<d;)if(o=s[s.length-1],g=v(),!(g===RZ||g===jZ)){if(g===Lu){y({type:"text",value:(t.keepEscaping?g:"")+v()});continue}if(g===Ry){y({type:"text",value:"\\"+g});continue}if(g===jy){u++;let _;for(;p<d&&(_=v());){if(g+=_,_===jy){u++;continue}if(_===Lu){g+=v();continue}if(_===Ry&&(u--,u===0))break}y({type:"text",value:g});continue}if(g===CZ){o=y({type:"paren",nodes:[]}),s.push(o),y({type:"text",value:g});continue}if(g===SZ){if(o.type!=="paren"){y({type:"text",value:g});continue}o=s.pop(),y({type:"text",value:g}),o=s[s.length-1];continue}if(g===AZ||g===IZ||g===_Z){const _=g;let x;for(t.keepQuotes!==!0&&(g="");p<d&&(x=v());){if(x===Lu){g+=x+v();continue}if(x===_){t.keepQuotes===!0&&(g+=x);break}g+=x}y({type:"text",value:g});continue}if(g===EZ){h++;const x={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||o.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};o=y(x),s.push(o),y({type:"open",value:g});continue}if(g===TZ){if(o.type!=="brace"){y({type:"text",value:g});continue}const _="close";o=s.pop(),o.close=!0,y({type:_,value:g}),h--,o=s[s.length-1];continue}if(g===wZ&&h>0){if(o.ranges>0){o.ranges=0;const _=o.nodes.shift();o.nodes=[_,{type:"text",value:xZ(o)}]}y({type:"comma",value:g}),o.commas++;continue}if(g===kZ&&h>0&&o.commas===0){const _=o.nodes;if(h===0||_.length===0){y({type:"text",value:g});continue}if(l.type==="dot"){if(o.range=[],l.value+=g,l.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,l.type="text";continue}o.ranges++,o.args=[];continue}if(l.type==="range"){_.pop();const x=_[_.length-1];x.value+=l.value+g,l=x,o.ranges--;continue}y({type:"dot",value:g});continue}y({type:"text",value:g})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(k=>{k.nodes||(k.type==="open"&&(k.isOpen=!0),k.type==="close"&&(k.isClose=!0),k.nodes||(k.type="text"),k.invalid=!0)});const _=s[s.length-1],x=_.nodes.indexOf(o);_.nodes.splice(x,1,...o.nodes)}while(s.length>0);return y({type:"eos"}),a};var zZ=OZ;const Oy=jp,MZ=mZ,FZ=vZ,$Z=zZ,Qn=(e,t={})=>{let n=[];if(Array.isArray(e))for(const r of e){const a=Qn.create(r,t);Array.isArray(a)?n.push(...a):n.push(a)}else n=[].concat(Qn.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};Qn.parse=(e,t={})=>$Z(e,t);Qn.stringify=(e,t={})=>Oy(typeof e=="string"?Qn.parse(e,t):e,t);Qn.compile=(e,t={})=>(typeof e=="string"&&(e=Qn.parse(e,t)),MZ(e,t));Qn.expand=(e,t={})=>{typeof e=="string"&&(e=Qn.parse(e,t));let n=FZ(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n};Qn.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Qn.compile(e,t):Qn.expand(e,t);var NZ=Qn;const PZ=new Proxy({},{get(e,t){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),DZ=Object.freeze(Object.defineProperty({__proto__:null,default:PZ},Symbol.toStringTag,{value:"Module"})),Rp=gv(DZ);var Ho={};const LZ=Rp,zr="\\\\/",zy=`[^${zr}]`,Xr="\\.",BZ="\\+",UZ="\\?",ql="\\/",ZZ="(?=.)",h_="[^/]",Op=`(?:${ql}|$)`,m_=`(?:^|${ql})`,zp=`${Xr}{1,2}${Op}`,HZ=`(?!${Xr})`,qZ=`(?!${m_}${zp})`,WZ=`(?!${Xr}{0,1}${Op})`,VZ=`(?!${zp})`,GZ=`[^.${ql}]`,JZ=`${h_}*?`,g_={DOT_LITERAL:Xr,PLUS_LITERAL:BZ,QMARK_LITERAL:UZ,SLASH_LITERAL:ql,ONE_CHAR:ZZ,QMARK:h_,END_ANCHOR:Op,DOTS_SLASH:zp,NO_DOT:HZ,NO_DOTS:qZ,NO_DOT_SLASH:WZ,NO_DOTS_SLASH:VZ,QMARK_NO_DOT:GZ,STAR:JZ,START_ANCHOR:m_},KZ={...g_,SLASH_LITERAL:`[${zr}]`,QMARK:zy,STAR:`${zy}*?`,DOTS_SLASH:`${Xr}{1,2}(?:[${zr}]|$)`,NO_DOT:`(?!${Xr})`,NO_DOTS:`(?!(?:^|[${zr}])${Xr}{1,2}(?:[${zr}]|$))`,NO_DOT_SLASH:`(?!${Xr}{0,1}(?:[${zr}]|$))`,NO_DOTS_SLASH:`(?!${Xr}{1,2}(?:[${zr}]|$))`,QMARK_NO_DOT:`[^.${zr}]`,START_ANCHOR:`(?:^|[${zr}])`,END_ANCHOR:`(?:[${zr}]|$)`},YZ={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Wl={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:YZ,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:LZ.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?KZ:g_}};(function(e){var t={};const n=Rp,r=t.platform==="win32",{REGEX_BACKSLASH:a,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:l}=Wl;e.isObject=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),e.hasRegexChars=u=>o.test(u),e.isRegexChar=u=>u.length===1&&e.hasRegexChars(u),e.escapeRegex=u=>u.replace(l,"\\$1"),e.toPosixSlashes=u=>u.replace(a,"/"),e.removeBackslashes=u=>u.replace(s,d=>d==="\\"?"":d),e.supportsLookbehinds=()=>{const u=t.version.slice(1).split(".").map(Number);return u.length===3&&u[0]>=9||u[0]===8&&u[1]>=10},e.isWindows=u=>u&&typeof u.windows=="boolean"?u.windows:r===!0||n.sep==="\\",e.escapeLast=(u,d,p)=>{const h=u.lastIndexOf(d,p);return h===-1?u:u[h-1]==="\\"?e.escapeLast(u,d,h-1):`${u.slice(0,h)}\\${u.slice(h)}`},e.removePrefix=(u,d={})=>{let p=u;return p.startsWith("./")&&(p=p.slice(2),d.prefix="./"),p},e.wrapOutput=(u,d={},p={})=>{const h=p.contains?"":"^",g=p.contains?"":"$";let v=`${h}(?:${u})${g}`;return d.negated===!0&&(v=`(?:^(?!${v}).*$)`),v}})(Ho);const My=Ho,{CHAR_ASTERISK:Bu,CHAR_AT:XZ,CHAR_BACKWARD_SLASH:xo,CHAR_COMMA:QZ,CHAR_DOT:Uu,CHAR_EXCLAMATION_MARK:Zu,CHAR_FORWARD_SLASH:y_,CHAR_LEFT_CURLY_BRACE:Hu,CHAR_LEFT_PARENTHESES:qu,CHAR_LEFT_SQUARE_BRACKET:e9,CHAR_PLUS:t9,CHAR_QUESTION_MARK:Fy,CHAR_RIGHT_CURLY_BRACE:n9,CHAR_RIGHT_PARENTHESES:$y,CHAR_RIGHT_SQUARE_BRACKET:r9}=Wl,Ny=e=>e===y_||e===xo,Py=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},a9=(e,t)=>{const n=t||{},r=e.length-1,a=n.parts===!0||n.scanToEnd===!0,s=[],o=[],l=[];let u=e,d=-1,p=0,h=0,g=!1,v=!1,y=!1,_=!1,x=!1,k=!1,T=!1,A=!1,I=!1,$=!1,O=0,U,B,G={value:"",depth:0,isGlob:!1};const Y=()=>d>=r,q=()=>u.charCodeAt(d+1),le=()=>(U=B,u.charCodeAt(++d));for(;d<r;){B=le();let Se;if(B===xo){T=G.backslashes=!0,B=le(),B===Hu&&(k=!0);continue}if(k===!0||B===Hu){for(O++;Y()!==!0&&(B=le());){if(B===xo){T=G.backslashes=!0,le();continue}if(B===Hu){O++;continue}if(k!==!0&&B===Uu&&(B=le())===Uu){if(g=G.isBrace=!0,y=G.isGlob=!0,$=!0,a===!0)continue;break}if(k!==!0&&B===QZ){if(g=G.isBrace=!0,y=G.isGlob=!0,$=!0,a===!0)continue;break}if(B===n9&&(O--,O===0)){k=!1,g=G.isBrace=!0,$=!0;break}}if(a===!0)continue;break}if(B===y_){if(s.push(d),o.push(G),G={value:"",depth:0,isGlob:!1},$===!0)continue;if(U===Uu&&d===p+1){p+=2;continue}h=d+1;continue}if(n.noext!==!0&&(B===t9||B===XZ||B===Bu||B===Fy||B===Zu)===!0&&q()===qu){if(y=G.isGlob=!0,_=G.isExtglob=!0,$=!0,B===Zu&&d===p&&(I=!0),a===!0){for(;Y()!==!0&&(B=le());){if(B===xo){T=G.backslashes=!0,B=le();continue}if(B===$y){y=G.isGlob=!0,$=!0;break}}continue}break}if(B===Bu){if(U===Bu&&(x=G.isGlobstar=!0),y=G.isGlob=!0,$=!0,a===!0)continue;break}if(B===Fy){if(y=G.isGlob=!0,$=!0,a===!0)continue;break}if(B===e9){for(;Y()!==!0&&(Se=le());){if(Se===xo){T=G.backslashes=!0,le();continue}if(Se===r9){v=G.isBracket=!0,y=G.isGlob=!0,$=!0;break}}if(a===!0)continue;break}if(n.nonegate!==!0&&B===Zu&&d===p){A=G.negated=!0,p++;continue}if(n.noparen!==!0&&B===qu){if(y=G.isGlob=!0,a===!0){for(;Y()!==!0&&(B=le());){if(B===qu){T=G.backslashes=!0,B=le();continue}if(B===$y){$=!0;break}}continue}break}if(y===!0){if($=!0,a===!0)continue;break}}n.noext===!0&&(_=!1,y=!1);let R=u,J="",w="";p>0&&(J=u.slice(0,p),u=u.slice(p),h-=p),R&&y===!0&&h>0?(R=u.slice(0,h),w=u.slice(h)):y===!0?(R="",w=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&Ny(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),n.unescape===!0&&(w&&(w=My.removeBackslashes(w)),R&&T===!0&&(R=My.removeBackslashes(R)));const L={prefix:J,input:e,start:p,base:R,glob:w,isBrace:g,isBracket:v,isGlob:y,isExtglob:_,isGlobstar:x,negated:A,negatedExtglob:I};if(n.tokens===!0&&(L.maxDepth=0,Ny(B)||o.push(G),L.tokens=o),n.parts===!0||n.tokens===!0){let Se;for(let ce=0;ce<s.length;ce++){const pe=Se?Se+1:p,N=s[ce],Ae=e.slice(pe,N);n.tokens&&(ce===0&&p!==0?(o[ce].isPrefix=!0,o[ce].value=J):o[ce].value=Ae,Py(o[ce]),L.maxDepth+=o[ce].depth),(ce!==0||Ae!=="")&&l.push(Ae),Se=N}if(Se&&Se+1<e.length){const ce=e.slice(Se+1);l.push(ce),n.tokens&&(o[o.length-1].value=ce,Py(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=s,L.parts=l}return L};var i9=a9;const Cl=Wl,Jn=Ho,{MAX_LENGTH:Sl,POSIX_REGEX_SOURCE:o9,REGEX_NON_SPECIAL_CHARS:s9,REGEX_SPECIAL_CHARS_BACKREF:l9,REPLACEMENTS:v_}=Cl,c9=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(a=>Jn.escapeRegex(a)).join("..")}return n},bi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Mp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=v_[e]||e;const n={...t},r=typeof n.maxLength=="number"?Math.min(Sl,n.maxLength):Sl;let a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],l=n.capture?"":"?:",u=Jn.isWindows(t),d=Cl.globChars(u),p=Cl.extglobChars(d),{DOT_LITERAL:h,PLUS_LITERAL:g,SLASH_LITERAL:v,ONE_CHAR:y,DOTS_SLASH:_,NO_DOT:x,NO_DOT_SLASH:k,NO_DOTS_SLASH:T,QMARK:A,QMARK_NO_DOT:I,STAR:$,START_ANCHOR:O}=d,U=he=>`(${l}(?:(?!${O}${he.dot?_:h}).)*?)`,B=n.dot?"":x,G=n.dot?A:I;let Y=n.bash===!0?U(n):$;n.capture&&(Y=`(${Y})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const q={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Jn.removePrefix(e,q),a=e.length;const le=[],R=[],J=[];let w=s,L;const Se=()=>q.index===a-1,ce=q.peek=(he=1)=>e[q.index+he],pe=q.advance=()=>e[++q.index]||"",N=()=>e.slice(q.index+1),Ae=(he="",Fe=0)=>{q.consumed+=he,q.index+=Fe},oe=he=>{q.output+=he.output!=null?he.output:he.value,Ae(he.value)},z=()=>{let he=1;for(;ce()==="!"&&(ce(2)!=="("||ce(3)==="?");)pe(),q.start++,he++;return he%2===0?!1:(q.negated=!0,q.start++,!0)},Me=he=>{q[he]++,J.push(he)},de=he=>{q[he]--,J.pop()},ue=he=>{if(w.type==="globstar"){const Fe=q.braces>0&&(he.type==="comma"||he.type==="brace"),be=he.extglob===!0||le.length&&(he.type==="pipe"||he.type==="paren");he.type!=="slash"&&he.type!=="paren"&&!Fe&&!be&&(q.output=q.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=Y,q.output+=w.output)}if(le.length&&he.type!=="paren"&&(le[le.length-1].inner+=he.value),(he.value||he.output)&&oe(he),w&&w.type==="text"&&he.type==="text"){w.value+=he.value,w.output=(w.output||"")+he.value;return}he.prev=w,o.push(he),w=he},nt=(he,Fe)=>{const be={...p[Fe],conditions:1,inner:""};be.prev=w,be.parens=q.parens,be.output=q.output;const Oe=(n.capture?"(":"")+be.open;Me("parens"),ue({type:he,value:Fe,output:q.output?"":y}),ue({type:"paren",extglob:!0,value:pe(),output:Oe}),le.push(be)},He=he=>{let Fe=he.close+(n.capture?")":""),be;if(he.type==="negate"){let Oe=Y;if(he.inner&&he.inner.length>1&&he.inner.includes("/")&&(Oe=U(n)),(Oe!==Y||Se()||/^\)+$/.test(N()))&&(Fe=he.close=`)$))${Oe}`),he.inner.includes("*")&&(be=N())&&/^\.[^\\/.]+$/.test(be)){const Qe=Mp(be,{...t,fastpaths:!1}).output;Fe=he.close=`)${Qe})${Oe})`}he.prev.type==="bos"&&(q.negatedExtglob=!0)}ue({type:"paren",extglob:!0,value:L,output:Fe}),de("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let he=!1,Fe=e.replace(l9,(be,Oe,Qe,et,S,fe)=>et==="\\"?(he=!0,be):et==="?"?Oe?Oe+et+(S?A.repeat(S.length):""):fe===0?G+(S?A.repeat(S.length):""):A.repeat(Qe.length):et==="."?h.repeat(Qe.length):et==="*"?Oe?Oe+et+(S?Y:""):Y:Oe?be:`\\${be}`);return he===!0&&(n.unescape===!0?Fe=Fe.replace(/\\/g,""):Fe=Fe.replace(/\\+/g,be=>be.length%2===0?"\\\\":be?"\\":"")),Fe===e&&n.contains===!0?(q.output=e,q):(q.output=Jn.wrapOutput(Fe,q,t),q)}for(;!Se();){if(L=pe(),L==="\0")continue;if(L==="\\"){const be=ce();if(be==="/"&&n.bash!==!0||be==="."||be===";")continue;if(!be){L+="\\",ue({type:"text",value:L});continue}const Oe=/^\\+/.exec(N());let Qe=0;if(Oe&&Oe[0].length>2&&(Qe=Oe[0].length,q.index+=Qe,Qe%2!==0&&(L+="\\")),n.unescape===!0?L=pe():L+=pe(),q.brackets===0){ue({type:"text",value:L});continue}}if(q.brackets>0&&(L!=="]"||w.value==="["||w.value==="[^")){if(n.posix!==!1&&L===":"){const be=w.value.slice(1);if(be.includes("[")&&(w.posix=!0,be.includes(":"))){const Oe=w.value.lastIndexOf("["),Qe=w.value.slice(0,Oe),et=w.value.slice(Oe+2),S=o9[et];if(S){w.value=Qe+S,q.backtrack=!0,pe(),!s.output&&o.indexOf(w)===1&&(s.output=y);continue}}}(L==="["&&ce()!==":"||L==="-"&&ce()==="]")&&(L=`\\${L}`),L==="]"&&(w.value==="["||w.value==="[^")&&(L=`\\${L}`),n.posix===!0&&L==="!"&&w.value==="["&&(L="^"),w.value+=L,oe({value:L});continue}if(q.quotes===1&&L!=='"'){L=Jn.escapeRegex(L),w.value+=L,oe({value:L});continue}if(L==='"'){q.quotes=q.quotes===1?0:1,n.keepQuotes===!0&&ue({type:"text",value:L});continue}if(L==="("){Me("parens"),ue({type:"paren",value:L});continue}if(L===")"){if(q.parens===0&&n.strictBrackets===!0)throw new SyntaxError(bi("opening","("));const be=le[le.length-1];if(be&&q.parens===be.parens+1){He(le.pop());continue}ue({type:"paren",value:L,output:q.parens?")":"\\)"}),de("parens");continue}if(L==="["){if(n.nobracket===!0||!N().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(bi("closing","]"));L=`\\${L}`}else Me("brackets");ue({type:"bracket",value:L});continue}if(L==="]"){if(n.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){ue({type:"text",value:L,output:`\\${L}`});continue}if(q.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(bi("opening","["));ue({type:"text",value:L,output:`\\${L}`});continue}de("brackets");const be=w.value.slice(1);if(w.posix!==!0&&be[0]==="^"&&!be.includes("/")&&(L=`/${L}`),w.value+=L,oe({value:L}),n.literalBrackets===!1||Jn.hasRegexChars(be))continue;const Oe=Jn.escapeRegex(w.value);if(q.output=q.output.slice(0,-w.value.length),n.literalBrackets===!0){q.output+=Oe,w.value=Oe;continue}w.value=`(${l}${Oe}|${w.value})`,q.output+=w.value;continue}if(L==="{"&&n.nobrace!==!0){Me("braces");const be={type:"brace",value:L,output:"(",outputIndex:q.output.length,tokensIndex:q.tokens.length};R.push(be),ue(be);continue}if(L==="}"){const be=R[R.length-1];if(n.nobrace===!0||!be){ue({type:"text",value:L,output:L});continue}let Oe=")";if(be.dots===!0){const Qe=o.slice(),et=[];for(let S=Qe.length-1;S>=0&&(o.pop(),Qe[S].type!=="brace");S--)Qe[S].type!=="dots"&&et.unshift(Qe[S].value);Oe=c9(et,n),q.backtrack=!0}if(be.comma!==!0&&be.dots!==!0){const Qe=q.output.slice(0,be.outputIndex),et=q.tokens.slice(be.tokensIndex);be.value=be.output="\\{",L=Oe="\\}",q.output=Qe;for(const S of et)q.output+=S.output||S.value}ue({type:"brace",value:L,output:Oe}),de("braces"),R.pop();continue}if(L==="|"){le.length>0&&le[le.length-1].conditions++,ue({type:"text",value:L});continue}if(L===","){let be=L;const Oe=R[R.length-1];Oe&&J[J.length-1]==="braces"&&(Oe.comma=!0,be="|"),ue({type:"comma",value:L,output:be});continue}if(L==="/"){if(w.type==="dot"&&q.index===q.start+1){q.start=q.index+1,q.consumed="",q.output="",o.pop(),w=s;continue}ue({type:"slash",value:L,output:v});continue}if(L==="."){if(q.braces>0&&w.type==="dot"){w.value==="."&&(w.output=h);const be=R[R.length-1];w.type="dots",w.output+=L,w.value+=L,be.dots=!0;continue}if(q.braces+q.parens===0&&w.type!=="bos"&&w.type!=="slash"){ue({type:"text",value:L,output:h});continue}ue({type:"dot",value:L,output:h});continue}if(L==="?"){if(!(w&&w.value==="(")&&n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){nt("qmark",L);continue}if(w&&w.type==="paren"){const Oe=ce();let Qe=L;if(Oe==="<"&&!Jn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(Oe)||Oe==="<"&&!/<([!=]|\w+>)/.test(N()))&&(Qe=`\\${L}`),ue({type:"text",value:L,output:Qe});continue}if(n.dot!==!0&&(w.type==="slash"||w.type==="bos")){ue({type:"qmark",value:L,output:I});continue}ue({type:"qmark",value:L,output:A});continue}if(L==="!"){if(n.noextglob!==!0&&ce()==="("&&(ce(2)!=="?"||!/[!=<:]/.test(ce(3)))){nt("negate",L);continue}if(n.nonegate!==!0&&q.index===0){z();continue}}if(L==="+"){if(n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){nt("plus",L);continue}if(w&&w.value==="("||n.regex===!1){ue({type:"plus",value:L,output:g});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||q.parens>0){ue({type:"plus",value:L});continue}ue({type:"plus",value:g});continue}if(L==="@"){if(n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){ue({type:"at",extglob:!0,value:L,output:""});continue}ue({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);const be=s9.exec(N());be&&(L+=be[0],q.index+=be[0].length),ue({type:"text",value:L});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=L,w.output=Y,q.backtrack=!0,q.globstar=!0,Ae(L);continue}let he=N();if(n.noextglob!==!0&&/^\([^?]/.test(he)){nt("star",L);continue}if(w.type==="star"){if(n.noglobstar===!0){Ae(L);continue}const be=w.prev,Oe=be.prev,Qe=be.type==="slash"||be.type==="bos",et=Oe&&(Oe.type==="star"||Oe.type==="globstar");if(n.bash===!0&&(!Qe||he[0]&&he[0]!=="/")){ue({type:"star",value:L,output:""});continue}const S=q.braces>0&&(be.type==="comma"||be.type==="brace"),fe=le.length&&(be.type==="pipe"||be.type==="paren");if(!Qe&&be.type!=="paren"&&!S&&!fe){ue({type:"star",value:L,output:""});continue}for(;he.slice(0,3)==="/**";){const V=e[q.index+4];if(V&&V!=="/")break;he=he.slice(3),Ae("/**",3)}if(be.type==="bos"&&Se()){w.type="globstar",w.value+=L,w.output=U(n),q.output=w.output,q.globstar=!0,Ae(L);continue}if(be.type==="slash"&&be.prev.type!=="bos"&&!et&&Se()){q.output=q.output.slice(0,-(be.output+w.output).length),be.output=`(?:${be.output}`,w.type="globstar",w.output=U(n)+(n.strictSlashes?")":"|$)"),w.value+=L,q.globstar=!0,q.output+=be.output+w.output,Ae(L);continue}if(be.type==="slash"&&be.prev.type!=="bos"&&he[0]==="/"){const V=he[1]!==void 0?"|$":"";q.output=q.output.slice(0,-(be.output+w.output).length),be.output=`(?:${be.output}`,w.type="globstar",w.output=`${U(n)}${v}|${v}${V})`,w.value+=L,q.output+=be.output+w.output,q.globstar=!0,Ae(L+pe()),ue({type:"slash",value:"/",output:""});continue}if(be.type==="bos"&&he[0]==="/"){w.type="globstar",w.value+=L,w.output=`(?:^|${v}|${U(n)}${v})`,q.output=w.output,q.globstar=!0,Ae(L+pe()),ue({type:"slash",value:"/",output:""});continue}q.output=q.output.slice(0,-w.output.length),w.type="globstar",w.output=U(n),w.value+=L,q.output+=w.output,q.globstar=!0,Ae(L);continue}const Fe={type:"star",value:L,output:Y};if(n.bash===!0){Fe.output=".*?",(w.type==="bos"||w.type==="slash")&&(Fe.output=B+Fe.output),ue(Fe);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&n.regex===!0){Fe.output=L,ue(Fe);continue}(q.index===q.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(q.output+=k,w.output+=k):n.dot===!0?(q.output+=T,w.output+=T):(q.output+=B,w.output+=B),ce()!=="*"&&(q.output+=y,w.output+=y)),ue(Fe)}for(;q.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(bi("closing","]"));q.output=Jn.escapeLast(q.output,"["),de("brackets")}for(;q.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(bi("closing",")"));q.output=Jn.escapeLast(q.output,"("),de("parens")}for(;q.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(bi("closing","}"));q.output=Jn.escapeLast(q.output,"{"),de("braces")}if(n.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&ue({type:"maybe_slash",value:"",output:`${v}?`}),q.backtrack===!0){q.output="";for(const he of q.tokens)q.output+=he.output!=null?he.output:he.value,he.suffix&&(q.output+=he.suffix)}return q};Mp.fastpaths=(e,t)=>{const n={...t},r=typeof n.maxLength=="number"?Math.min(Sl,n.maxLength):Sl,a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);e=v_[e]||e;const s=Jn.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:d,NO_DOT:p,NO_DOTS:h,NO_DOTS_SLASH:g,STAR:v,START_ANCHOR:y}=Cl.globChars(s),_=n.dot?h:p,x=n.dot?g:p,k=n.capture?"":"?:",T={negated:!1,prefix:""};let A=n.bash===!0?".*?":v;n.capture&&(A=`(${A})`);const I=B=>B.noglobstar===!0?A:`(${k}(?:(?!${y}${B.dot?d:o}).)*?)`,$=B=>{switch(B){case"*":return`${_}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${_}${A}${o}${u}${A}`;case"*/*":return`${_}${A}${l}${u}${x}${A}`;case"**":return _+I(n);case"**/*":return`(?:${_}${I(n)}${l})?${x}${u}${A}`;case"**/*.*":return`(?:${_}${I(n)}${l})?${x}${A}${o}${u}${A}`;case"**/.*":return`(?:${_}${I(n)}${l})?${o}${u}${A}`;default:{const G=/^(.*?)\.(\w+)$/.exec(B);if(!G)return;const Y=$(G[1]);return Y?Y+o+G[2]:void 0}}},O=Jn.removePrefix(e,T);let U=$(O);return U&&n.strictSlashes!==!0&&(U+=`${l}?`),U};var u9=Mp;const d9=Rp,p9=i9,jd=u9,Fp=Ho,f9=Wl,h9=e=>e&&typeof e=="object"&&!Array.isArray(e),un=(e,t,n=!1)=>{if(Array.isArray(e)){const p=e.map(g=>un(g,t,n));return g=>{for(const v of p){const y=v(g);if(y)return y}return!1}}const r=h9(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const a=t||{},s=Fp.isWindows(t),o=r?un.compileRe(e,t):un.makeRe(e,t,!1,!0),l=o.state;delete o.state;let u=()=>!1;if(a.ignore){const p={...t,ignore:null,onMatch:null,onResult:null};u=un(a.ignore,p,n)}const d=(p,h=!1)=>{const{isMatch:g,match:v,output:y}=un.test(p,o,t,{glob:e,posix:s}),_={glob:e,state:l,regex:o,posix:s,input:p,output:y,match:v,isMatch:g};return typeof a.onResult=="function"&&a.onResult(_),g===!1?(_.isMatch=!1,h?_:!1):u(p)?(typeof a.onIgnore=="function"&&a.onIgnore(_),_.isMatch=!1,h?_:!1):(typeof a.onMatch=="function"&&a.onMatch(_),h?_:!0)};return n&&(d.state=l),d};un.test=(e,t,n,{glob:r,posix:a}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},o=s.format||(a?Fp.toPosixSlashes:null);let l=e===r,u=l&&o?o(e):e;return l===!1&&(u=o?o(e):e,l=u===r),(l===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?l=un.matchBase(e,t,n,a):l=t.exec(u)),{isMatch:!!l,match:l,output:u}};un.matchBase=(e,t,n,r=Fp.isWindows(n))=>(t instanceof RegExp?t:un.makeRe(t,n)).test(d9.basename(e));un.isMatch=(e,t,n)=>un(t,n)(e);un.parse=(e,t)=>Array.isArray(e)?e.map(n=>un.parse(n,t)):jd(e,{...t,fastpaths:!1});un.scan=(e,t)=>p9(e,t);un.compileRe=(e,t,n=!1,r=!1)=>{if(n===!0)return e.output;const a=t||{},s=a.contains?"":"^",o=a.contains?"":"$";let l=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(l=`^(?!${l}).*$`);const u=un.toRegex(l,t);return r===!0&&(u.state=e),u};un.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let a={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(a.output=jd.fastpaths(e,t)),a.output||(a=jd(e,t)),un.compileRe(a,t,n,r)};un.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}};un.constants=f9;var m9=un,g9=m9;const b_=s_,x_=NZ,Dr=g9,Rd=Ho,Dy=e=>e===""||e==="./",__=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Ht=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,a=new Set,s=new Set,o=0,l=p=>{s.add(p.output),n&&n.onResult&&n.onResult(p)};for(let p=0;p<t.length;p++){let h=Dr(String(t[p]),{...n,onResult:l},!0),g=h.state.negated||h.state.negatedExtglob;g&&o++;for(let v of e){let y=h(v,!0);(g?!y.isMatch:y.isMatch)&&(g?r.add(y.output):(r.delete(y.output),a.add(y.output)))}}let d=(o===t.length?[...s]:[...a]).filter(p=>!r.has(p));if(n&&d.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(p=>p.replace(/\\/g,"")):t}return d};Ht.match=Ht;Ht.matcher=(e,t)=>Dr(e,t);Ht.isMatch=(e,t,n)=>Dr(t,n)(e);Ht.any=Ht.isMatch;Ht.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,a=[],s=l=>{n.onResult&&n.onResult(l),a.push(l.output)},o=new Set(Ht(e,t,{...n,onResult:s}));for(let l of a)o.has(l)||r.add(l);return[...r]};Ht.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${b_.inspect(e)}"`);if(Array.isArray(t))return t.some(r=>Ht.contains(e,r,n));if(typeof t=="string"){if(Dy(e)||Dy(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Ht.isMatch(e,t,{...n,contains:!0})};Ht.matchKeys=(e,t,n)=>{if(!Rd.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=Ht(Object.keys(e),t,n),a={};for(let s of r)a[s]=e[s];return a};Ht.some=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Dr(String(a),n);if(r.some(o=>s(o)))return!0}return!1};Ht.every=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let s=Dr(String(a),n);if(!r.every(o=>s(o)))return!1}return!0};Ht.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${b_.inspect(e)}"`);return[].concat(t).every(r=>Dr(r,n)(e))};Ht.capture=(e,t,n)=>{let r=Rd.isWindows(n),s=Dr.makeRe(String(e),{...n,capture:!0}).exec(r?Rd.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Ht.makeRe=(...e)=>Dr.makeRe(...e);Ht.scan=(...e)=>Dr.scan(...e);Ht.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let a of x_(String(r),t))n.push(Dr.parse(a,t));return n};Ht.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!__(e)?[e]:x_(e,t)};Ht.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Ht.braces(e,{...t,expand:!0})};Ht.hasBraces=__;var y9=Ht;const v9=ka(y9),b9=[".ts",".tsx",".js",".jsx",".md",".json"],Wu=5e3,x9=["**/node_modules/**","**/.git/**","**/.next/**","**/dist/**","**/build/**","**/.cache/**","**/coverage/**","**/test/**","**/__tests__/**","**/*.test.*","**/*.spec.*"],w_=(e,t=[])=>v9.isMatch(e,[...x9,...t])?!1:b9.some(n=>e.toLowerCase().endsWith(n)),k_=e=>{const t=e.split(`
`);return t.length<=Wu?e:`${t.slice(0,Wu).join(`
`)}

// ... [${t.length-Wu} lines truncated, file too long] ...

`};async function _9(e,t={}){const r=await new V3().loadAsync(e),a=[];return await Promise.all(Object.keys(r.files).map(async s=>{const o=r.files[s];if(!(o.dir||!w_(s,t.ignorePatterns)))try{const l=await o.async("string");a.push({path:s,content:k_(l)})}catch(l){console.warn(`Failed to read file ${s}:`,l)}})),a.sort((s,o)=>s.path.localeCompare(o.path))}async function w9(e,t={}){const n=[];let r="Project";if(e.length>0){const o=(e[0].webkitRelativePath||"").split("/");o.length>0&&o[0]&&(r=o[0])}return await Promise.all(Array.from(e).map(async a=>{const s=a.webkitRelativePath||a.name;if(w_(s,t.ignorePatterns))try{const o=await a.text();n.push({path:s.includes("/")?s.substring(s.indexOf("/")+1):s,content:k_(o)})}catch(o){console.warn(`Failed to read file ${s}:`,o)}})),{files:n.sort((a,s)=>a.path.localeCompare(s.path)),projectName:r}}async function k9(e,t={}){const n=e.name.replace(".zip","");return{files:await _9(e,t),projectName:n}}function C9({onSuccess:e,onError:t}={}){const[n,r]=W.useState(null),[a,s]=W.useState(!1),{fetch:o,isPending:l,error:u}=N3(),{id:d}=br(),p=async(v,y)=>{const _=await o({body:{chatId:d,name:v,type:"code",files:y}});if(!_?.data)throw new Error("Failed to upload project");return _.data};return{processZipFile:async v=>{try{r(null),s(!0);const{files:y,projectName:_}=await k9(v,{ignorePatterns:["**/node_modules/**"]}),x=await p(_,y);return e?.({...x,id:wl(),status:"ready"},_),x}catch(y){throw r("Failed to process zip file"),t?.("Failed to process zip file"),console.error("Error processing zip:",y),y}finally{s(!1)}},processFolder:async v=>{try{r(null),s(!0);const{files:y,projectName:_}=await w9(v,{ignorePatterns:["**/node_modules/**"]}),x=await p(_,y);return e?.({...x,id:wl(),status:"ready"},_),x}catch(y){throw r("Failed to process folder"),t?.("Failed to process folder"),console.error("Error processing folder:",y),y}finally{s(!1)}},isLoading:a||l,error:u||n}}const qn=()=>{const{formatMessage:e}=yt();return{t:(n,r)=>e({id:n,defaultMessage:r})}},C_=W.createContext({isCodeUploadOpen:!1,submitOnFinish:!1,openCodeUpload:()=>{},closeCodeUpload:()=>{}}),$p=()=>W.useContext(C_),S9=({children:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(!1),s=l=>{n(!0),a(l??!1)},o=()=>n(!1);return m.jsxs(C_.Provider,{value:{isCodeUploadOpen:t,submitOnFinish:r,openCodeUpload:s,closeCodeUpload:o},children:[t&&m.jsx(A9,{}),e]})},Ly=({importType:e,onAddFiles:t,error:n})=>{const[r,a]=W.useState(!1),s=W.useRef(null),{t:o}=qn(),l=y=>{y.preventDefault()},u=y=>{y.preventDefault(),a(!0)},d=()=>a(!1),p=y=>{y.preventDefault(),s.current?.click()},h=()=>{const y=s.current?.files;y&&t(Array.from(y))},g=async y=>{const _=y.createReader(),x=()=>new Promise((A,I)=>{_.readEntries(A,I)}),k=[];let T=[];do{T=await x();for(const A of T)if(A.isFile){const I=A,$=await new Promise((O,U)=>{I.file(O,U)});Object.defineProperty($,"webkitRelativePath",{writable:!0,value:A.fullPath.substring(1)}),k.push($)}else if(A.isDirectory){const $=await g(A);k.push(...$)}}while(T.length>0);return k},v=async y=>{if(y.preventDefault(),a(!1),!!y.dataTransfer?.items)if(e==="folder"){const _=y.dataTransfer.items,x=[];for(let k=0;k<_.length;k++){const A=_[k].webkitGetAsEntry?.();if(A){if(A.isDirectory){const I=await g(A);x.push(...I)}else if(A.isFile){const I=await new Promise(($,O)=>{A.file($,O)});x.push(I)}}}x.length>0&&t(x)}else y.dataTransfer.files&&t(Array.from(y.dataTransfer.files))};return m.jsxs(Te,{position:"relative",cursor:"pointer",width:"100%",height:"100%",minHeight:"140px",borderStyle:"dashed",borderColor:r?"primary500":n?"danger600":"neutral200",background:r?"primary100":n?"danger100":"neutral100",hasRadius:!0,padding:7,justifyContent:"center",direction:"column",alignItems:"center",gap:2,onDragEnter:u,onDragLeave:d,onDragOver:l,onDrop:v,children:[e==="zip"?m.jsx(yv,{width:"24px",height:"24px"}):m.jsx(Ud,{width:"24px",height:"24px"}),m.jsxs(Te,{direction:"column",alignItems:"center",gap:2,children:[m.jsxs($e,{variant:"omega",textColor:"neutral600",textAlign:"center",children:[e==="zip"?o("chat.code-upload.drop-zone","Drop here a .zip file here or"):o("chat.code-upload.drop-zone-folder","Drop here a folder here or")," ",m.jsx($e,{variant:"omega",textColor:"primary600",onClick:p,children:o("chat.code-upload.drop-zone-browse","browse files")})]}),n&&m.jsx($e,{variant:"pi",textColor:"danger600",children:n})]}),m.jsx(Ne,{tag:"input",position:"absolute",left:0,right:0,bottom:0,top:0,width:"100%",name:"code","aria-label":"Upload project",tabIndex:-1,zIndex:1,ref:s,onChange:h,style:{opacity:0,cursor:"pointer"},type:"file",...e==="zip"?{accept:".zip",multiple:!1}:{multiple:!0,webkitdirectory:"",directory:""}})]})},E9=({setFileName:e,error:t,processZipFile:n,processFolder:r})=>{const{t:a}=qn(),{nextStep:s}=i_();return m.jsxs(Te,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[m.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[m.jsx($e,{variant:"beta",children:a("chat.code-upload.title","Import code")}),m.jsx($e,{variant:"omega",textColor:"neutral600",children:a("chat.code-upload.description","Your app will be analyzed by AI. Make sure to remove all sensitive data before importation.")})]}),m.jsxs(Te,{gap:3,width:"100%",wrap:"wrap",children:[m.jsx(Ne,{flex:1,minWidth:"200px",children:m.jsx(Ly,{importType:"zip",onAddFiles:o=>{if(o.length>0){const l=o[0];e(l.name.replace(".zip","")),s(),n(l)}},error:t})}),m.jsx(Ne,{flex:1,minWidth:"200px",children:m.jsx(Ly,{importType:"folder",onAddFiles:async o=>{if(o.length>0)try{const d=(o[0].webkitRelativePath||"").split("/")[0]||"Project";e(d),s(),await r(o)}catch(l){console.error("Error processing folder:",l)}},error:t})})]})]})},T9=({projectName:e,isLoading:t,error:n})=>{const{t:r}=qn();return m.jsxs(Te,{direction:"column",gap:6,alignItems:"start",width:"100%",children:[m.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[m.jsx($e,{variant:"beta",children:r("chat.code-upload.confirmation-title","Confirm Code Import")}),m.jsx($e,{variant:"omega",textColor:"neutral600",children:r("chat.code-upload.confirmation-description","Your code is ready to be imported. Click finish to add it to your chat.")})]}),m.jsx(Ne,{width:"100%",children:m.jsx(Xd,{attachment:{id:wl(),status:t?"loading":"ready",filename:e||"",url:"",type:"file",mediaType:Kv},error:n,minWidth:"256px"})})]})},A9=()=>{const[e,t]=W.useState(null),[n,r]=W.useState(null),{t:a}=qn(),{addAttachments:s}=Zo(),{processZipFile:o,processFolder:l,isLoading:u,error:d}=C9({onSuccess:I=>r(I)}),{isCodeUploadOpen:p,closeCodeUpload:h,submitOnFinish:g}=$p(),{sendMessage:v,openChat:y,input:_,setInput:x}=br(),k=()=>{t(null),r(null),h()},T=async()=>{y(),n&&g?v({role:"user",parts:[{type:"text",text:"Create schemas from my uploaded project"},n]}):n&&(_||x("Create schemas from my uploaded project"),s([n])),h()},A=()=>!!n;return m.jsxs(Wa,{open:p,onOpenChange:I=>{I||k()},title:a("chat.code-upload.header","Import code"),onCancel:k,onComplete:T,children:[m.jsx(Wa.Step,{title:a("chat.code-upload.step1-title","Import code"),nextLabel:a("chat.code-upload.continue-button","Continue"),cancelLabel:a("common.cancel","Cancel"),disableNext:!n||u,onNext:A,children:m.jsx(E9,{setFileName:t,error:d,processZipFile:o,processFolder:l})}),m.jsx(Wa.Step,{title:a("chat.code-upload.step2-title","Confirm"),nextLabel:a("common.finish","Finish"),backLabel:a("form.button.back","Back"),disableNext:!n||u,children:m.jsx(T9,{projectName:e,isLoading:u,error:d})})]})},I9=xt(Ne)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 160px;
  width: 100%;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  cursor: pointer;
`,j9=xt(Yd)`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  // make it appear gracefully when first rendering
  animation: ${wi.fadeIn} 0.3s ease;
`,R9=xt(wA)`
  height: 100%;
  width: 100%;
  ${({$selected:e,theme:t})=>e?`
      border: 2px solid ${t.colors.primary600};
      outline: 0px solid transparent;
    `:`
      border: 2px solid transparent;
      outline: 1px solid ${t.colors.neutral200};
    `}
  transition: all 0.2s ease-in-out;
`,O9=({imageUrl:e,imageName:t,selected:n=!1,onSelect:r})=>m.jsx(rl.Root,{src:e,alt:t,children:m.jsxs(R9,{role:"button",$selected:n,children:[m.jsxs(gA,{children:[m.jsx(yA,{checked:n,onCheckedChange:r}),m.jsx(vA,{position:"end",children:m.jsx(rl.Trigger,{children:m.jsx(yr,{label:"Preview",type:"button",children:m.jsx(vv,{})})})}),m.jsx(I9,{onClick:r,children:m.jsx(j9,{src:e,alt:t})})]}),m.jsx(bA,{children:m.jsx(xA,{children:m.jsx(_A,{children:t})})})]})}),S_="strapi-ai-figma-token",Np=()=>{try{return localStorage.getItem(S_)||""}catch(e){return console.error("Error accessing localStorage:",e),""}},z9=e=>{try{localStorage.setItem(S_,e)}catch(t){console.error("Error saving to localStorage:",t)}},Od=()=>!!Np(),M9=e=>{const t=/figma\.com\/(?:file|design)\/([a-zA-Z0-9]+)\/.*[?&]node-id=([^&]+)/,n=e.match(t);if(!n)throw new Error("Invalid Figma URL");const r=n[1],a=decodeURIComponent(n[2]).replace(/-/g,":");return{fileKey:r,nodeId:a}},E_=()=>{const e=Np();if(!e)throw new Error("Figma API token is required");return e},F9=async(e,t)=>{const n=E_();try{const r=`https://api.figma.com/v1/files/${e}/nodes?ids=${t}`,a=await fetch(r,{headers:{"X-Figma-Token":n}});if(!a.ok)throw new Error(`Figma API error: ${a.status} ${a.statusText}`);return(await a.json()).nodes[t]}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma data";throw new Error(a)}},T_=e=>{const t=[];if(e.type==="FRAME")return t.push({id:e.id,name:e.name}),t;if(e.children&&e.children.length>0)for(const n of e.children)t.push(...T_(n));return t},$9=async(e,t)=>{const n=E_();if(t.length===0)return{images:{}};try{const r=t.slice(0,50).join(","),a=`https://api.figma.com/v1/images/${e}?ids=${r}&format=png&scale=0.4`,s=await fetch(a,{headers:{"X-Figma-Token":n}});if(!s.ok){const l=await s.text();throw new Error(`Figma API image error: ${s.status} ${s.statusText} - ${l}`)}const o=await s.json();if(o.err)throw new Error(`Figma API image error: ${o.err}`);return o}catch(r){const a=r instanceof Error?r.message:"Failed to fetch Figma node images";throw new Error(a)}};function N9({onSuccess:e,onError:t}={}){const[n,r]=W.useState(!1),[a,s]=W.useState(null);return{processFigmaUrl:async l=>{try{if(!Od()){const k="Figma API token is required";throw s(k),t?.(k),new Error(k)}r(!0),s(null);const{fileKey:u,nodeId:d}=M9(l),p=await F9(u,d);if(!p.document)return;const h=T_(p.document),g=new Map(h.map(k=>[k.id,k.name])),v=h.map(k=>k.id),_=(await $9(u,v)).images,x=Object.entries(_).map(([k,T])=>({id:k,type:"file",filename:g.get(k),mediaType:"image/png",url:T,status:"ready"}));return e?.(x),x}catch(u){const d=u instanceof Error?u.message:"Unknown error processing Figma URL";throw s(d),t?.(d),console.error("Error processing Figma URL:",u),u}finally{r(!1)}},isLoading:n,error:a}}const A_=W.createContext({isFigmaUploadOpen:!1,submitOnFinish:!1,openFigmaUpload:()=>{},closeFigmaUpload:()=>{}}),Pp=()=>{const e=W.useContext(A_);if(!e)throw new Error("useUploadFigmaToChat must be used within an UploadFigmaToChatProvider");return e},P9=({children:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(!1),s=l=>{n(!0),a(l??!1)},o=()=>n(!1);return m.jsxs(A_.Provider,{value:{isFigmaUploadOpen:t,submitOnFinish:r,openFigmaUpload:s,closeFigmaUpload:o},children:[t&&m.jsx(B9,{}),e]})},D9=({figmaUrl:e,setFigmaUrl:t})=>{const{t:n}=qn(),{isLoading:r}=i_(),[a,s]=W.useState(!Od()),[o,l]=W.useState(Np),u=()=>{o.trim()&&(z9(o),s(!1))};return a?m.jsxs(Te,{direction:"column",gap:6,alignItems:"start",children:[m.jsxs(Te,{direction:"column",gap:2,alignItems:"start",children:[m.jsx($e,{variant:"beta",children:n("chat.figma-upload.token-title","Enter Figma API Token")}),m.jsx($e,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.token-description","To access your Figma designs, you need to provide a personal access token. This will be stored securely in your browser.")}),m.jsx(Tl,{href:"https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens",isExternal:!0,children:n("chat.figma-upload.token-help","How to get a Figma API token")})]}),m.jsx(Ne,{width:"100%",children:m.jsx(Qr,{name:"figma-token",placeholder:n("chat.figma-upload.token-placeholder","Enter Figma API token"),"aria-label":n("chat.figma-upload.token-placeholder","Enter Figma API token"),value:o,onChange:d=>l(d.target.value),width:"100%",disabled:r,type:"password"})}),m.jsxs(Te,{gap:2,children:[m.jsx(vt,{onClick:u,disabled:!o.trim(),variant:"secondary",children:n("chat.figma-upload.save-token","Save token")}),m.jsx(vt,{onClick:()=>s(!1),variant:"tertiary",disabled:!Od(),children:n("chat.figma-upload.cancel","Cancel")})]})]}):m.jsxs(Te,{direction:"column",gap:6,alignItems:"start",children:[m.jsxs(Te,{direction:"column",gap:2,alignItems:"start",width:"100%",children:[m.jsxs(Te,{justifyContent:"space-between",alignItems:"center",width:"100%",children:[m.jsx($e,{variant:"beta",children:n("chat.figma-upload.title","Import Figma Design")}),m.jsx(vt,{onClick:()=>s(!0),variant:"tertiary",size:"S",children:n("chat.figma-upload.edit-token","Edit API token")})]}),m.jsx($e,{variant:"omega",textColor:"neutral600",children:n("chat.figma-upload.description","Ask to turn your designs into schemas by attaching a link to one or multiple frames in your Figma files. (Max 15 frames)")})]}),m.jsx(Ne,{width:"100%",children:m.jsx(Qr,{name:"figma-url",placeholder:n("chat.figma-upload.url-placeholder","Enter Figma URL"),"aria-label":n("chat.figma-upload.url-placeholder","Enter Figma URL"),value:e,onChange:d=>t(d.target.value),width:"100%",disabled:r,type:"url"})})]})},L9=({images:e,selectedImages:t,setSelectedImages:n})=>{const{t:r}=qn(),a=()=>{if(t.length===e.length)n([]);else{const o=e.map(l=>l.id);n(o)}};if(e.length===0)return m.jsx(Te,{direction:"column",gap:4,alignItems:"center",padding:4,children:m.jsx($e,{variant:"omega",children:r("chat.figma-upload.no-images","No frames found in the Figma file.")})});const s=o=>{const l=t.includes(o)?t.filter(u=>u!==o):[...t,o];n(l)};return m.jsxs(Te,{direction:"column",gap:4,alignItems:"start",width:"100%",height:"min(45vh, 400px)",children:[m.jsxs(Te,{justifyContent:"space-between",width:"100%",alignItems:"center",children:[m.jsx($e,{variant:"beta",children:r("chat.figma-upload.select-images","Select Frames to Import")}),m.jsxs(Te,{gap:3,alignItems:"center",children:[m.jsxs($e,{children:[t.length," of ",e.length," selected"]}),m.jsx(vt,{onClick:a,type:"button",variant:"secondary",children:t.length===e.length?r("chat.figma-upload.deselect-all","Deselect All"):r("chat.figma-upload.select-all","Select All")})]})]}),m.jsx(Ne,{paddingRight:4,width:"100%",style:{overflowY:"auto"},children:m.jsx(gr.Root,{gap:4,children:e.map((o,l)=>{const u=t.includes(o.id);return m.jsx(gr.Item,{col:6,xs:12,padding:"1px",children:m.jsx(O9,{imageUrl:o.url,imageName:o.filename||`Frame ${l+1}`,selected:u,onSelect:()=>s(o.id)})},o.id)})})})]})},B9=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),[a,s]=W.useState([]),{t:o}=qn(),{addAttachments:l}=Zo(),{isFigmaUploadOpen:u,closeFigmaUpload:d,submitOnFinish:p}=Pp(),{input:h,setInput:g,setMessages:v,sendMessage:y,openChat:_}=br(),{processFigmaUrl:x,isLoading:k,error:T}=N9({onSuccess:U=>{r(U);const B=U.slice(0,15).map(G=>G.id);s(B)}}),A=async()=>(await x(e),!0),I=U=>{if(!U)return!1;try{const B=new URL(U);return B.hostname==="www.figma.com"||B.hostname==="figma.com"}catch{return!1}},$=()=>{t(""),r([]),s([]),d()},O=()=>{const U=n.filter(B=>a.includes(B.id));if(U.length===0){d();return}_(),p?(y({role:"user",parts:[{type:"text",text:"Create schemas from the attached images"},...U]}),d()):(h||g("Create schemas from the attached images"),l(U),d())};return m.jsxs(Wa,{open:u,onOpenChange:U=>{U||$()},title:o("chat.figma-upload.header","Import from Figma"),onCancel:$,onComplete:O,children:[m.jsx(Wa.Step,{title:o("chat.figma-upload.step1-title","Enter Figma URL"),nextLabel:o("chat.figma-upload.import-button","Import"),cancelLabel:o("form.button.cancel","Cancel"),disableNext:!e||k||!I(e),onNext:A,children:m.jsx(D9,{figmaUrl:e,setFigmaUrl:t,error:T})}),m.jsx(Wa.Step,{title:o("chat.figma-upload.step2-title","Preview Images"),nextLabel:o("form.button.finish","Finish"),backLabel:o("form.button.back","Back"),disableNext:a.length===0,children:m.jsx(L9,{images:n,selectedImages:a,setSelectedImages:s})})]})},U9={create:"NEW",remove:"REMOVED",update:"CHANGED"},Vu=(e,t,n)=>({...t,name:e,status:n}),Z9=(e,t,n)=>{if(!t||n?.status==="NEW")return"NEW";const r=tl(e,["status"]),a=tl(t,["status"]);return So(r,a)?t.status:"CHANGED"},By=(e,t)=>e.action?U9[e.action]:t?t.status:"NEW",Uy=({action:e,attributes:t},n)=>{if(e==="create"||!n)return Object.entries(t).map(([o,l])=>Vu(o,l,"NEW"));const r=n.attributes.reduce((o,l)=>({...o,[l.name]:l}),{}),a=Object.entries(t).map(([o,l])=>{const u=r[o],d=Z9({...l,name:o},u,n);return Vu(o,l,d)});if(n?.status==="NEW")return a;const s=Object.entries(r).filter(([o])=>!t[o]).map(([o,l])=>Vu(o,l,"REMOVED"));return[...a,...s]},H9=(e,t)=>{const n=ji.singular(e.name).toLowerCase().replace(/ /g,"-"),r=ji.plural(e.name).toLowerCase().replace(/ /g,"-");return e.modelType==="component"?{category:e.category||"default",modelName:n,attributes:Uy(e,t),info:{displayName:e.name,description:e.description},modelType:e.modelType,uid:e.uid,collectionName:r,status:By(e,t),globalId:n}:{uid:e.uid,modelType:e.modelType,modelName:n,kind:e.kind,info:{displayName:e.name.charAt(0).toUpperCase()+e.name.slice(1),singularName:t?.info?.singularName||n,pluralName:t?.info?.pluralName||r},collectionName:r,attributes:Uy(e,t),options:{draftAndPublish:e.options?.draftAndPublish??!1},pluginOptions:{i18n:{localized:e.options?.localized??!1}},visible:!0,status:By(e,t),globalId:n,restrictRelationsTo:null}},q9=W.createContext(void 0),W9={create:"add",update:"update",remove:"delete"};function V9(e){if(e.role!=="assistant")return[];const t=[];return e.parts?.forEach((n,r)=>{if(n&&typeof n=="object"&&n.type==="tool-schemaGenerationTool"){const a=n.output;if(!a||a.error||!Array.isArray(a.schemas))return;const s=n.toolCallId??`${e.id}-${r}`;a.schemas.forEach((o,l)=>{const u=`${s}-${o.uid??o.name??l}`,d=o.action||"update";t.push({type:d,schema:o,revisionId:u})})}}),t}const G9=({children:e})=>{const[t,n]=W.useState(null),{messages:r,status:a}=br(),{contentTypes:s,components:o,applyChange:l}=nr(),u=Ga("SchemaChatProvider",p=>p.dispatch),d=Ga("SchemaChatProvider",p=>p.state);return W.useEffect(()=>{const p=r[r.length-1];if(!p||p.role!=="assistant"||a!=="ready")return;const h=V9(p),g=d.completedActions.includes(nl.contentTypeBuilder.addField);h.forEach(v=>{const y=s[v.schema.uid]||o[v.schema.uid],_=H9(v.schema,y);!g&&v.schema.attributes&&v.type!=="remove"&&Object.keys(v.schema.attributes).length>0&&u({type:"set_completed_actions",payload:[nl.contentTypeBuilder.addField]}),l({action:W9[v.type],schema:_})}),n(p.id)},[r]),m.jsx(q9.Provider,{value:{lastRevisedId:t,setLastRevisedId:n},children:e})},I_=W.createContext(void 0),Zy=()=>Math.random().toString(36).substring(2,15),J9=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState(Zy()),[a,s]=W.useState(t),[o,l]=W.useState(0),[u,d]=W.useState(""),[p,h]=W.useState([]),{trackUsage:g}=Pi(),{components:v,contentTypes:y}=nr(),{lastSeenSchemas:_}=H3(),x=W.useMemo(()=>[...Object.values(y).filter(R=>R.status!=="REMOVED").filter(R=>R.uid!=="plugin::users-permissions.user").filter(R=>R.visible).map(yy),...Object.values(v).filter(R=>R.status!=="REMOVED").map(yy)],[y,v]),{id:k,messages:T,sendMessage:A,status:I,stop:$,...O}=L3({id:n?.toString(),experimental_throttle:100}),U=async(R,J)=>{if(!(I==="streaming"||I==="submitted"))return A(R,{...J,body:{...J?.body,schemas:x,metadata:{lastSeenSchemas:_.map(w=>w.uid)}}})},B=R=>{if(R.preventDefault(),I==="streaming"||I==="submitted")return;const J=p.filter(L=>L.status!=="loading");if(u.trim().length===0&&p.length===0)return;const w=J.map(L=>({type:"file",filename:L.filename,mediaType:L.mediaType,url:L.url}));U({text:u,files:w}),d(""),h([])},{title:G,generateTitle:Y,resetTitle:q}=B3({chatId:k,messages:T});W.useEffect(()=>{T.length>=1&&!G&&Y()},[T.length,G,Y]),W.useEffect(()=>{I==="error"?g("didAnswerMessage",{successful:!1}):I==="ready"&&T.length>0&&T[T.length-1]?.role==="assistant"&&g("didAnswerMessage",{successful:!0})},[I,T,g]);const le=bv();return m.jsx(I_.Provider,{value:{isChatEnabled:le,id:k,status:I,stop:$,sendMessage:U,...O,messages:T,handleSubmit:B,input:u,setInput:d,handleInputChange:R=>d(R.target.value),reset:()=>{$(),r(Zy()),g("didStartNewChat"),q()},schemas:x,title:G,isChatOpen:a,openChat:()=>{s(!0),o===0&&g("didStartNewChat"),l(R=>R+1)},closeChat:()=>s(!1),attachments:p,setAttachments:h},children:e})},K9=({children:e,defaultOpen:t=!1})=>m.jsx(J9,{defaultOpen:t,children:m.jsx(G9,{children:m.jsx(S9,{children:m.jsx(P9,{children:m.jsx(Y9,{children:e})})})})});function br(){const e=W.useContext(I_);return e===void 0?(console.warn("useStrapiChat was called outside of ChatProvider. This is only allowed in development mode."),{}):e}const j_=()=>{const{fetch:e,isPending:t,error:n}=P3(),{id:r,messages:a,schemas:s}=br(),{toggleNotification:o}=Ni(),{trackUsage:l}=Pi(),{t:u}=qn(),[d,p]=W.useState({}),h=y=>!!d[y];return{upvoteMessage:y=>h(y)?Promise.resolve():(l("didVoteAnswer",{value:"positive"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),p(_=>({..._,[y]:"upvote"})),e({body:{type:"upvote",chatId:r,messageId:y,messages:a,schemas:s}})),downvoteMessage:(y,_,x)=>(l("didVoteAnswer",{value:"negative"}),o({type:"success",message:u("chat.feedback.submitted","Thank you for your feedback! ")}),e({body:{type:"downvote",chatId:r,messageId:y,messages:a,feedback:_,reasons:x,schemas:s}})),isPending:t,error:n}},R_=W.createContext({isFeedbackModalOpen:!1,currentMessageId:null,openFeedbackModal:()=>{},closeFeedbackModal:()=>{}}),O_=()=>W.useContext(R_),Y9=({children:e})=>{const[t,n]=W.useState(!1),[r,a]=W.useState(null),s=l=>{a(l),n(!0)},o=()=>{n(!1),a(null)};return m.jsxs(R_.Provider,{value:{isFeedbackModalOpen:t,currentMessageId:r,openFeedbackModal:s,closeFeedbackModal:o},children:[t&&r&&m.jsx(e8,{}),e]})},X9=xt(Te)`
  &:hover {
    background-color: ${({theme:e})=>e.colors.neutral100};
  }

  &.selected {
    background-color: ${({theme:e})=>e.colors.primary100};
    border-color: ${({theme:e})=>e.colors.primary200};
  }
`,Q9=({id:e,label:t,selected:n,onClick:r})=>m.jsxs(X9,{className:n?"selected":"",justifyContent:"space-between",hasRadius:!0,width:"100%",cursor:"pointer",borderColor:"neutral200",padding:3,gap:3,onClick:()=>r(e),children:[m.jsx($e,{variant:"omega",fontWeight:"bold",children:t}),m.jsx(Al,{name:`feedback-${e}`,value:e,checked:n,onChange:()=>r(e)})]}),e8=()=>{const[e,t]=W.useState(""),[n,r]=W.useState([]),{t:a}=qn(),{toggleNotification:s}=Ni(),{closeFeedbackModal:o,currentMessageId:l}=O_(),{downvoteMessage:u,isPending:d}=j_(),p=[{id:"invalid_schema",label:a("chat.feedback.reason.invalid_schema","Invalid schema")},{id:"bad_recommendation",label:a("chat.feedback.reason.bad_recommendation","Bad recommendation")},{id:"slow",label:a("chat.feedback.reason.slow","Slow")},{id:"instructions_ignored",label:a("chat.feedback.reason.instructions_ignored","Instructions ignored")},{id:"being_lazy",label:a("chat.feedback.reason.being_lazy","Being lazy")},{id:"other",label:a("chat.feedback.reason.other","Other")}],h=v=>{r(y=>y.includes(v)?y.filter(_=>_!==v):[...y,v])},g=async()=>{if(n.length!==0)try{await u(l,e,n),t(""),r([]),o()}catch{s({type:"danger",message:a("chat.feedback.error","An error occurred while submitting your feedback")})}};return m.jsx(gn.Root,{open:!0,onOpenChange:o,children:m.jsxs(gn.Content,{children:[m.jsx(gn.Header,{children:m.jsx($e,{variant:"omega",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")})}),m.jsx(gn.Body,{children:m.jsxs(Te,{direction:"column",alignItems:"start",gap:6,width:"100%",children:[m.jsxs(Te,{direction:"column",alignItems:"start",gap:2,children:[m.jsx($e,{variant:"beta",fontWeight:"bold",children:a("chat.feedback.title","Give feedback")}),m.jsx($e,{variant:"omega",children:a("chat.feedback.subtitle","Provide additional feedback on this message. Select all that apply.")})]}),m.jsx(gr.Root,{width:"100%",gap:2,children:p.map(v=>m.jsx(gr.Item,{col:6,xs:12,children:m.jsx(Q9,{id:v.id,label:v.label,selected:n.includes(v.id),onClick:h},v.id)},v.id))}),m.jsxs(Te,{direction:"column",gap:2,width:"100%",alignItems:"start",children:[m.jsx($e,{variant:"omega",children:a("chat.feedback.comment.label","How can we improve? (optional)")}),m.jsx(Ne,{width:"100%",children:m.jsx(Hd,{name:"feedback",placeholder:a("chat.feedback.placeholder","Your feedback..."),onChange:v=>t(v.target.value),value:e})})]})]})}),m.jsxs(gn.Footer,{children:[m.jsx(gn.Close,{children:m.jsx(vt,{variant:"tertiary",onClick:o,children:a("form.button.cancel","Cancel")})}),m.jsx(vt,{onClick:g,loading:d,disabled:n.length===0,children:a("form.button.submit","Submit")})]})]})})},z_=W.createContext(void 0),M_=()=>{const e=W.useContext(z_);if(!e)throw new Error("Collapsible components must be wrapped in <Collapsible />");return e},t8=xt(Ne)`
  overflow: hidden;
  transition: height ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,n8=({children:e,defaultOpen:t=!1})=>{const[n,r]=W.useState(t);return m.jsx(z_.Provider,{value:{open:n,toggle:()=>r(a=>!a)},children:e})},r8=({children:e})=>{const{toggle:t,open:n}=M_();return m.jsx(Ne,{onClick:t,style:{cursor:"pointer"},children:typeof e=="function"?e({open:n}):e})},a8=({children:e})=>{const{open:t}=M_(),n=W.useRef(null),[r,a]=W.useState(0);return W.useLayoutEffect(()=>{if(n.current){const s=n.current.scrollHeight;a(s)}},[e]),m.jsx(t8,{ref:n,role:"region","aria-hidden":!t,style:{height:t?`${r}px`:0,visibility:r===0?"hidden":"visible"},children:e})},i8=Da`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,o8=xt(CA)`
  animation: ${i8} 1s linear infinite;
`,s8=xt(Ne)`
  transform: rotate(${({$open:e})=>e?"180deg":"0deg"});
  transition: transform ${({theme:e})=>e.motion.timings[200]}
    ${({theme:e})=>e.motion.easings.easeOutQuad};
`,l8=({status:e})=>{switch(e){case"update":return m.jsx($e,{fontWeight:"semiBold",textColor:"warning500",children:"M"});case"remove":return m.jsx($e,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"create":return m.jsx($e,{fontWeight:"semiBold",textColor:"success500",children:"N"});default:return null}},c8=({title:e,steps:t,state:n})=>{const r=()=>{switch(n){case"success":return m.jsx(_v,{fill:"success500"});case"loading":return m.jsx(o8,{});case"error":return m.jsx(Zd,{fill:"danger500"});default:return null}};return m.jsx(Ne,{borderWidth:"1px",borderColor:"neutral200",borderStyle:"solid",hasRadius:!0,marginBottom:3,width:"336px",children:m.jsxs(n8,{defaultOpen:!1,children:[m.jsx(r8,{children:({open:a})=>m.jsx(Ne,{padding:3,borderColor:"neutral200",borderWidth:a?"0 0 1px 0":"0",borderStyle:"solid",children:m.jsxs(Te,{gap:2,alignItems:"center",children:[r(),m.jsx($e,{children:e}),m.jsx(Te,{marginLeft:"auto",children:m.jsx(s8,{as:kA,$open:a})})]})})}),m.jsx(a8,{children:m.jsx(Te,{gap:3,padding:3,direction:"column",children:t.map(a=>m.jsxs(Te,{gap:2,justifyContent:"space-between",width:"100%",padding:[0,1],children:[a.link?m.jsx(Tl,{tag:xv,to:a.link,children:m.jsx($e,{children:a.description})}):m.jsx($e,{children:a.description}),m.jsx(l8,{status:a.status})]},a.id))})})]})})},u8=xt($e)`
  max-width: 65ch;
  margin: 0 auto;
  overflow-wrap: anywhere;
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
    font-weight: bold;
  }

  p {
    margin-bottom: 1em;
  }

  ul,
  ol {
    padding-left: 1.5em; /* indentation for bullet points */
    margin-bottom: 1em;
  }

  li {
    margin-bottom: 0.5em;
    list-style-type: disc; /* or whatever style you prefer */
  }

  strong {
    font-weight: bold;
  }

  /* code blocks, blockquotes, etc. */
  code {
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas,
      monospace;
  }

  /* links */
  a {
    color: ${({theme:e})=>e.colors.primary500};
    background-color: ${({theme:e})=>e.colors.neutral100};
    padding: 0.2em 0.4em;
    border-radius: ${({theme:e})=>e.borderRadius};
    border-color: ${({theme:e})=>e.colors.neutral150};
    border-style: solid;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
`,d8=xt($e)`
  overflow-wrap: anywhere;
  word-break: break-word;
`,p8=e=>e&&typeof e=="object"&&e.type==="tool-schemaGenerationTool",f8=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",h8=e=>{const t=(e.kind??e.modelType)==="component";if(e.uid)return t?`/plugins/content-type-builder/component-categories/${e.category??""}/${e.uid}`:`/plugins/content-type-builder/content-types/${e.uid}`},m8=e=>{const t=e.output?.schemas??[],n=e.input?.schemas??[],r=t.length?t:n,a=r.length,s=e.output?e.output.error?"error":"success":"loading",o=r.map((u,d)=>({id:`${e.toolCallId??"schemaGenerationTool"}-${u.uid??u.name??d}`,description:f8(u.name??u.uid??"Schema"),status:u.action==="create"||u.action==="update"||u.action==="remove"?u.action:"update",link:h8(u)}));return{type:"marker",title:s==="success"?`Updated ${a} schema${a===1?"":"s"}`:s==="error"?`Failed to update schema${a===1?"":"s"}`:"Updating schemas",state:s,steps:o}},g8=({part:e})=>{if(e.type==="text")return m.jsx(u8,{children:m.jsx(tP,{components:{a:({node:t,...n})=>m.jsx("a",{target:"_blank",rel:"noopener noreferrer",...n})},children:e.text})});if(p8(e)){const t=m8(e);return m.jsx(c8,{...t})}return null},y8=({message:e})=>{const t=e.parts.some(r=>r.type==="text"&&r.text.trim()!==""),n=e.parts.filter(r=>r.type==="file");return m.jsxs(Jv,{as:Te,direction:"column",alignItems:"flex-end",style:{alignSelf:"flex-end"},gap:2,maxWidth:"80%",children:[t?m.jsx(Ne,{background:"neutral150",borderStyle:"none",padding:["10px","16px"],hasRadius:!0,children:e.parts.map((r,a)=>r.type!=="text"?null:m.jsx(d8,{children:r.text},a))}):null,n.map((r,a)=>m.jsx(Xd,{attachment:{...r,status:"ready"}},`${r.type==="file"?r.filename:r.type}-${a}`))]})},v8=({message:e,isLoading:t})=>{const{upvoteMessage:n}=j_(),{openFeedbackModal:r}=O_();return m.jsxs(Ne,{style:{alignSelf:"flex-start"},maxWidth:"90%",children:[e.parts.map((a,s)=>m.jsx(g8,{part:a},s)),t?m.jsxs(Te,{gap:1,children:[m.jsx(yr,{label:"Upvote",size:"XS",variant:"ghost",onClick:()=>n(e.id),children:m.jsx(wv,{})}),m.jsx(yr,{label:"Downvote",size:"XS",variant:"ghost",onClick:()=>r(e.id),children:m.jsx(kv,{})})]}):null]})},b8=({message:e,isLoading:t})=>e.role==="user"?m.jsx(y8,{message:e}):m.jsx(v8,{message:e}),x8=xt(Ne).attrs({as:"textarea"})`
  border: none;
  resize: none;
  background: transparent;
  outline: none !important;
  width: 100%;
  min-height: 44px;
  max-height: 160px;
  line-height: ${({theme:e})=>e.lineHeights[4]};
  font-size: ${({theme:e})=>e.fontSizes[2]};
  color: ${({theme:e})=>e.colors.neutral800};
  padding-bottom: ${({theme:e})=>e.spaces[1]};
  overflow-y: auto;

  /* Show partial lines when content exceeds visible area */
  height: ${({rows:e,theme:t})=>e===5?`calc(${e} * ${t.lineHeights[4]} * 1em + 0.7em)`:`calc(${e} * ${t.lineHeights[4]} * 1em)`};

  &:disabled,
  &::placeholder {
    color: ${({theme:e})=>e.colors.neutral600};
  }
`,_8=({value:e,onChange:t,onSubmit:n,placeholder:r})=>{const a=W.useRef(null),[s,o]=W.useState(1),l=d=>{if(!d)return 1;const p=(d.match(/\n/g)||[]).length+1;return Math.min(p,5)};W.useEffect(()=>{o(l(e))},[e]);const u=d=>{a.current?.value.trim()&&d.key==="Enter"&&!d.shiftKey&&n&&(d.preventDefault(),n(d),setTimeout(()=>{a.current?.focus()},10))};return W.useEffect(()=>{a.current?.focus()},[a]),m.jsx(x8,{ref:a,value:e,onChange:t,onKeyDown:u,placeholder:r,rows:s})},w8=W.forwardRef(({children:e,onOpen:t,onClose:n,popoverPlacement:r,...a},s)=>{const o=W.useRef(null),l=SA(s,o),u=d=>{d&&typeof t=="function"?t():!d&&typeof n=="function"&&n()};return m.jsxs(Rn.Root,{onOpenChange:u,children:[m.jsx(Rn.Trigger,{ref:l,...a,children:a.label}),m.jsx(Rn.Content,{zIndex:1e4,popoverPlacement:r,children:e})]})}),Gu=Rn.Item,k8=xt(Te)`
  @media (max-height: 500px) {
    display: none;
  }
`,C8=()=>{const{sendMessage:e}=br(),{t}=qn(),{trackUsage:n}=Pi(),r=[t("chat.input.defaults.generate","Generate a product schema"),t("chat.input.defaults.ctb","Tell me about the Content-Type Builder"),t("chat.input.defaults.strapi","Tell me about Strapi")],a={[t("chat.input.defaults.generate","Generate a product schema")]:"generate-product-schema",[t("chat.input.defaults.ctb","Tell me about the Content-Type Builder")]:"tell-me-about-the-content-type-builder",[t("chat.input.defaults.strapi","Tell me about Strapi")]:"tell-me-about-strapi"},s=t("chat.input.defaults.title","How can I help you?");return m.jsx(Jv,{children:m.jsxs(k8,{direction:"column",alignItems:"flex-start",gap:3,children:[m.jsx($e,{variant:"omega",fontWeight:"bold",children:s}),m.jsx(Te,{direction:"column",alignItems:"flex-start",gap:2,children:r.map(o=>m.jsx(vt,{startIcon:m.jsx(Il,{fill:"neutral500"}),size:"M",variant:"tertiary",onClick:()=>{n("didUsePresetPrompt",{promptType:a[o]}),e({text:o})},children:m.jsx($e,{fontWeight:"regular",children:o})},o))})]})})},S8=e=>{try{return JSON.parse(e.message).error}catch{return e}},E8=()=>{const{error:e}=br(),{t}=qn(),n=t("chat.messages.error","Something went wrong."),r=t("chat.messages.too-many-requests","Too many requests, please try again later."),a=t("chat.messages.license-limit-reached","License limit reached, please try again tomorrow."),s=t("chat.messages.license-limit-exceeded","AI credit limit exceeded."),o=t("chat.messages.too-long-error","This conversation reached its maximum length. Start a new conversation");if(!e)return null;const l=S8(e);return!l||typeof l!="string"?null:l===O3?m.jsx(uo,{title:r,variant:"warning"}):l===z3?m.jsx(uo,{title:a,variant:"warning"}):l.split(".")[0]===M3?m.jsx(uo,{title:s,variant:"danger"}):l===F3?m.jsx(uo,{title:o,variant:"danger"}):m.jsx(uo,{title:n,variant:"danger"})},T8=({messages:e})=>{const t=W.useRef(null),{status:n}=br();return W.useEffect(()=>{const r=setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth"})},20);return()=>clearTimeout(r)},[e,n]),m.jsxs(m.Fragment,{children:[m.jsxs(Te,{direction:"column",gap:5,children:[e.map((r,a)=>m.jsx(b8,{message:r,isLoading:(n==="streaming"||n==="submitted")&&a===e.length-1},r.id)),n==="error"&&m.jsx(E8,{})]}),m.jsx("div",{ref:t})]})},A8=()=>{const{attachments:e,removeAttachmentByIndex:t}=Zo();return e.length?m.jsx(La.Attachments,{children:e.map((n,r)=>m.jsx(Ne,{maxWidth:"250px",children:m.jsx(Xd,{attachment:n,onRemove:()=>t(r)})},n.filename))}):null},I8=()=>{const{attachFiles:e}=Zo(),{openCodeUpload:t}=$p(),{openFigmaUpload:n}=Pp(),{t:r}=qn(),a=W.useRef(null),s=r("chat.tooltips.upload-attachments","Upload attachments"),o=r("chat.attachments.menu.import-code","Import code"),l=r("chat.attachments.menu.attach-image","Attach image"),u=r("chat.attachments.menu.import-figma","Import from Figma");return m.jsxs(w8,{label:s,icon:m.jsx(Wd,{}),tag:yr,popoverPlacement:"top-end",children:[m.jsx(Gu,{startIcon:m.jsx(Sv,{}),onSelect:()=>t(),children:o}),m.jsx(Gu,{startIcon:m.jsx(hb,{}),onSelect:()=>n(),children:u}),m.jsx("input",{type:"file",accept:"image/*",multiple:!0,hidden:!0,ref:a}),m.jsx(Gu,{startIcon:m.jsx(EA,{}),onSelect:()=>{const d=a.current;d&&(d.onchange=p=>{const h=p.target;h.files&&h.files.length>0&&e(Array.from(h.files))},d.click())},children:l})]})},j8=({children:e})=>{const[t,n]=W.useState("");return W.useEffect(()=>{const r=["",".","..","..."];let a=0;const s=setInterval(()=>{a=(a+1)%r.length,n(r[a])},400);return()=>clearInterval(s)},[]),m.jsxs($e,{variant:"pi",textColor:"neutral600",children:[e,t]})},R8=e=>{const{input:t,handleSubmit:n,handleInputChange:r,messages:a,status:s,stop:o,attachments:l}=br(),{t:u}=qn(),d=s==="streaming"||s==="submitted";return m.jsx(m.Fragment,{children:m.jsx("form",{onSubmit:n,...e,children:m.jsxs(La.Root,{isLoading:d,gap:4,children:[m.jsxs(La.Header,{minHeight:0,children:[a.length===0&&m.jsx(La.HeaderItem,{children:m.jsx(C8,{})}),d&&m.jsx(La.HeaderItem,{children:m.jsx(j8,{children:u("chat.input.thinking","Strapi AI is thinking")})})]}),m.jsxs(La.Content,{children:[m.jsx(pb.Area,{}),m.jsx(A8,{}),m.jsx(Ne,{paddingBottom:3,children:m.jsx(_8,{value:t,onChange:r,onSubmit:n,placeholder:u("chat.input.placeholder","Ask Strapi AI...")})}),m.jsxs(La.Actions,{children:[m.jsx(I8,{}),d?m.jsx(yr,{label:u("chat.tooltips.stop-generation","Stop"),type:"button",variant:"default",onClick:p=>{p.preventDefault(),o()},children:m.jsx(iz,{})}):m.jsx(yr,{label:u("chat.tooltips.send-message","Send"),variant:"default",type:"submit",disabled:t.trim().length===0&&l.length===0,children:m.jsx(Cv,{})})]})]})]})})})},O8=()=>{const{title:e,messages:t,isChatOpen:n,isChatEnabled:r,openChat:a,closeChat:s,reset:o}=br(),{attachFiles:l}=Zo(),{t:u}=qn(),d=Ga("Chat",k=>k.state),h=ta("Chat",k=>k.currentEnvironment)==="production";W.useEffect(()=>{d.enabled&&d.tours.contentTypeBuilder?.currentStep===1&&!d.tours.contentTypeBuilder?.isCompleted&&!n&&a&&a()},[d.tours.contentTypeBuilder?.currentStep,d.tours.contentTypeBuilder?.isCompleted,d.enabled,n,a]);const g=u("chat.tooltips.open-chat","Open chat"),v=u("chat.tooltips.close-chat","Close chat"),y=u("chat.tooltips.create-chat","New conversation"),_=u("chat.header.default-title","New conversation"),x=u("chat.input.strapi-ai-can-make-errors","Strapi AI can make mistakes.");return!r||h?null:m.jsx(pb.Root,{onAddFiles:k=>{l(k)},children:m.jsxs(po.Root,{size:"md",position:"bottom-right",isOpen:n,onToggle:n?s:a,toggleIcon:m.jsx(yr,{onClick:n?s:a,label:n?v:g,variant:"default",size:"L",children:m.jsx(Il,{})}),children:[m.jsxs(po.Header,{children:[m.jsx($e,{tag:"h3",variant:"omega",fontWeight:"bold",children:e||_}),m.jsxs(Te,{gap:0,children:[m.jsx(yr,{label:y,variant:"ghost",onClick:o,children:m.jsx(ma,{})}),m.jsx(po.Close,{label:v})]})]}),m.jsx(po.Body,{children:m.jsxs(qd.contentTypeBuilder.AIChat,{children:[t.length?null:m.jsx($e,{variant:"pi",textColor:"neutral600",children:x}),m.jsx(T8,{messages:t})]})}),m.jsx(po.Footer,{children:m.jsx(R8,{})})]})})},ne=e=>`${ga}.${e}`,Hy=({status:e})=>{switch(e){case"UNCHANGED":return null;case"CHANGED":return m.jsx($e,{fontWeight:"semiBold",textColor:"alternative500",children:"M"});case"REMOVED":return m.jsx($e,{fontWeight:"semiBold",textColor:"danger500",children:"D"});case"NEW":return m.jsx($e,{fontWeight:"semiBold",textColor:"success500",children:"N"})}},IW=({status:e})=>{switch(e){case"CHANGED":return m.jsx($s,{fontWeight:"bold",textColor:"alternative600",backgroundColor:"alternative100",borderColor:"alternative200",children:"Modified"});case"REMOVED":return m.jsx($s,{fontWeight:"bold",textColor:"danger600",backgroundColor:"danger100",borderColor:"danger200",children:"Deleted"});case"NEW":return m.jsx($s,{fontWeight:"bold",textColor:"success600",backgroundColor:"success100",borderColor:"success200",children:"New"});case"UNCHANGED":default:return m.jsx($s,{style:{visibility:"hidden"},fontWeight:"bold",textColor:"warning600",backgroundColor:"warning100",borderColor:"warning200",children:"Unchanged"})}},F_=W.createContext(),Ui=()=>W.useContext(F_),z8=()=>{const{componentsGroupedByCategory:e,isInDevelopmentMode:t,sortedContentTypesList:n}=nr(),{trackUsage:r}=Pi(),[a,s]=W.useState(""),{onOpenModalCreateSchema:o}=Ui(),{locale:l}=yt(),{contains:u}=TA(l,{sensitivity:"base"}),d=AA(l,{sensitivity:"base"}),p=()=>{r("willCreateContentType"),o({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})},h=()=>{r("willCreateSingleType"),o({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})},g=()=>{r("willCreateComponent"),o({modalType:"component",kind:null,actionType:"create",forTarget:"component"})},v=Object.entries(e).map(([x,k])=>({name:x,title:qa(x),links:k.map(T=>({name:T.uid,to:`/plugins/${ga}/component-categories/${x}/${T.uid}`,title:T.info.displayName,status:T.status})).sort((T,A)=>d.compare(T.title,A.title))})).sort((x,k)=>d.compare(x.title,k.title)),y=n.filter(x=>x.visible).map(x=>({kind:x.kind,name:x.name,to:x.to,title:x.title,status:x.status}));return{menu:[{name:"models",title:{id:`${ne("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:t?{id:`${ne("button.model.create")}`,defaultMessage:"Create new collection type",onClick:p}:void 0,links:y.filter(x=>x.kind==="collectionType")},{name:"singleTypes",title:{id:`${ne("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:t?{id:`${ne("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:h}:void 0,links:y.filter(x=>x.kind==="singleType")},{name:"components",title:{id:`${ne("menu.section.components.name")}`,defaultMessage:"Components"},customLink:t?{id:`${ne("button.component.create")}`,defaultMessage:"Create a new component",onClick:g}:void 0,links:v}].map(x=>{if(x.links.some(A=>"links"in A&&Array.isArray(A.links))){let A=0;return{...x,links:x.links.reduce((I,$)=>{const O="links"in $?$.links.filter(U=>u(U.title,a)):[];return O.length===0||(A+=O.length,I.push({...$,links:O.sort((U,B)=>d.compare(U.title,B.title))})),I},[]),linksCount:A}}const T=x.links.filter(A=>u(A.title,a)).sort((A,I)=>d.compare(A.title,I.title));return{...x,links:T,linksCount:T.length}}),search:{value:a,onChange:s,clear:()=>s("")}}},M8=xt(Vd)`
  transform: scaleX(-1);
`,F8=xt(Rn.Item)`
  color: ${({theme:e})=>e.colors.danger600};

  &:hover {
    background: ${({theme:e,disabled:t})=>!t&&e.colors.danger100};
  }
`,$8=()=>{const{menu:e,search:t}=z8(),{saveSchema:n,isModified:r,history:a,isInDevelopmentMode:s}=nr(),{formatMessage:o}=yt(),[l,u]=W.useState(!1),[d,p]=W.useState(!1);W.useEffect(()=>{if(!s)return;const x=k=>{(k.ctrlKey||k.metaKey)&&(k.key==="Enter"?r&&(k.preventDefault(),n()):k.key==="z"&&!k.shiftKey?(k.preventDefault(),a.undo()):(k.key==="y"||k.shiftKey&&k.key==="z"||k.key==="Z")&&(k.preventDefault(),a.redo()))};return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}});const h=()=>{p(!0)},g=()=>{u(!1),p(!1),a.discardAllChanges()},v=()=>{a.undo()},y=()=>{a.redo()},_=o({id:ne("plugin.name"),defaultMessage:"Content-Type Builder"});return m.jsxs(pa.Main,{"aria-label":_,children:[m.jsx(pa.Header,{label:_}),m.jsx(jl,{background:"neutral150"}),m.jsxs(pa.Content,{children:[m.jsxs(Te,{padding:5,gap:3,direction:"column",alignItems:"stretch",children:[m.jsx(qd.contentTypeBuilder.Save,{children:m.jsxs(Te,{gap:2,children:[m.jsx(vt,{flex:1,onClick:x=>{x.preventDefault(),n()},type:"submit",disabled:!r||!s,fullWidth:!0,size:"S",children:o({id:"global.save",defaultMessage:"Save"})}),m.jsxs(Rn.Root,{open:l,onOpenChange:u,children:[m.jsxs(Rn.Trigger,{size:"S",endIcon:null,paddingTop:"4px",paddingLeft:"7px",paddingRight:"7px",variant:"tertiary",children:[m.jsx(IA,{fill:"neutral500","aria-hidden":!0,focusable:!1}),m.jsx(Ev,{tag:"span",children:o({id:"global.more.actions",defaultMessage:"More actions"})})]}),m.jsxs(Rn.Content,{zIndex:1,children:[m.jsx(Rn.Item,{disabled:!a.canUndo||!s,onSelect:v,startIcon:m.jsx(M8,{}),children:o({id:"global.last-change.undo",defaultMessage:"Undo last change"})}),m.jsx(Rn.Item,{disabled:!a.canRedo||!s,onSelect:y,startIcon:m.jsx(Vd,{}),children:o({id:"global.last-change.redo",defaultMessage:"Redo last change"})}),m.jsx(Rn.Separator,{}),m.jsx(F8,{disabled:!a.canDiscardAll||!s,onSelect:h,children:m.jsxs(Te,{gap:2,children:[m.jsx(Zd,{}),m.jsx($e,{children:o({id:"global.last-changes.discard",defaultMessage:"Discard last changes"})})]})})]})]})]})}),m.jsx(Tv,{value:t.value,onChange:x=>t.onChange(x.target.value),onClear:()=>t.onChange(""),placeholder:o({id:ne("search.placeholder"),defaultMessage:"Search"}),size:"S",children:void 0,name:"search_contentType",clearLabel:o({id:"clearLabel",defaultMessage:"Clear"}),"aria-label":o({id:ne("search.placeholder"),defaultMessage:"Search"})})]}),m.jsx(pa.Sections,{children:e.map(x=>m.jsx(W.Fragment,{children:m.jsx(pa.Section,{label:o({id:x.title.id,defaultMessage:x.title.defaultMessage}),link:x.customLink&&{label:o({id:x.customLink?.id,defaultMessage:x.customLink?.defaultMessage}),onClick:x.customLink?.onClick},sectionId:x.name,children:x.links.map(k=>{const T=o({id:k.name,defaultMessage:k.title});return"links"in k?m.jsx(pa.SubSection,{label:k.title,children:k.links.map(A=>{const I=o({id:A.name,defaultMessage:A.title});return m.jsx(pa.Link,{to:A.to,label:I,endAction:m.jsx(Ne,{tag:"span",textAlign:"center",width:"24px",children:m.jsx(Hy,{status:A.status})})},A.name)})},k.name):m.jsx(pa.Link,{to:k.to,label:T,endAction:m.jsx(Ne,{tag:"span",textAlign:"center",width:"24px",children:m.jsx(Hy,{status:k.status})})},k.name)})})},x.name))})]}),m.jsx(Ja.Root,{open:d,onOpenChange:p,children:m.jsx(No,{onConfirm:g,children:o({id:ne("popUpWarning.discardAll.message"),defaultMessage:"Are you sure you want to discard all changes?"})})})]})},qy=()=>{if(crypto.randomUUID)return`ctb-${crypto.randomUUID()}`},N8=({children:e})=>{const[t,n]=W.useState(()=>qy()),r=W.useCallback(()=>{n(qy())},[]),a=W.useMemo(()=>({sessionId:t,regenerateSessionId:r}),[t,r]);return m.jsx(Gv.Provider,{value:a,children:e})},P8="timeout",D8=30*1e3,L8=()=>{const{get:e}=Av(),t=async n=>{const r=n??Date.now();if(Date.now()-r>D8)throw new Error(P8);try{if((await e("/content-type-builder/update-schema-status"))?.data?.data?.isUpdating===!0)return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}catch{return new Promise(s=>{setTimeout(()=>t(r).then(s),200)})}};return t},B8=e=>IR(Object.keys(e).map(t=>({visible:e[t].visible,name:t,title:e[t].info.displayName,plugin:e[t].plugin,uid:t,to:`/plugins/${ga}/content-types/${t}`,kind:e[t].kind,restrictRelationsTo:e[t].restrictRelationsTo,status:e[t].status})).filter(t=>t!==null),t=>jA(t.title)),U8=({components:e,contentTypes:t})=>{const n={newContentTypes:0,editedContentTypes:0,deletedContentTypes:0,newComponents:0,editedComponents:0,deletedComponents:0,newFields:0,editedFields:0,deletedFields:0},r=Object.values(e).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Wy(s),l=o.action;return Vy({...s,action:l},n,"component"),o}),a=Object.values(t).filter(s=>["NEW","CHANGED","REMOVED"].includes(s.status)).map(s=>{const o=Wy(s),l=o.action;return Vy({...s,action:l},n,"contentType"),o});return{requestData:{components:r,contentTypes:a},trackingEventProperties:n}},Z8=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null)),H8=e=>"customField"in e?{...e,type:"customField"}:"targetAttribute"in e?{...e,targetAttribute:e.targetAttribute==="-"?null:e.targetAttribute,...e.conditions&&{conditions:e.conditions}}:e,Wy=e=>{let t;switch(e.status){case"NEW":t="create";break;case"CHANGED":t="update";break;case"REMOVED":return{action:"delete",uid:e.uid};default:throw new Error("Invalid status")}return{action:t,uid:e.uid,category:"category"in e?e.category:void 0,...tl(e,["info","options","visible","uid","restrictRelationsTo"]),...e.options,...e.info,attributes:e.attributes.map(n=>{let r;switch(n.status){case"NEW":r="create";break;case"REMOVED":return{action:"delete",name:n.name};case"UNCHANGED":case"CHANGED":default:r="update"}return{action:r,name:n.name,properties:Z8(tl(H8(n),["status","name"]))}})}},Vy=(e,t,n)=>{if(!e||typeof e.action!="string")return;const r=n==="contentType";switch(e.action){case"create":r?t.newContentTypes++:t.newComponents++;break;case"update":r?t.editedContentTypes++:t.editedComponents++;break;case"delete":r?t.deletedContentTypes++:t.deletedComponents++;break}Array.isArray(e.attributes)&&(e.action==="delete"?t.deletedFields+=e.attributes.length:e.attributes.forEach(a=>{if(!(!a||typeof a.status!="string"))switch(a.status){case"NEW":t.newFields++;break;case"CHANGED":t.editedFields++;break;case"REMOVED":t.deletedFields++;break}}))},q8=e=>Object.keys(e).reduce((n,r)=>{const a=Qt(e,[r]),s=W8(a);return s.childComponents.length>0&&n.push(s),n},[]),W8=e=>({component:e.uid,childComponents:e.attributes.filter(t=>{const{type:n}=t;return n==="component"}).map(t=>({component:t.component}))}),V8=e=>{const t=Object.keys(e).reduce((n,r)=>{const a=e?.[r]?.attributes??[],s=G8(a,r);return[...n,...s]},[]);return J8(t)},G8=(e,t)=>e.reduce((n,r)=>{const{type:a}=r;return a==="component"&&n.push({component:r.component,parentCompoUid:t}),n},[]),J8=e=>{const t=new Map;return e.forEach(({component:r,parentCompoUid:a})=>{t.has(r)||t.set(r,new Set),t.get(r).add(a)}),Array.from(t.entries()).map(([r,a])=>({component:r,uidsOfAllParents:Array.from(a)}))},K8=(e,t)=>{const n=Object.keys(e).map(r=>Qt(e,[r,...t],""));return RA(n)},Y8=e=>e["content-type-builder_dataManagerProvider"]||OA,X8=({children:e})=>{const t=Rl(),n=Iv(Y8),r=Ga("DataManagerProvider",de=>de.dispatch),a=zA(),{sessionId:s,regenerateSessionId:o}=Kd(),{components:l,contentTypes:u,reservedNames:d,initialComponents:p,initialContentTypes:h,isLoading:g}=n.current,{toggleNotification:v}=Ni(),{lockAppWithAutoreload:y,unlockAppWithAutoreload:_}=MA(),x=L8(),T=Eo("DataManagerProvider",de=>de.getPlugin)("content-type-builder"),A=ta("DataManagerProvider",de=>de.autoReload),{formatMessage:I}=yt(),{trackUsage:$}=Pi(),O=FA("DataManagerProvider",de=>de.refetchPermissions),{onCloseModal:U}=Ui(),[B,G]=W.useState(!1),Y=W.useRef(null),q=W.useMemo(()=>!(So(l,p)&&So(u,h)),[l,u,p,h]),le=Av(),R=A,J=W.useRef();J.current=async()=>{try{const[de,ue]=await Promise.all([le.get("/content-type-builder/schema"),le.get("/content-type-builder/reserved-names")]),{components:nt,contentTypes:He}=de.data.data;t(Xt.init({components:lm(nt,he=>({...he,status:"UNCHANGED"})),contentTypes:lm(He,he=>({...he,status:"UNCHANGED"})),reservedNames:ue.data})),t(Xt.clearHistory())}catch(de){console.error({err:de}),v({type:"danger",message:I({id:"notification.error",defaultMessage:"An error occurred"})})}},W.useEffect(()=>(J.current(),Y.current=a.pathname,()=>{t(Xt.reloadPlugin())}),[]),W.useEffect(()=>{const de=a.pathname,ue=Y.current,nt="/plugins/content-type-builder";if(ue){const He=de.includes(nt);!ue.includes(nt)&&He&&o()}Y.current=de},[a.pathname,o]),W.useEffect(()=>{A||v({type:"info",message:I({id:ne("notification.info.autoreaload-disable")})})},[A,v,I]);const w=de=>q8(de),L=de=>V8(de),Se=async()=>{await O()},ce=async()=>{G(!0);const de=T?.apis?.forms,ue=Object.entries(n.current.contentTypes).reduce((Fe,[be,Oe])=>(Fe[be]=de.mutateContentTypeSchema(Oe,h[be]),Fe),{}),{requestData:nt,trackingEventProperties:He}=U8({components:n.current.components,contentTypes:ue});$("willUpdateCTBSchema",{...He,ctbSessionId:s});const he=Object.keys(n.current.contentTypes).length>0;y();try{await le.post("/content-type-builder/update-schema",{data:nt}),he&&$("didCreateGuidedTourCollectionType"),await x(),o(),await J.current(),await Se()}catch(Fe){console.error({err:Fe}),v({type:"danger",message:I({id:"notification.error",defaultMessage:"An error occurred"})}),$("didUpdateCTBSchema",{...He,success:!1,ctbSessionId:s})}finally{G(!1),_(),t($A.util.invalidateTags(["GuidedTourMeta","HomepageKeyStatistics"])),r({type:"set_completed_actions",payload:[nl.contentTypeBuilder.createSchema]}),$("didUpdateCTBSchema",{...He,success:!0,ctbSessionId:s})}},pe=W.useMemo(()=>w(l),[l]),N=W.useMemo(()=>L(l),[l]),Ae=W.useMemo(()=>K8(l,["category"]),[l]),oe=W.useMemo(()=>AR(l,"category"),[l]),z=W.useMemo(()=>B8(u),[u]),Me={componentsThatHaveOtherComponentInTheirAttributes:pe,nestedComponents:N,saveSchema:ce,reservedNames:d,components:l,contentTypes:u,initialComponents:p,initialContentTypes:h,isSaving:B,isModified:q,isInDevelopmentMode:R,allComponentsCategories:Ae,componentsGroupedByCategory:oe,sortedContentTypesList:z,isLoading:g,addAttribute(de){t(Xt.addAttribute(de))},editAttribute(de){t(Xt.editAttribute(de))},addCustomFieldAttribute(de){t(Xt.addCustomFieldAttribute(de))},editCustomFieldAttribute(de){t(Xt.editCustomFieldAttribute(de))},addCreatedComponentToDynamicZone(de){t(Xt.addCreatedComponentToDynamicZone(de))},createSchema(de){t(Xt.createSchema(de))},createComponentSchema({data:de,uid:ue,componentCategory:nt}){t(Xt.createComponentSchema({data:de,uid:ue,componentCategory:nt}))},changeDynamicZoneComponents({forTarget:de,targetUid:ue,dynamicZoneTarget:nt,newComponents:He}){t(Xt.changeDynamicZoneComponents({forTarget:de,targetUid:ue,dynamicZoneTarget:nt,newComponents:He}))},removeAttribute(de){de.forTarget==="contentType"&&$("willDeleteFieldOfContentType"),t(Xt.removeField(de))},removeComponentFromDynamicZone(de){t(Xt.removeComponentFromDynamicZone(de))},deleteComponent(de){window.confirm(I({id:ne("popUpWarning.bodyMessage.component.delete")}))&&(U(),t(Xt.deleteComponent(de)))},deleteContentType(de){window.confirm(I({id:ne("popUpWarning.bodyMessage.contentType.delete")}))&&(U(),t(Xt.deleteContentType(de)))},updateComponentSchema({data:de,componentUID:ue}){t(Xt.updateComponentSchema({data:de,uid:ue}))},updateComponentUid({componentUID:de,newComponentUID:ue}){t(Xt.updateComponentUid({uid:de,newComponentUID:ue}))},updateSchema(de){t(Xt.updateSchema(de))},moveAttribute(de){t(Xt.moveAttribute(de))},applyChange(de){t(Xt.applyChange(de))},history:{undo(){t(Xt.undo())},redo(){t(Xt.redo())},discardAllChanges(){t(Xt.discardAll())},canUndo:n.past.length>0,canRedo:n.future.length>0,canDiscardAll:q}};return m.jsx(Qb.Provider,{value:Me,children:e})},Q8=()=>{const{formatMessage:e}=yt(),{isModified:t,isSaving:n}=nr(),r=e({id:ne("prompt.unsaved"),defaultMessage:"Are you sure you want to leave? All your modifications will be lost."}),a=NA(s=>s.currentLocation.pathname.startsWith("/plugins/content-type-builder/")&&!s.nextLocation.pathname.startsWith("/plugins/content-type-builder/")&&t);return W.useEffect(()=>{const s=o=>{t&&!n&&(o.preventDefault(),o.returnValue="")};return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)},[r,t,n]),a.state==="blocked"?m.jsx(Ja.Root,{open:!0,onOpenChange:()=>a.reset(),children:m.jsx(No,{onConfirm:()=>a.proceed(),children:r})}):null},$_=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),zd=(e,t)=>e.find(({name:n})=>n===t),eH=(e,t)=>!e||!t?{}:{[e]:t[e]},tH=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:eH(n?.type,n?.params)}),t),{}),nH=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],rH=({intlLabel:e,name:t,onChange:n,value:r=null})=>{const{formatMessage:a}=yt(),s=r===null||r?.length===0?a({id:"global.none",defaultMessage:"None"}):[...r].sort().map(l=>qa(l)).join(", "),o=e.id?a({id:e.id,defaultMessage:e.defaultMessage}):t;return m.jsxs(at.Root,{name:t,children:[m.jsx(at.Label,{children:o}),m.jsx(jv,{customizeContent:()=>s,onChange:l=>{l.length>0?n({target:{name:t,value:l,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:nH,value:r||[]})]})},Gy={biginteger:co,blocks:VA,boolean:WA,collectionType:pm,component:qA,contentType:pm,date:Ns,datetime:Ns,decimal:co,dynamiczone:HA,email:ZA,enum:dm,enumeration:dm,file:du,files:du,float:co,integer:co,json:um,JSON:um,media:du,number:co,password:UA,relation:BA,richtext:LA,singleType:DA,string:cm,text:cm,time:Ns,timestamp:Ns,uid:PA},aH=xt(Ne)`
  svg {
    height: 100%;
    width: 100%;
  }
`,$o=({type:e,customField:t=null,...n})=>{const r=Eo("AttributeIcon",s=>s.customFields.get);let a=Gy[e];if(t){const o=r(t)?.icon;o&&(a=o)}return Gy[e]?m.jsx(aH,{width:"3.2rem",height:"3.2rem",shrink:0,...n,"aria-hidden":!0,children:m.jsx(Ne,{tag:a})}):null},N_=xt(Ne)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    cursor: pointer;
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,iH=[],oH=()=>m.jsx(Te,{grow:1,justifyContent:"flex-end",children:m.jsxs(Te,{gap:1,hasRadius:!0,background:"alternative100",padding:"0.2rem 0.4rem",children:[m.jsx(Il,{width:"1rem",height:"1rem",fill:"alternative600"}),m.jsx($e,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),sH=({type:e="text"})=>{const{formatMessage:t}=yt(),{onClickSelectField:n}=Ui(),r=()=>{n({attributeType:e,step:e==="component"?"1":null})};return m.jsx(N_,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:r,children:m.jsxs(Te,{children:[m.jsx($o,{type:e}),m.jsxs(Ne,{paddingLeft:4,width:"100%",children:[m.jsxs(Te,{justifyContent:"space-between",children:[m.jsx($e,{fontWeight:"bold",textColor:"neutral800",children:t({id:ne(`attribute.${e}`),defaultMessage:e})}),iH.includes(e)&&m.jsx(oH,{})]}),m.jsx(Te,{children:m.jsx($e,{variant:"pi",textColor:"neutral600",children:t({id:ne(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})},lH=({attributes:e})=>m.jsx(Gd,{tagName:"button",children:m.jsx(Te,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>m.jsx(gr.Root,{gap:3,children:t.map(r=>m.jsx(gr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(sH,{type:r})},r))},n))})}),cH=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:r,intlDescription:a}=t,{formatMessage:s}=yt(),{onClickSelectCustomField:o}=Ui(),l=()=>{o({attributeType:n,customFieldUid:e})};return m.jsx(N_,{padding:4,tag:"button",hasRadius:!0,type:"button",onClick:l,children:m.jsxs(Te,{children:[m.jsx($o,{type:n,customField:e}),m.jsxs(Ne,{paddingLeft:4,children:[m.jsx(Te,{children:m.jsx($e,{fontWeight:"bold",textColor:"neutral800",children:s(r)})}),m.jsx(Te,{children:m.jsx($e,{variant:"pi",textColor:"neutral600",children:s(a)})})]})]})})},uH=xt(Ne)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,dH=()=>m.jsx(Te,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>m.jsx(uH,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),pH=()=>{const{formatMessage:e}=yt();return m.jsxs(Ne,{position:"relative",children:[m.jsx(dH,{}),m.jsx(Ne,{position:"absolute",top:6,width:"100%",children:m.jsxs(Te,{alignItems:"center",justifyContent:"center",direction:"column",children:[m.jsx(Rv,{width:"160px",height:"88px"}),m.jsx(Ne,{paddingTop:6,paddingBottom:4,children:m.jsxs(Ne,{textAlign:"center",children:[m.jsx($e,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ne("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),m.jsx(Ne,{paddingTop:4,children:m.jsx($e,{variant:"delta",tag:"p",textColor:"neutral600",children:e({id:ne("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),m.jsx(GA,{tag:xv,to:`/marketplace?${JA.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:m.jsx(ma,{}),children:e({id:ne("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},fH=()=>{const{formatMessage:e}=yt(),t=Eo("CustomFieldsList",a=>a.customFields.getAll),n=Object.entries(t());if(!n.length)return m.jsx(pH,{});const r=n.sort((a,s)=>a[1].name>s[1].name?1:-1);return m.jsx(Gd,{tagName:"button",children:m.jsxs(Te,{direction:"column",alignItems:"stretch",gap:3,children:[m.jsx(gr.Root,{gap:3,children:r.map(([a,s])=>m.jsx(gr.Item,{col:6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(cH,{customFieldUid:a,customField:s},a)},a))}),m.jsx(Tl,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:ne("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},hH=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:r}=yt(),a=ne("modalForm.tabs.default"),s=ne("modalForm.tabs.custom"),o=t.includes("component")?"component":n,l=ne(`modalForm.sub-header.chooseAttribute.${o}`);return m.jsx(gn.Body,{children:m.jsxs(hr.Root,{variant:"simple",defaultValue:"default",children:[m.jsxs(Te,{justifyContent:"space-between",children:[m.jsx($e,{variant:"beta",tag:"h2",children:r({id:l,defaultMessage:"Select a field"})}),m.jsxs(hr.List,{children:[m.jsx(hr.Trigger,{value:"default",children:r({id:a,defaultMessage:"Default"})}),m.jsx(hr.Trigger,{value:"custom",children:r({id:s,defaultMessage:"Custom"})})]})]}),m.jsx(jl,{marginBottom:6}),m.jsx(hr.Content,{value:"default",children:m.jsx(lH,{attributes:e})}),m.jsx(hr.Content,{value:"custom",children:m.jsx(fH,{})})]})})},mH=({intlLabel:e,name:t,options:n,onChange:r,value:a=null})=>{const{formatMessage:s}=yt(),o=e.id?s({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,l=u=>{let d="";u==="true"&&(d=!0),u==="false"&&(d=!1),r({target:{name:t,value:d,type:"select-default-boolean"}})};return m.jsxs(at.Root,{name:t,children:[m.jsx(at.Label,{children:o}),m.jsx(ea,{onChange:l,value:(a===null?"":a).toString(),children:n.map(({metadatas:{intlLabel:u,disabled:d,hidden:p},key:h,value:g})=>m.jsx(Kn,{value:g,disabled:d,hidden:p,children:u.defaultMessage},h))})]})},gH=xt(Te)`
  position: relative;
  align-items: stretch;

  label {
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;

    ${Ov()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>e.borderRadius};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    color: ${({theme:e})=>e.colors.primary600};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Dp=({intlLabel:e,name:t,onChange:n,radios:r=[],value:a})=>{const{formatMessage:s}=yt();return m.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx($e,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,tag:"label",children:s(e)}),m.jsx(gH,{gap:4,alignItems:"stretch",children:r.map(o=>m.jsxs("label",{htmlFor:o.value.toString(),className:"container",children:[m.jsx("input",{id:o.value.toString(),name:t,className:"option-input",checked:o.value===a,value:o.value,onChange:n,type:"radio"},o.value),m.jsx(Ne,{className:"option",padding:4,children:m.jsxs(Te,{children:[m.jsx(Ne,{paddingRight:4,children:m.jsx("span",{className:"checkmark"})}),m.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx($e,{fontWeight:"bold",children:s(o.title)}),m.jsx($e,{variant:"pi",textColor:"neutral600",children:s(o.description)})]})]})})]},o.value))})]})},yH=({onChange:e,name:t,intlLabel:n,...r})=>{const a=s=>{const o=s.target.value!=="false";e({target:{name:t,value:o,type:"boolean-radio-group"}})};return m.jsx(Dp,{...r,name:t,onChange:a,intlLabel:n})},vH=({error:e,intlLabel:t,modifiedData:n,name:r,onChange:a,value:s=null})=>{const{formatMessage:o}=yt(),l=t.id?o({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):r,u=n.type==="biginteger"?"text":"number",d=!n.type,p=e?o({id:e,defaultMessage:e}):"";return m.jsxs(Te,{direction:"column",alignItems:"stretch",gap:2,children:[m.jsx(Al,{id:r,name:r,onCheckedChange:h=>{a({target:{name:r,value:h?u==="text"?"0":0:null}})},checked:s!==null,children:l}),s!==null&&m.jsx(Ne,{paddingLeft:6,style:{maxWidth:"200px"},children:u==="text"?m.jsxs(at.Root,{error:p,name:r,children:[m.jsx(Qr,{"aria-label":l,disabled:d,onChange:a,value:s===null?"":s,type:"text"}),m.jsx(at.Error,{})]}):m.jsxs(at.Root,{error:p,name:r,children:[m.jsx(zv,{"aria-label":l,disabled:d,onValueChange:h=>{a({target:{name:r,value:h??0,type:u}})},value:s||0}),m.jsx(at.Error,{})]})})]})},bH=({onChange:e,...t})=>{const{formatMessage:n}=yt(),{toggleNotification:r}=Ni(),a=s=>{r({type:"info",message:n({id:ne("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."})}),e(s)};return m.jsx(Dp,{...t,onChange:a})},xH=({description:e,disabled:t=!1,intlLabel:n,isCreating:r,name:a,onChange:s,value:o=!1})=>{const{formatMessage:l}=yt(),[u,d]=W.useState(!1),p=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,h=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=()=>{s({target:{name:a,value:!1}}),d(!1)},v=y=>{if(!y&&!r){d(!0);return}s({target:{name:a,value:!!y}})};return m.jsxs(m.Fragment,{children:[m.jsxs(at.Root,{hint:h,name:a,children:[m.jsx(Al,{checked:o,disabled:t,onCheckedChange:v,children:p}),m.jsx(at.Hint,{})]}),m.jsx(Ja.Root,{open:u,onOpenChange:y=>d(y),children:m.jsx(No,{endAction:m.jsx(vt,{onClick:g,variant:"danger",width:"100%",justifyContent:"center",children:l({id:ne("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"})}),children:l({id:ne("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."})})})]})},_H=({deleteComponent:e,deleteContentType:t,isAttributeModal:n,isCustomFieldModal:r,isComponentAttribute:a,isComponentToDzModal:s,isContentTypeModal:o,isCreatingComponent:l,isCreatingComponentAttribute:u,isCreatingComponentInDz:d,isCreatingComponentWhileAddingAField:p,isCreatingContentType:h,isCreatingDz:g,isComponentModal:v,isDzAttribute:y,isEditingAttribute:_,isInFirstComponentStep:x,onSubmitAddComponentAttribute:k,onSubmitAddComponentToDz:T,onSubmitCreateContentType:A,onSubmitCreateComponent:I,onSubmitCreateDz:$,onSubmitEditAttribute:O,onSubmitEditComponent:U,onSubmitEditContentType:B,onSubmitEditCustomFieldAttribute:G,onSubmitEditDz:Y,onClickFinish:q})=>{const{formatMessage:le}=yt();return s?d?m.jsx(vt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),T(R,!0)},startIcon:m.jsx(ma,{}),children:le({id:ne("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):m.jsx(vt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),T(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})}):n&&y&&!g?m.jsx(vt,{variant:"default",type:"submit",onClick:R=>{R.preventDefault(),q(),Y(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})}):n&&y&&g?m.jsx(m.Fragment,{children:m.jsx(vt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),$(R,!0)},startIcon:m.jsx(ma,{}),children:le({id:ne("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):n&&a?x?m.jsx(vt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},children:le(u?{id:ne("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:ne("form.button.select-component"),defaultMessage:"Configure the component"})}):m.jsxs(Te,{gap:2,children:[m.jsx(vt,{variant:"secondary",type:"submit",onClick:R=>{R.preventDefault(),k(R,!0)},startIcon:m.jsx(ma,{}),children:le(p?{id:ne("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(vt,{variant:"default",type:"button",onClick:R=>{R.preventDefault(),q(),k(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})})]}):n&&!a&&!y?m.jsxs(Te,{gap:2,children:[m.jsx(vt,{type:_?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),O(R,!0)},startIcon:m.jsx(ma,{}),children:le({id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(vt,{type:_?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),O(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})})]}):o?m.jsxs(Te,{gap:2,children:[!h&&m.jsxs(m.Fragment,{children:[m.jsx(vt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),t()},children:le({id:"global.delete",defaultMessage:"Delete"})}),m.jsx(vt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),B(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})})]}),h&&m.jsx(vt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),A(R,!0)},children:le({id:"global.continue",defaultMessage:"Continue"})})]}):v?m.jsxs(Te,{gap:2,children:[!l&&m.jsxs(m.Fragment,{children:[m.jsx(vt,{type:"button",variant:"danger",onClick:R=>{R.preventDefault(),e()},children:le({id:"global.delete",defaultMessage:"Delete"})}),m.jsx(vt,{type:"submit",variant:"default",onClick:R=>{R.preventDefault(),U(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})})]}),l&&m.jsx(vt,{type:"submit",variant:"secondary",onClick:R=>{R.preventDefault(),I(R,!0)},children:le({id:"global.continue",defaultMessage:"Continue"})})]}):r?m.jsxs(Te,{gap:2,children:[m.jsx(vt,{type:_?"button":"submit",variant:"secondary",onClick:R=>{R.preventDefault(),G(R,!0)},startIcon:m.jsx(ma,{}),children:le({id:ne("form.button.add-field"),defaultMessage:"Add another field"})}),m.jsx(vt,{type:_?"submit":"button",variant:"default",onClick:R=>{R.preventDefault(),q(),G(R,!1)},children:le({id:"global.finish",defaultMessage:"Finish"})})]}):null},wH=({actionType:e=null,attributeName:t,attributeType:n,contentTypeKind:r,dynamicZoneTarget:a,forTarget:s,modalType:o=null,targetUid:l,customFieldUid:u=null,showBackLink:d=!1})=>{const{formatMessage:p}=yt(),{components:h,contentTypes:g}=nr(),{onOpenModalAddField:v}=Ui();let y="component",_=[];const x=s==="component"?h[l]:g[l],k=x?.info.displayName;if(o==="contentType"&&(y=r),["component"].includes(o||"")&&(y="component"),["component","contentType"].includes(o||"")){let A=ne(`modalForm.component.header-${e}`);return o==="contentType"&&(A=ne(`modalForm.${r}.header-create`)),e==="edit"&&(A=ne("modalForm.header-edit")),m.jsx(gn.Header,{children:m.jsxs(Te,{children:[m.jsx(Ne,{children:m.jsx($o,{type:y})}),m.jsx(Ne,{paddingLeft:3,children:m.jsx(gn.Title,{children:p({id:A},{name:k})})})]})})}return _=[{label:k,info:{category:"category"in x&&x?.category||"",name:x?.info?.displayName}}],o==="chooseAttribute"&&(y=s==="component"?"component":"kind"in x?x.kind:""),o==="addComponentToDynamicZone"&&(y="dynamiczone",_.push({label:a})),(o==="attribute"||o==="customField")&&(y=n,_.push({label:t})),m.jsx(gn.Header,{children:m.jsxs(Te,{gap:3,children:[d&&m.jsx(Tl,{"aria-label":p({id:ne("modalForm.header.back"),defaultMessage:"Back"}),startIcon:m.jsx(Mv,{}),onClick:()=>v({forTarget:s,targetUid:l}),href:"#back",isExternal:!1}),m.jsx($o,{type:y,customField:u}),m.jsx(KA,{label:_.map(({label:A})=>A).join(","),children:_.map(({label:A,info:I},$,O)=>{if(A=qa(A),!A)return null;const U=`${A}.${$}`;return I?.category&&(A=`${A} (${qa(I.category)} - ${qa(I.name)})`),m.jsx(YA,{isCurrent:$===O.length-1,children:A},U)})})]})})},kH=({modalType:e,forTarget:t,kind:n,actionType:r,step:a})=>{switch(e){case"chooseAttribute":return ne(`modalForm.sub-header.chooseAttribute.${t?.includes("component")?"component":n||"collectionType"}`);case"attribute":return ne(`modalForm.sub-header.attribute.${r}${a!=="null"&&a!==null&&r!=="edit"?".step":""}`);case"customField":return ne(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return ne("modalForm.sub-header.addComponentToDynamicZone");default:return ne("configurations")}},CH=({actionType:e,modalType:t,forTarget:n,kind:r,step:a,attributeType:s,attributeName:o,customField:l})=>{const{formatMessage:u}=yt(),d=t==="customField"?l?.intlLabel:{id:ne(`attribute.${s}`)};return m.jsxs(Te,{direction:"column",alignItems:"flex-start",paddingBottom:1,gap:1,children:[m.jsx($e,{tag:"h2",variant:"beta",children:u({id:kH({actionType:e,forTarget:n,kind:r,step:a,modalType:t}),defaultMessage:"Add new field"},{type:d?qa(u(d)):"",name:qa(o),step:a})}),m.jsx($e,{variant:"pi",textColor:"neutral600",children:u({id:ne(`attribute.${s}.description`),defaultMessage:"A type for modeling data"})})]})},P_={alien:Wj,apps:qj,archive:Hj,arrowDown:Zj,arrowLeft:Mv,arrowRight:Uj,arrowUp:Cv,attachment:Wd,bell:Bj,bold:Lj,book:Dj,briefcase:Pj,brush:pu,bulletList:Nj,calendar:$j,car:Fj,cast:Mj,chartBubble:zj,chartCircle:Oj,chartPie:Rj,check:_v,clock:jj,cloud:Ij,code:Sv,cog:Aj,collapse:Tj,command:Ej,connector:Sj,crop:Cj,crown:kj,cup:wj,cursor:_j,dashboard:xj,database:bj,discuss:vj,doctor:yj,earth:gj,emotionHappy:mj,emotionUnhappy:hj,envelop:fj,exit:pj,expand:vv,eye:Uv,feather:fm,file:dj,fileError:uj,filePdf:cj,fileXls:lj,fileZip:yv,fileCsv:sj,filter:oj,folder:Ud,gate:ij,gift:aj,globe:rj,grid:nj,handHeart:tj,hashtag:ej,headphone:QI,heart:XI,house:YI,information:KI,italic:JI,key:GI,landscape:VI,layer:WI,layout:qI,lightbulb:HI,link:ZI,lock:UI,magic:BI,manyToMany:Bv,manyToOne:Lv,manyWays:Dv,medium:LI,message:DI,microphone:PI,monitor:NI,moon:$I,music:FI,oneToMany:Pv,oneToOne:Nv,oneWay:$v,paint:pu,paintBrush:pu,paperPlane:MI,pencil:zI,phone:OI,picture:RI,pin:jI,pinMap:II,plane:AI,play:TI,plus:ma,priceTag:EI,puzzle:SI,question:CI,quote:kI,refresh:Vd,restaurant:wI,rocket:_I,rotate:xI,scissors:bI,search:Fv,seed:vI,server:yI,shield:gI,shirt:mI,shoppingCart:hI,slideshow:fI,stack:pI,star:dI,store:uI,strikeThrough:cI,sun:lI,television:sI,thumbDown:kv,thumbUp:wv,train:oI,twitter:iI,typhoon:aI,underline:rI,user:nI,volumeMute:tI,volumeUp:eI,walk:QA,wheelchair:XA,write:fm},SH=xt(Te)`
  label {
    ${Ov()}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,EH=({iconKey:e,name:t,onChange:n,isSelected:r,ariaLabel:a})=>{const s=P_[e];return m.jsx(at.Root,{name:t,required:!1,children:m.jsxs(at.Label,{children:[m.jsxs(Ev,{children:[a,m.jsx(at.Input,{type:"radio",checked:r,onChange:n,value:e,"aria-checked":r})]}),m.jsx(Ol,{label:e,children:m.jsx(Te,{padding:2,cursor:"pointer",hasRadius:!0,background:r?"primary200":void 0,children:m.jsx(s,{width:"2rem",height:"2rem",fill:r?"primary600":"neutral300"})})})]})})},TH=({intlLabel:e,name:t,onChange:n,value:r=""})=>{const{formatMessage:a}=yt(),[s,o]=W.useState(!1),[l,u]=W.useState(""),d=Object.keys(P_),[p,h]=W.useState(d),g=W.useRef(null),v=W.useRef(null),y=()=>{o(!s)},_=({target:{value:T}})=>{u(T),h(()=>d.filter(A=>A.toLowerCase().includes(T.toLowerCase())))},x=()=>{y(),u(""),h(d)},k=()=>{n({target:{name:t,value:""}})};return W.useEffect(()=>{s&&v.current?.focus()},[s]),m.jsxs(m.Fragment,{children:[m.jsxs(Te,{justifyContent:"space-between",paddingBottom:2,children:[m.jsx($e,{variant:"pi",fontWeight:"bold",textColor:"neutral800",tag:"label",children:a(e)}),m.jsxs(Te,{gap:1,children:[s?m.jsx(Tv,{ref:v,name:"searchbar",placeholder:a({id:ne("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{l||y()},onChange:_,value:l,onClear:x,clearLabel:a({id:ne("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:a({id:ne("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):m.jsx(yr,{ref:g,onClick:y,withTooltip:!1,label:a({id:ne("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),variant:"ghost",children:m.jsx(Fv,{})}),r&&m.jsx(Ol,{label:a({id:ne("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:m.jsx(yr,{onClick:k,withTooltip:!1,label:a({id:ne("IconPicker.remove.button"),defaultMessage:"Remove the selected icon"}),variant:"ghost",children:m.jsx(Bd,{})})})]})]}),m.jsx(SH,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(T=>m.jsx(EH,{iconKey:T,name:t,onChange:n,isSelected:T===r,ariaLabel:a({id:ne("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:T})},T)):m.jsx(Ne,{padding:4,grow:2,children:m.jsx($e,{variant:"delta",textColor:"neutral600",textAlign:"center",children:a({id:ne("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})},AH=({description:e,error:t,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o})=>{const{formatMessage:l}=yt(),u=W.useRef(s),d=r?.displayName||"",p=W.useRef(d),h=W.useRef(o);W.useEffect(()=>{if(d&&d!==p.current){const _=Zv(d);let x=_;try{x=ji(_,2)}catch{}u.current({target:{name:a,value:x}}),h.current=x,p.current=d}else d||(u.current({target:{name:a,value:""}}),h.current="",p.current="")},[d,a,o]);const g=t?l({id:t,defaultMessage:t}):"",v=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",y=l(n);return m.jsxs(at.Root,{error:g,hint:v,name:a,children:[m.jsx(at.Label,{children:y}),m.jsx(Qr,{onChange:s,value:o||"",type:"text"}),m.jsx(at.Error,{})]})},Jy=e=>{if(e instanceof Date&&Ky(e))return e;if(typeof e=="string"||typeof e=="number"){const t=new Date(e);if(Ky(t))return t}},Ky=e=>!isNaN(e.getTime()),IH=e=>{const[t,n]=e.split(":");return`${t}:${n}`},jH=e=>e.split(":").length===2?`${e}:00.000`:e,RH=e=>{if(e)return e.split(":").length>2?IH(e):e},OH=e=>{if(e)return jH(e)},zH=({value:e})=>RH(e),Yy=(e,t,n,r)=>{const a=OH(r);e({target:{name:t,value:a,type:n}})},MH=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:a,labelAction:s,error:o,name:l,onChange:u,onDelete:d,options:p=[],placeholder:h,required:g,step:v,type:y,value:_,isNullable:x,autoFocus:k,attribute:T,attributeName:A,conditionFields:I,...$})=>{const{formatMessage:O}=yt(),U=(pe,N)=>{if(pe&&(N==="minLength"&&N in pe||N==="maxLength"&&N in pe||N==="max"&&N in pe||N==="min"&&N in pe))return pe[N]},{hint:B}=FH({description:n,fieldSchema:{minLength:U(T,"minLength"),maxLength:U(T,"maxLength"),max:U(T,"max"),min:U(T,"min")},type:T?.type||y}),[G,Y]=W.useState(!1),q=t?t[y]:null,le=_??void 0,R=le??"";function J(pe){if(!pe)return null;if(typeof pe=="string")return O({id:pe,defaultMessage:pe});const N={...pe.values};return O({id:pe.id,defaultMessage:pe?.defaultMessage??pe.id},N)}const w=J(o)??void 0;if(q)return m.jsx(q,{...$,attribute:T,description:n,hint:B,disabled:r,intlLabel:a,labelAction:s,error:w||"",name:l,onChange:u,onDelete:d,options:p,required:g,placeholder:h,type:y,value:le,autoFocus:k,attributeName:A,conditionFields:I});const L=a.id?O({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):l,Se=h?O({id:h.id,defaultMessage:h.defaultMessage},{...h.values}):"",ce=()=>{switch(y){case"json":return m.jsx(Xj,{value:le,disabled:r,onChange:pe=>{const N=T&&"required"in T&&!T?.required&&!pe.length?null:pe;u({target:{name:l,value:N}},!1)},minHeight:"25.2rem",maxHeight:"50.4rem"});case"bool":return m.jsx(Yj,{checked:_===null?null:_||!1,disabled:r,offLabel:O({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:O({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:pe=>{u({target:{name:l,value:pe.target.checked}})}});case"checkbox":return m.jsx(Al,{disabled:r,onCheckedChange:pe=>{u({target:{name:l,value:pe}})},checked:!!le,children:L});case"datetime":{const pe=Jy(le);return m.jsx(Kj,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{const Ae=N?N.toISOString():null;u({target:{name:l,value:Ae,type:y}})},onClear:()=>u({target:{name:l,value:null,type:y}}),placeholder:Se,value:pe})}case"date":{const pe=Jy(le);return m.jsx(Jj,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>{u({target:{name:l,value:N?jR(N,{representation:"date"}):null,type:y}})},onClear:()=>u({target:{name:l,value:null,type:y}}),placeholder:Se,value:pe})}case"number":return m.jsx(zv,{disabled:r,onValueChange:pe=>{u({target:{name:l,value:pe,type:y}})},placeholder:Se,step:v,value:le,autoFocus:k});case"email":return m.jsx(Qr,{autoComplete:e,disabled:r,onChange:pe=>{u({target:{name:l,value:pe.target.value,type:y}})},placeholder:Se,type:"email",value:R,autoFocus:k});case"timestamp":case"text":case"string":return m.jsx(Qr,{autoComplete:e,disabled:r,onChange:pe=>{u({target:{name:l,value:pe.target.value,type:y}})},placeholder:Se,type:"text",value:R,autoFocus:k});case"password":return m.jsx(Qr,{autoComplete:e,disabled:r,endAction:m.jsx("button",{"aria-label":O({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{Y(pe=>!pe)},style:{border:"none",padding:0,background:"transparent"},type:"button",children:G?m.jsx(Uv,{fill:"neutral500"}):m.jsx(Gj,{fill:"neutral500"})}),onChange:pe=>{u({target:{name:l,value:pe.target.value,type:y}})},placeholder:Se,type:G?"text":"password",value:R});case"select":return m.jsx(ea,{disabled:r,onChange:pe=>{u({target:{name:l,value:pe,type:"select"}})},placeholder:Se,value:le,children:p.map(({metadatas:{intlLabel:pe,disabled:N,hidden:Ae},key:oe,value:z})=>m.jsx(Kn,{value:z,disabled:N,hidden:Ae,children:O(pe)},oe))});case"textarea":return m.jsx(Hd,{disabled:r,onChange:pe=>u({target:{name:l,value:pe.target.value,type:y}}),placeholder:Se,value:R});case"time":{const pe=zH({value:le});return m.jsx(Vj,{clearLabel:O({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,onChange:N=>Yy(u,l,y,N),onClear:()=>Yy(u,l,y,void 0),value:pe})}default:return m.jsx(Qr,{disabled:!0,placeholder:"Not supported",type:"text",value:""})}};return m.jsxs(at.Root,{error:w,name:l,hint:B,required:g,children:[y!=="checkbox"?m.jsx(at.Label,{action:s,children:L}):null,ce(),m.jsx(at.Error,{}),m.jsx(at.Hint,{})]})},FH=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=yt(),a=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:o,minimum:l}=NH(t),u=$H({type:n,minimum:l,maximum:o}),d=typeof l=="number",p=typeof o=="number",h=p&&d,g=p||d;return!e?.id&&!g?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:l,max:o,description:a(),unit:u?.message&&g?r(u.message,u.values):null,divider:h?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:g?m.jsx("br",{}):null})})()}},$H=({type:e,minimum:t,maximum:n})=>{if(e&&!["string","uid","richtext","email","password","text"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},NH=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:a}=e;let s,o;const l=Number(a),u=Number(t);Number.isNaN(l)?Number.isNaN(u)||(s=u):s=l;const d=Number(r),p=Number(n);return Number.isNaN(d)?Number.isNaN(p)||(o=p):o=d,{maximum:o,minimum:s}},Md=W.memo(MH,So),PH=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:r}=nr(),a=Rl(),s=r.filter($_),o=n[t];if(!o)return null;const l=({uid:u,plugin:d,title:p,restrictRelationsTo:h})=>()=>{const g=d?`${d}_${p}`:p;a(ln.onChangeRelationTarget({target:{value:u,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:g,targetContentTypeAllowedRelations:h}}))};return m.jsxs(Rn.Root,{children:[m.jsx(DH,{children:`${o.info.displayName} ${o.plugin?`(from: ${o.plugin})`:""}`}),m.jsx(Rn.Content,{zIndex:"popover",children:s.map(({uid:u,title:d,restrictRelationsTo:p,plugin:h})=>m.jsxs(Rn.Item,{onSelect:l({uid:u,plugin:h,title:d,restrictRelationsTo:p}),children:[d,"",h&&m.jsxs(m.Fragment,{children:["(from: ",h,")"]})]},u))})]})},DH=xt(Rn.Trigger)`
  max-width: 16.8rem;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Xy=({disabled:e=!1,error:t,header:n,isMain:r=!1,name:a,onChange:s,oneThatIsCreatingARelationWithAnother:o="",target:l,value:u=""})=>m.jsxs(Ne,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[m.jsx(Te,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center",children:r?m.jsx($e,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):m.jsx(PH,{target:l,oneThatIsCreatingARelationWithAnother:o})}),m.jsx(jl,{background:"neutral200"}),m.jsx(Ne,{padding:4,children:m.jsx(Md,{disabled:e,error:t?.id||null,intlLabel:{id:ne("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:a,onChange:s,type:"text",value:u})})]});var LH=eR,BH=Qj,UH="[object RegExp]";function ZH(e){return BH(e)&&LH(e)==UH}var HH=ZH,qH=HH,WH=tR,Qy=nR,ev=Qy&&Qy.isRegExp,VH=ev?WH(ev):qH,GH=VH,JH=rR,KH=JH("length"),YH=KH,D_="\\ud800-\\udfff",XH="\\u0300-\\u036f",QH="\\ufe20-\\ufe2f",eq="\\u20d0-\\u20ff",tq=XH+QH+eq,nq="\\ufe0e\\ufe0f",rq="["+D_+"]",Fd="["+tq+"]",$d="\\ud83c[\\udffb-\\udfff]",aq="(?:"+Fd+"|"+$d+")",L_="[^"+D_+"]",B_="(?:\\ud83c[\\udde6-\\uddff]){2}",U_="[\\ud800-\\udbff][\\udc00-\\udfff]",iq="\\u200d",Z_=aq+"?",H_="["+nq+"]?",oq="(?:"+iq+"(?:"+[L_,B_,U_].join("|")+")"+H_+Z_+")*",sq=H_+Z_+oq,lq="(?:"+[L_+Fd+"?",Fd,B_,U_,rq].join("|")+")",tv=RegExp($d+"(?="+$d+")|"+lq+sq,"g");function cq(e){for(var t=tv.lastIndex=0;tv.test(e);)++t;return t}var uq=cq,dq=YH,pq=Hv,fq=uq;function hq(e){return pq(e)?fq(e):dq(e)}var mq=hq,nv=oR,gq=cR,yq=Hv,vq=aR,bq=GH,xq=mq,_q=lR,wq=iR,rv=sR,kq=30,Cq="...",Sq=/\w*$/;function Eq(e,t){var n=kq,r=Cq;if(vq(t)){var a="separator"in t?t.separator:a;n="length"in t?wq(t.length):n,r="omission"in t?nv(t.omission):r}e=rv(e);var s=e.length;if(yq(e)){var o=_q(e);s=o.length}if(n>=s)return e;var l=n-xq(r);if(l<1)return r;var u=o?gq(o,0,l).join(""):e.slice(0,l);if(a===void 0)return u+r;if(o&&(l+=u.length-l),bq(a)){if(e.slice(l).search(a)){var d,p=u;for(a.global||(a=RegExp(a.source,rv(Sq.exec(a))+"g")),a.lastIndex=0;d=a.exec(p);)var h=d.index;u=u.slice(0,h===void 0?l:h)}}else if(e.indexOf(nv(a),l)!=l){var g=u.lastIndexOf(a);g>-1&&(u=u.slice(0,g))}return u+r}var Tq=Eq;const av=ka(Tq),Aq=xt(Ne)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Iq=xt(Ne)`
  background: ${({theme:e,$isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  flex: 0 0 2.4rem;
  svg {
    width: 2.4rem;
    height: 2.4rem;
    max-width: unset;
    path {
      fill: ${({theme:e,$isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  cursor: pointer;
  &:disabled {
    cursor: not-allowed;
    background: ${({theme:e})=>e.colors.neutral150};

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral300};
      }
    }
  }
  display: flex;
  justify-content: center;
  align-items: center;
`,jq=xt(Te)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Rq={oneWay:$v,oneToOne:Nv,oneToMany:Pv,manyToOne:Lv,manyToMany:Bv,manyWay:Dv},Oq=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],zq=["oneWay","manyWay"],Mq=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:r,targetUid:a})=>{const s=Rl(),{formatMessage:o}=yt(),{contentTypes:l}=nr(),d=(e==="component"?"component":Qt(l,[a,"kind"],""))==="collectionType"?Oq:zq,p=n==="manyToOne",h=Qt(l,[r,"info","displayName"],"unknown"),g=p?h:t,v=p?t:h,y=ji(g,n==="manyToMany"?2:1),_=Qt(l,[r,"restrictRelationsTo"],null),x=ji(v,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?m.jsxs(Te,{style:{flex:1},children:[m.jsx(Aq,{children:m.jsx(Te,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:m.jsx(Gd,{tagName:"button",children:m.jsx(Te,{gap:3,children:d.map(k=>{const T=Rq[k],A=_===null||_.includes(k);return m.jsx(Iq,{tag:"button",$isSelected:n===k,disabled:!A,onClick:()=>{A&&s(ln.onChangeRelationType({target:{oneThatIsCreatingARelationWithAnother:t,value:k}}))},padding:2,type:"button","aria-label":o({id:ne(`relation.${k}`)}),"aria-pressed":n===k,"data-relation-type":k,children:m.jsx(T,{"aria-hidden":"true"},k)},k)})})})})}),m.jsxs(jq,{justifyContent:"center",children:[m.jsxs($e,{children:[av(y,{length:24}),""]}),m.jsxs($e,{textColor:"primary600",children:[o({id:ne(`relation.${n}`)}),""]}),m.jsx($e,{children:av(x,{length:24})})]})]}):null},Fq=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:r,onChange:a,targetUid:s})=>{const o=Jd(n.relation,n.targetAttribute);return m.jsxs(Te,{style:{position:"relative"},children:[m.jsx(Xy,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:a,value:n?.name||""}),m.jsx(Mq,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:t,relationType:o,target:n.target,targetUid:s}),m.jsx(Xy,{disabled:["oneWay","manyWay"].includes(o),error:e?.targetAttribute||null,name:"targetAttribute",onChange:a,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})},$q=({error:e=null,intlLabel:t,name:n,onChange:r,value:a=void 0,isCreating:s,dynamicZoneTarget:o})=>{const{formatMessage:l}=yt(),{allComponentsCategories:u}=nr(),[d,p]=W.useState(u),h=e?l({id:e,defaultMessage:e}):"",g=l(t),v=_=>{r({target:{name:n,value:_,type:"select-category"}})},y=_=>{p(x=>[...x,_]),v(_)};return m.jsxs(at.Root,{error:h,name:n,children:[m.jsx(at.Label,{children:g}),m.jsx(uR,{disabled:!s&&!o,onChange:v,onCreateOption:y,value:a,creatable:!0,children:d.map(_=>m.jsx(dR,{value:_,children:_},_))}),m.jsx(at.Error,{})]})},Nd=(e,t)=>t.find(n=>n.component===e),q_=(e,t,n=0)=>{const r=Nd(e,t);if(!r||!r.childComponents||r.childComponents.length===0)return n;let a=n;return r.childComponents.forEach(s=>{const o=q_(s.component,t,n+1);o>a&&(a=o)}),a},W_=(e,t)=>{const n=(s,o)=>{const l=[];if(l.push(o),!s.uidsOfAllParents)return l;for(const u of s.uidsOfAllParents){const d=Nd(u,t);d&&l.push(...n(d,o+1))}return l},r=Nd(e,t);return r?Math.max(...n(r,1)):0},Nq=({error:e=null,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:r,isCreatingComponentWhileAddingAField:a,componentToCreate:s,name:o,onChange:l,targetUid:u,forTarget:d,value:p})=>{const{formatMessage:h}=yt(),g=e?h({id:e,defaultMessage:e}):"",v=h(t),{componentsGroupedByCategory:y,componentsThatHaveOtherComponentInTheirAttributes:_,nestedComponents:x}=nr(),k=d==="component";let T=Object.entries(y).reduce((A,I)=>{const[$,O]=I,U=O.map(B=>({uid:B.uid,label:B.info.displayName,categoryName:$}));return[...A,...U]},[]);return n&&(T=T.filter(({uid:A})=>{const I=q_(A,_),$=W_(u,x);return I+$<=qv})),k&&(T=T.filter(A=>A.uid!==u)),a&&(T=[{uid:p,label:s?.displayName,categoryName:s?.category}]),m.jsxs(at.Root,{error:g,name:o,children:[m.jsx(at.Label,{children:v}),m.jsx(ea,{disabled:a||!r,onChange:A=>{l({target:{name:o,value:A,type:"select-category"}})},value:p||"",children:T.map(A=>m.jsx(Kn,{value:A.uid,children:`${A.categoryName} - ${A.label}`},A.uid))}),m.jsx(at.Error,{})]})},Pq=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:r,value:a,targetUid:s})=>{const{formatMessage:o}=yt(),{componentsGroupedByCategory:l,contentTypes:u}=nr(),d=zd(u[s].attributes,e);if(!d)return null;const p="components"in d?d?.components:[],h=Object.keys(l).reduce((y,_)=>{const x=l[_].filter(({uid:k})=>!p.includes(k));return x.length>0&&(y[_]=x),y},{}),g=Object.entries(h).reduce((y,_)=>{const[x,k]=_,T={label:x,children:k.map(({uid:A,info:{displayName:I}})=>({label:I,value:A}))};return y.push(T),y},[]),v=o({id:ne("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:a?.length??0});return m.jsxs(at.Root,{name:n,children:[m.jsx(at.Label,{children:o(t)}),m.jsx(jv,{id:"select1",customizeContent:()=>v,onChange:y=>{r({target:{name:n,value:y,type:"select-components"}})},options:g,value:a||[]})]})},Dq=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:l}=yt(),u=l(e),d=t?l({id:t,defaultMessage:t}):"",p=h=>{a({target:{name:r,value:h,type:"select"}}),o&&n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}})};return m.jsxs(at.Root,{error:d,name:r,children:[m.jsx(at.Label,{children:u}),m.jsx(ea,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:g,hidden:v},key:y,value:_})=>m.jsx(Kn,{value:_,disabled:g,hidden:v,children:l({id:h.id,defaultMessage:h.defaultMessage},h.values)},y))}),m.jsx(at.Error,{})]})},Lq=({intlLabel:e,error:t=void 0,modifiedData:n,name:r,onChange:a,options:s,value:o=""})=>{const{formatMessage:l}=yt(),u=l(e),d=t?l({id:t,defaultMessage:t}):"",p=h=>{a({target:{name:r,value:h,type:"select"}}),o&&(h==="biginteger"&&o!=="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})),typeof h=="string"&&["decimal","float","integer"].includes(h)&&o==="biginteger"&&(n.default!==void 0&&n.default!==null&&a({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&a({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&a({target:{name:"min",value:null}})))};return m.jsxs(at.Root,{error:d,name:r,children:[m.jsx(at.Label,{children:u}),m.jsx(ea,{onChange:p,value:o||"",children:s.map(({metadatas:{intlLabel:h,disabled:g,hidden:v},key:y,value:_})=>m.jsx(Kn,{value:_,disabled:g,hidden:v,children:l(h)},y))}),m.jsx(at.Error,{})]})},Bq=({description:e=null,error:t=null,intlLabel:n,modifiedData:r,name:a,onChange:s,value:o=null})=>{const{formatMessage:l}=yt(),u=W.useRef(s),d=W.useRef(o),p=W.useRef(r?.displayName||""),h=r?.displayName||"";W.useEffect(()=>{if(h&&h!==p.current){const _=Zv(h);u.current({target:{name:a,value:_}}),d.current=_,p.current=h}else h||(u.current({target:{name:a,value:""}}),d.current="",p.current="")},[h,a,o]);const g=t?l({id:t,defaultMessage:t}):"",v=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",y=l(n);return m.jsxs(at.Root,{error:g,hint:v,name:a,children:[m.jsx(at.Label,{children:y}),m.jsx(Qr,{onChange:s,value:o||"",type:"text"}),m.jsx(at.Error,{}),m.jsx(at.Hint,{})]})},jW=(e,t)=>{const n=[];return Object.entries(e).forEach(([r,a])=>{if(a.attributes){const s=Array.isArray(a.attributes)?a.attributes.reduce((o,l,u)=>(o[u.toString()]=l,o),{}):a.attributes;Object.entries(s).forEach(([o,l])=>{l.conditions?.visible&&Object.entries(l.conditions.visible).forEach(([,u])=>{const[d]=u;d&&d.var===t&&n.push({contentTypeUid:r,contentType:a.info.displayName,attribute:l.name||o})})})}}),n},Uq=(e,t,n)=>{if(!e?.visible)return"";const[[r,a]]=Object.entries(e.visible),[s,o]=a,l=t.find(g=>g.name===s.var),u=l?l.name:s.var,d=r==="=="?"is":"is not",p=String(o);return`If ${u} ${d} ${p}, then ${r==="=="?"Show":"Hide"} ${n}`},Zq=(e,t)=>e.filter(n=>{const r=n.type==="boolean"||n.type==="enumeration",a=n.name!==t;return r&&a}).map(n=>({name:n.name,type:n.type,enum:n.type==="enumeration"?n.enum:void 0})),iv=({form:e,formErrors:t,genericInputProps:n,modifiedData:r,onChange:a})=>{const{formatMessage:s}=yt();return m.jsx(m.Fragment,{children:e.map((o,l)=>o.items.length===0?null:m.jsxs(Ne,{children:[o.sectionTitle&&m.jsx(Ne,{paddingBottom:4,children:m.jsx($e,{variant:"delta",tag:"h3",children:s(o.sectionTitle)})}),o.intlLabel&&m.jsx($e,{variant:"pi",textColor:"neutral600",children:s(o.intlLabel)}),m.jsx(gr.Root,{gap:4,children:o.items.map((u,d)=>{const p=`${l}.${d}`,h=Qt(r,u.name,void 0),g=Object.keys(t).find(y=>y===u.name),v=g?t[g].id:Qt(t,[...u.name.split(".").filter(y=>y!=="componentToCreate"),"id"],null);if(u.type==="pushRight")return m.jsx(gr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx("div",{})},u.name||p);if(u.type==="condition-form"){const y=Qt(r,u.name),_=n.contentTypeSchema?.attributes||[];if(!n.contentTypeSchema)return console.warn("contentTypeSchema is undefined, skipping condition form"),null;const x=Zq(_,r.name),k=s({id:"form.attribute.condition.no-fields",defaultMessage:"No boolean or enumeration fields available to set conditions on."});return m.jsx(gr.Item,{col:u.size||12,xs:12,direction:"column",alignItems:"stretch",children:!y||Object.keys(y).length===0?m.jsxs(Ne,{children:[y&&Object.keys(y).length>0&&m.jsx($e,{variant:"sigma",textColor:"neutral800",marginBottom:2,children:Uq(y,x,n.attributeName||r.name)}),m.jsx(Ol,{label:k,children:m.jsx(vt,{marginTop:y&&Object.keys(y).length>0?0:4,fullWidth:!0,variant:"secondary",onClick:()=>{a({target:{name:u.name,value:{visible:{"==":[{var:""},""]}}}})},startIcon:m.jsx("span",{"aria-hidden":!0,children:""}),disabled:x.length===0,children:s({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})})})]}):m.jsx(Md,{...u,...n,error:v,onChange:a,value:h,autoFocus:d===0,attributeName:r.name,conditionFields:x,onDelete:()=>{a({target:{name:u.name}})}})},u.name||p)}return m.jsx(gr.Item,{col:u.size||6,xs:12,direction:"column",alignItems:"stretch",children:m.jsx(Md,{...u,...n,error:v,onChange:a,value:h,autoFocus:d===0})},u.name||p)})})]},l))})},Hq=({description:e=null,disabled:t=!1,error:n="",intlLabel:r,labelAction:a,name:s,onChange:o,placeholder:l=null,value:u=""})=>{const{formatMessage:d}=yt(),p=n?d({id:n,defaultMessage:n}):"",h=e?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",g=d(r),v=l?d({id:l.id,defaultMessage:l.defaultMessage},{...l.values}):"",y=Array.isArray(u)?u.join(`
`):"",_=x=>{const k=x.target.value.split(`
`);o({target:{name:s,value:k}})};return m.jsxs(at.Root,{error:p,hint:h,name:s,children:[m.jsx(at.Label,{action:a,children:g}),m.jsx(Hd,{disabled:t,onChange:_,placeholder:v,value:y}),m.jsx(at.Error,{}),m.jsx(at.Hint,{})]})},qq=({disabled:e,tooltipMessage:t,onClick:n,marginTop:r=4})=>{const{formatMessage:a}=yt(),s=m.jsx(vt,{marginTop:r,fullWidth:!0,variant:"secondary",disabled:e,onClick:n,startIcon:m.jsx("span",{"aria-hidden":!0,children:""}),children:a({id:"form.attribute.condition.apply",defaultMessage:"Apply condition"})});return t?m.jsx(Ol,{description:t,children:s}):s},Wq=xt($o)`
  width: 16px !important;
  height: 16px !important;
  svg {
    width: 16px !important;
    height: 16px !important;
  }
`,Vq=e=>{if(!e?.visible)return{dependsOn:"",operator:"is",value:"",action:"show"};const[[t,n]]=Object.entries(e.visible),[r,a]=n;return{dependsOn:r.var,operator:t==="=="?"is":"isNot",value:a,action:"show"}},Gq=e=>{if(!e.dependsOn)return null;const t=Wv(),n={dependsOn:e.dependsOn,operator:e.operator,value:e.value};try{return t.validate(n),{visible:{[e.operator==="is"&&e.action==="show"||e.operator==="isNot"&&e.action==="hide"?"==":"!="]:[{var:e.dependsOn},e.value]}}}catch{return null}},Jq=({name:e,value:t,onChange:n,onDelete:r,attributeName:a,conditionFields:s=[]})=>{const{formatMessage:o}=yt(),[l,u]=W.useState(Vq(t)),[d,p]=W.useState(!1),h=!!t?.visible;Array.isArray(s)||(s=[]);const g=s.find($=>$.name===l.dependsOn),v=g?.type==="enumeration",y=$=>{u($);const O=Wv(),U={dependsOn:$.dependsOn,operator:$.operator,value:$.value};try{O.validate(U);const B=$.operator==="is"&&$.action==="show"||$.operator==="isNot"&&$.action==="hide"?"==":"!=",G=$.dependsOn?{visible:{[B]:[{var:$.dependsOn},$.value]}}:null;G&&n({target:{name:e,value:G}})}catch{}},_=()=>{const $={dependsOn:"",operator:"is",value:"",action:"show"};u($),n({target:{name:e,value:Gq($)}})},x=()=>{u({dependsOn:"",operator:"is",value:"",action:"show"}),n({target:{name:e,value:null}}),r(),p(!1)},k=$=>{const O=$?.toString()||"",B=s.find(Y=>Y.name===O)?.type==="enumeration",G={...l,dependsOn:O,value:O?B?"":!1:l.value};y(G)},T=$=>{const O=$?.toString()||"is",U={...l,operator:O};y(U)},A=$=>{const O=v?$?.toString():$?.toString()==="true",U={...l,value:O};y(U)},I=$=>{const O=$?.toString()||"show",U={...l,action:O};y(U)};return h?m.jsx(Ne,{marginTop:2,children:m.jsxs(Ne,{background:"neutral0",hasRadius:!0,borderColor:"neutral200",borderWidth:.5,borderStyle:"solid",children:[m.jsxs(Te,{justifyContent:"space-between",alignItems:"center",padding:4,children:[m.jsx($e,{variant:"sigma",textColor:"neutral800",children:o({id:ne("form.attribute.condition.title"),defaultMessage:"Condition for {name}"},{name:m.jsx("strong",{children:a})})}),m.jsxs(Ja.Root,{open:d,onOpenChange:p,children:[m.jsx(Ja.Trigger,{children:m.jsx(yr,{label:"Delete",children:m.jsx(Bd,{})})}),m.jsx(No,{onConfirm:x,children:o({id:ne("popUpWarning.bodyMessage.delete-condition"),defaultMessage:"Are you sure you want to delete this condition?"})})]})]}),m.jsxs(Ne,{background:"neutral100",padding:4,children:[m.jsx(Ne,{paddingBottom:2,children:m.jsx($e,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ne("form.attribute.condition.if"),defaultMessage:"IF"})})}),m.jsxs(Te,{gap:4,children:[m.jsx(Ne,{minWidth:0,flex:1,children:m.jsx(at.Root,{name:`${e}.field`,children:m.jsx(ea,{value:l.dependsOn,onChange:k,placeholder:o({id:ne("form.attribute.condition.field"),defaultMessage:"field"}),children:s.map($=>m.jsx(Kn,{value:$.name,children:m.jsxs(Te,{gap:2,alignItems:"center",children:[m.jsx(Wq,{type:$.type}),m.jsx("span",{children:$.name})]})},$.name))})})}),m.jsx(Ne,{minWidth:0,flex:1,children:m.jsx(at.Root,{name:`${e}.operator`,children:m.jsxs(ea,{value:l.operator,onChange:T,disabled:!l.dependsOn,placeholder:o({id:ne("form.attribute.condition.operator"),defaultMessage:"condition"}),children:[m.jsx(Kn,{value:"is",children:o({id:ne("form.attribute.condition.operator.is"),defaultMessage:"is"})}),m.jsx(Kn,{value:"isNot",children:o({id:ne("form.attribute.condition.operator.isNot"),defaultMessage:"is not"})})]})})}),m.jsx(Ne,{minWidth:0,flex:1,children:m.jsx(at.Root,{name:`${e}.value`,children:m.jsx(ea,{value:l.value?.toString()||"",onChange:A,disabled:!l.dependsOn,placeholder:o({id:ne("form.attribute.condition.value"),defaultMessage:"value"}),children:v&&g?.enum?g.enum.map($=>m.jsx(Kn,{value:$,children:$},$)):m.jsxs(m.Fragment,{children:[m.jsx(Kn,{value:"true",children:o({id:ne("form.attribute.condition.value.true"),defaultMessage:"true"})}),m.jsx(Kn,{value:"false",children:o({id:ne("form.attribute.condition.value.false"),defaultMessage:"false"})})]})})})})]})]}),m.jsxs(Ne,{background:"neutral100",padding:4,children:[m.jsx(Ne,{paddingBottom:4,children:m.jsx($e,{variant:"sigma",textColor:"neutral600",style:{textTransform:"uppercase",letterSpacing:1},children:o({id:ne("form.attribute.condition.then"),defaultMessage:"THEN"})})}),m.jsx(Ne,{paddingBottom:4,children:m.jsx(at.Root,{name:`${e}.action`,children:m.jsxs(ea,{value:l.action,onChange:I,placeholder:o({id:ne("form.attribute.condition.action"),defaultMessage:"action"}),children:[m.jsxs(Kn,{value:"show",children:["Show ",m.jsx("span",{style:{fontWeight:"bold"},children:a||e})]}),m.jsxs(Kn,{value:"hide",children:["Hide ",m.jsx("span",{style:{fontWeight:"bold"},children:a||e})]})]})})})]})]})}):m.jsx(Ne,{padding:4,margin:4,hasRadius:!0,background:"neutral0",borderColor:"neutral200",children:m.jsx(qq,{onClick:_})})},Fr={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:ne("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Kq={sections:[{sectionTitle:null,items:[Fr]}]},$i={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:ne("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:ne("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:ne("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Ge={default:{name:"default",type:"text",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:ne("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:ne("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:ne("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:ne("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:ne("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:ne("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:ne("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:ne("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:ne("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Cn={sectionTitle:{id:ne("form.attribute.condition.title"),defaultMessage:"Condition"},intlLabel:{id:ne("form.attribute.condition.description"),defaultMessage:"Toggle field settings depending on the value of another boolean or enumeration field."},items:[{name:"conditions",type:"condition-form",intlLabel:{id:ne("form.attribute.condition.label"),defaultMessage:"Conditions"},validations:{required:!0}}]},Yq={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},component({repeatable:e},t){if(t==="1")return{sections:$i.advanced()};if(e){const n={...Ge.min,intlLabel:{id:ne("form.attribute.item.minimumComponents"),defaultMessage:"Minimum components"}},r={...Ge.max,intlLabel:{id:ne("form.attribute.item.maximumComponents"),defaultMessage:"Maximum components"}};return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private,n,r]},Cn]}}return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...Ge.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.unique,Ge.private]},Cn]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.max,Ge.min]},Cn]}},email(){return{sections:[{sectionTitle:null,items:[{...Ge.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.unique,Ge.maxLength,Ge.minLength,Ge.private]},Cn]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:ne("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:ne("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:ne("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.private]},Cn]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:ne("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.unique,Ge.max,Ge.min,Ge.private]},Cn]}},password(){return{sections:[{sectionTitle:null,items:[Ge.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.maxLength,Ge.minLength,Ge.private]},Cn]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.private]},Cn]}},richtext(){return{sections:[{sectionTitle:null,items:[Ge.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.maxLength,Ge.minLength,Ge.private]},Cn]}},text(){return{sections:[{sectionTitle:null,items:[Ge.default,Ge.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.unique,Ge.maxLength,Ge.minLength,Ge.private]},Cn]}},uid(e){return{sections:[{sectionTitle:null,items:[{...Ge.default,disabled:!!e.targetField,type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Ge.required,Ge.maxLength,Ge.minLength,Ge.private,Ge.regex]},Cn]}}},Pd={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:ne("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:ne("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:ne("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:ne("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Xq={component(e,t){if(t==="1"){const n=e.createComponent===!0?$i.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Pd]},...n]}}return{sections:[{sectionTitle:null,items:[Fr,{name:"component",type:"select-component",intlLabel:{id:ne("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:ne("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:ne("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:ne("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:ne("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Fr,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:ne("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:ne("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:ne("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:ne("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:ne("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:ne("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:ne("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Fr,{intlLabel:{id:ne("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:ne("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ne("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ne("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ne("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ne("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Fr]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:ne("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:ne("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:ne("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:ne("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const r=n.filter(({type:a})=>["string","text"].includes(a)).map(({name:a})=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}));return{sections:[{sectionTitle:null,items:[{...Fr,placeholder:{id:ne("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:ne("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},ov={advanced:Yq,base:Xq};var Qq=pR;function eW(e){return e&&e.length?Qq(e):[]}var tW=eW;const nW=ka(tW),Ju=e=>e?fR(e,{decamelize:!1,lowercase:!1,separator:"_"}):"";var El={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */El.exports;(function(e,t){(function(){function n(te,ge,E){switch(E.length){case 0:return te.call(ge);case 1:return te.call(ge,E[0]);case 2:return te.call(ge,E[0],E[1]);case 3:return te.call(ge,E[0],E[1],E[2])}return te.apply(ge,E)}function r(te,ge,E,Le){for(var Xe=-1,Ue=te==null?0:te.length;++Xe<Ue;){var zn=te[Xe];ge(Le,zn,E(zn),te)}return Le}function a(te,ge){for(var E=-1,Le=te==null?0:te.length;++E<Le&&ge(te[E],E,te)!==!1;);return te}function s(te,ge){for(var E=te==null?0:te.length;E--&&ge(te[E],E,te)!==!1;);return te}function o(te,ge){for(var E=-1,Le=te==null?0:te.length;++E<Le;)if(!ge(te[E],E,te))return!1;return!0}function l(te,ge){for(var E=-1,Le=te==null?0:te.length,Xe=0,Ue=[];++E<Le;){var zn=te[E];ge(zn,E,te)&&(Ue[Xe++]=zn)}return Ue}function u(te,ge){return!!(te!=null&&te.length)&&A(te,ge,0)>-1}function d(te,ge,E){for(var Le=-1,Xe=te==null?0:te.length;++Le<Xe;)if(E(ge,te[Le]))return!0;return!1}function p(te,ge){for(var E=-1,Le=te==null?0:te.length,Xe=Array(Le);++E<Le;)Xe[E]=ge(te[E],E,te);return Xe}function h(te,ge){for(var E=-1,Le=ge.length,Xe=te.length;++E<Le;)te[Xe+E]=ge[E];return te}function g(te,ge,E,Le){var Xe=-1,Ue=te==null?0:te.length;for(Le&&Ue&&(E=te[++Xe]);++Xe<Ue;)E=ge(E,te[Xe],Xe,te);return E}function v(te,ge,E,Le){var Xe=te==null?0:te.length;for(Le&&Xe&&(E=te[--Xe]);Xe--;)E=ge(E,te[Xe],Xe,te);return E}function y(te,ge){for(var E=-1,Le=te==null?0:te.length;++E<Le;)if(ge(te[E],E,te))return!0;return!1}function _(te){return te.split("")}function x(te){return te.match(hw)||[]}function k(te,ge,E){var Le;return E(te,function(Xe,Ue,zn){if(ge(Xe,Ue,zn))return Le=Ue,!1}),Le}function T(te,ge,E,Le){for(var Xe=te.length,Ue=E+(Le?1:-1);Le?Ue--:++Ue<Xe;)if(ge(te[Ue],Ue,te))return Ue;return-1}function A(te,ge,E){return ge===ge?be(te,ge,E):T(te,$,E)}function I(te,ge,E,Le){for(var Xe=E-1,Ue=te.length;++Xe<Ue;)if(Le(te[Xe],ge))return Xe;return-1}function $(te){return te!==te}function O(te,ge){var E=te==null?0:te.length;return E?q(te,ge)/E:ei}function U(te){return function(ge){return ge==null?C:ge[te]}}function B(te){return function(ge){return te==null?C:te[ge]}}function G(te,ge,E,Le,Xe){return Xe(te,function(Ue,zn,mc){E=Le?(Le=!1,Ue):ge(E,Ue,zn,mc)}),E}function Y(te,ge){var E=te.length;for(te.sort(ge);E--;)te[E]=te[E].value;return te}function q(te,ge){for(var E,Le=-1,Xe=te.length;++Le<Xe;){var Ue=ge(te[Le]);Ue!==C&&(E=E===C?Ue:E+Ue)}return E}function le(te,ge){for(var E=-1,Le=Array(te);++E<te;)Le[E]=ge(E);return Le}function R(te,ge){return p(ge,function(E){return[E,te[E]]})}function J(te){return te&&te.slice(0,S(te)+1).replace(sc,"")}function w(te){return function(ge){return te(ge)}}function L(te,ge){return p(ge,function(E){return te[E]})}function Se(te,ge){return te.has(ge)}function ce(te,ge){for(var E=-1,Le=te.length;++E<Le&&A(ge,te[E],0)>-1;);return E}function pe(te,ge){for(var E=te.length;E--&&A(ge,te[E],0)>-1;);return E}function N(te,ge){for(var E=te.length,Le=0;E--;)te[E]===ge&&++Le;return Le}function Ae(te){return"\\"+Yw[te]}function oe(te,ge){return te==null?C:te[ge]}function z(te){return Hw.test(te)}function Me(te){return qw.test(te)}function de(te){for(var ge,E=[];!(ge=te.next()).done;)E.push(ge.value);return E}function ue(te){var ge=-1,E=Array(te.size);return te.forEach(function(Le,Xe){E[++ge]=[Xe,Le]}),E}function nt(te,ge){return function(E){return te(ge(E))}}function He(te,ge){for(var E=-1,Le=te.length,Xe=0,Ue=[];++E<Le;){var zn=te[E];zn!==ge&&zn!==K||(te[E]=K,Ue[Xe++]=E)}return Ue}function he(te){var ge=-1,E=Array(te.size);return te.forEach(function(Le){E[++ge]=Le}),E}function Fe(te){var ge=-1,E=Array(te.size);return te.forEach(function(Le){E[++ge]=[Le,Le]}),E}function be(te,ge,E){for(var Le=E-1,Xe=te.length;++Le<Xe;)if(te[Le]===ge)return Le;return-1}function Oe(te,ge,E){for(var Le=E+1;Le--;)if(te[Le]===ge)return Le;return Le}function Qe(te){return z(te)?fe(te):tk(te)}function et(te){return z(te)?V(te):_(te)}function S(te){for(var ge=te.length;ge--&&uw.test(te.charAt(ge)););return ge}function fe(te){for(var ge=pc.lastIndex=0;pc.test(te);)++ge;return ge}function V(te){return te.match(pc)||[]}function D(te){return te.match(Zw)||[]}var C,ee="4.17.21",_e=200,ke="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",re="Expected a function",ie="Invalid `variable` option passed into `_.template`",ye="__lodash_hash_undefined__",Z=500,K="__lodash_placeholder__",xe=1,Re=2,Ze=4,pt=1,At=2,_t=1,it=2,fn=4,wt=8,Rt=16,ft=32,xr=64,On=128,Lr=256,na=512,Br=30,ra="...",qo=800,Vl=16,Zi=1,Wo=2,Vo=3,Qa=1/0,aa=9007199254740991,Gl=17976931348623157e292,ei=NaN,rr=4294967295,Jl=rr-1,Kl=rr>>>1,Ye=[["ary",On],["bind",_t],["bindKey",it],["curry",wt],["curryRight",Rt],["flip",na],["partial",ft],["partialRight",xr],["rearg",Lr]],Ct="[object Arguments]",rn="[object Array]",ht="[object AsyncFunction]",Vt="[object Boolean]",Gt="[object Date]",vn="[object DOMException]",ti="[object Error]",ni="[object Function]",Go="[object GeneratorFunction]",ar="[object Map]",Ta="[object Number]",J_="[object Null]",Ur="[object Object]",Lp="[object Promise]",K_="[object Proxy]",Hi="[object RegExp]",_r="[object Set]",qi="[object String]",Jo="[object Symbol]",Y_="[object Undefined]",Wi="[object WeakMap]",X_="[object WeakSet]",Vi="[object ArrayBuffer]",ri="[object DataView]",Yl="[object Float32Array]",Xl="[object Float64Array]",Ql="[object Int8Array]",ec="[object Int16Array]",tc="[object Int32Array]",nc="[object Uint8Array]",rc="[object Uint8ClampedArray]",ac="[object Uint16Array]",ic="[object Uint32Array]",Q_=/\b__p \+= '';/g,ew=/\b(__p \+=) '' \+/g,tw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bp=/&(?:amp|lt|gt|quot|#39);/g,Up=/[&<>"']/g,nw=RegExp(Bp.source),rw=RegExp(Up.source),aw=/<%-([\s\S]+?)%>/g,iw=/<%([\s\S]+?)%>/g,Zp=/<%=([\s\S]+?)%>/g,ow=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sw=/^\w*$/,lw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oc=/[\\^$.*+?()[\]{}|]/g,cw=RegExp(oc.source),sc=/^\s+/,uw=/\s/,dw=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pw=/\{\n\/\* \[wrapped with (.+)\] \*/,fw=/,? & /,hw=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mw=/[()=,{}\[\]\/\s]/,gw=/\\(\\)?/g,yw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hp=/\w*$/,vw=/^[-+]0x[0-9a-f]+$/i,bw=/^0b[01]+$/i,xw=/^\[object .+?Constructor\]$/,_w=/^0o[0-7]+$/i,ww=/^(?:0|[1-9]\d*)$/,kw=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ko=/($^)/,Cw=/['\n\r\u2028\u2029\\]/g,Yo="\\ud800-\\udfff",Sw="\\u0300-\\u036f",Ew="\\ufe20-\\ufe2f",Tw="\\u20d0-\\u20ff",qp=Sw+Ew+Tw,Wp="\\u2700-\\u27bf",Vp="a-z\\xdf-\\xf6\\xf8-\\xff",Aw="\\xac\\xb1\\xd7\\xf7",Iw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jw="\\u2000-\\u206f",Rw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gp="A-Z\\xc0-\\xd6\\xd8-\\xde",Jp="\\ufe0e\\ufe0f",Kp=Aw+Iw+jw+Rw,lc="[']",Ow="["+Yo+"]",Yp="["+Kp+"]",Xo="["+qp+"]",Xp="\\d+",zw="["+Wp+"]",Qp="["+Vp+"]",ef="[^"+Yo+Kp+Xp+Wp+Vp+Gp+"]",cc="\\ud83c[\\udffb-\\udfff]",Mw="(?:"+Xo+"|"+cc+")",tf="[^"+Yo+"]",uc="(?:\\ud83c[\\udde6-\\uddff]){2}",dc="[\\ud800-\\udbff][\\udc00-\\udfff]",ai="["+Gp+"]",nf="\\u200d",rf="(?:"+Qp+"|"+ef+")",Fw="(?:"+ai+"|"+ef+")",af="(?:"+lc+"(?:d|ll|m|re|s|t|ve))?",of="(?:"+lc+"(?:D|LL|M|RE|S|T|VE))?",sf=Mw+"?",lf="["+Jp+"]?",$w="(?:"+nf+"(?:"+[tf,uc,dc].join("|")+")"+lf+sf+")*",Nw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cf=lf+sf+$w,Dw="(?:"+[zw,uc,dc].join("|")+")"+cf,Lw="(?:"+[tf+Xo+"?",Xo,uc,dc,Ow].join("|")+")",Bw=RegExp(lc,"g"),Uw=RegExp(Xo,"g"),pc=RegExp(cc+"(?="+cc+")|"+Lw+cf,"g"),Zw=RegExp([ai+"?"+Qp+"+"+af+"(?="+[Yp,ai,"$"].join("|")+")",Fw+"+"+of+"(?="+[Yp,ai+rf,"$"].join("|")+")",ai+"?"+rf+"+"+af,ai+"+"+of,Pw,Nw,Xp,Dw].join("|"),"g"),Hw=RegExp("["+nf+Yo+qp+Jp+"]"),qw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ww=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vw=-1,Bt={};Bt[Yl]=Bt[Xl]=Bt[Ql]=Bt[ec]=Bt[tc]=Bt[nc]=Bt[rc]=Bt[ac]=Bt[ic]=!0,Bt[Ct]=Bt[rn]=Bt[Vi]=Bt[Vt]=Bt[ri]=Bt[Gt]=Bt[ti]=Bt[ni]=Bt[ar]=Bt[Ta]=Bt[Ur]=Bt[Hi]=Bt[_r]=Bt[qi]=Bt[Wi]=!1;var $t={};$t[Ct]=$t[rn]=$t[Vi]=$t[ri]=$t[Vt]=$t[Gt]=$t[Yl]=$t[Xl]=$t[Ql]=$t[ec]=$t[tc]=$t[ar]=$t[Ta]=$t[Ur]=$t[Hi]=$t[_r]=$t[qi]=$t[Jo]=$t[nc]=$t[rc]=$t[ac]=$t[ic]=!0,$t[ti]=$t[ni]=$t[Wi]=!1;var Gw={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Jw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xw=parseFloat,Qw=parseInt,uf=typeof Yn=="object"&&Yn&&Yn.Object===Object&&Yn,ek=typeof self=="object"&&self&&self.Object===Object&&self,bn=uf||ek||Function("return this")(),fc=t&&!t.nodeType&&t,Aa=fc&&!0&&e&&!e.nodeType&&e,df=Aa&&Aa.exports===fc,hc=df&&uf.process,ir=function(){try{var te=Aa&&Aa.require&&Aa.require("util").types;return te||hc&&hc.binding&&hc.binding("util")}catch{}}(),pf=ir&&ir.isArrayBuffer,ff=ir&&ir.isDate,hf=ir&&ir.isMap,mf=ir&&ir.isRegExp,gf=ir&&ir.isSet,yf=ir&&ir.isTypedArray,tk=U("length"),nk=B(Gw),rk=B(Jw),ak=B(Kw),ik=function te(ge){function E(i){if(an(i)&&!ot(i)&&!(i instanceof Ue)){if(i instanceof Xe)return i;if(Ot.call(i,"__wrapped__"))return dh(i)}return new Xe(i)}function Le(){}function Xe(i,c){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=C}function Ue(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=rr,this.__views__=[]}function zn(){var i=new Ue(this.__wrapped__);return i.__actions__=Mn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Mn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Mn(this.__views__),i}function mc(){if(this.__filtered__){var i=new Ue(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function ok(){var i=this.__wrapped__.value(),c=this.__dir__,f=ot(i),b=c<0,j=f?i.length:0,P=m1(0,j,this.__views__),H=P.start,X=P.end,ae=X-H,we=b?X:H-1,ve=this.__iteratees__,Ee=ve.length,Pe=0,qe=_n(ae,this.__takeCount__);if(!f||!b&&j==ae&&qe==ae)return Pf(i,this.__actions__);var Je=[];e:for(;ae--&&Pe<qe;){we+=c;for(var st=-1,Ke=i[we];++st<Ee;){var mt=ve[st],gt=mt.iteratee,kn=mt.type,Pn=gt(Ke);if(kn==Wo)Ke=Pn;else if(!Pn){if(kn==Zi)continue e;break e}}Je[Pe++]=Ke}return Je}function Ia(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var b=i[c];this.set(b[0],b[1])}}function sk(){this.__data__=io?io(null):{},this.size=0}function lk(i){var c=this.has(i)&&delete this.__data__[i];return this.size-=c?1:0,c}function ck(i){var c=this.__data__;if(io){var f=c[i];return f===ye?C:f}return Ot.call(c,i)?c[i]:C}function uk(i){var c=this.__data__;return io?c[i]!==C:Ot.call(c,i)}function dk(i,c){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=io&&c===C?ye:c,this}function Zr(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var b=i[c];this.set(b[0],b[1])}}function pk(){this.__data__=[],this.size=0}function fk(i){var c=this.__data__,f=Qo(c,i);return!(f<0)&&(f==c.length-1?c.pop():Ts.call(c,f,1),--this.size,!0)}function hk(i){var c=this.__data__,f=Qo(c,i);return f<0?C:c[f][1]}function mk(i){return Qo(this.__data__,i)>-1}function gk(i,c){var f=this.__data__,b=Qo(f,i);return b<0?(++this.size,f.push([i,c])):f[b][1]=c,this}function Hr(i){var c=-1,f=i==null?0:i.length;for(this.clear();++c<f;){var b=i[c];this.set(b[0],b[1])}}function yk(){this.size=0,this.__data__={hash:new Ia,map:new(ro||Zr),string:new Ia}}function vk(i){var c=ds(this,i).delete(i);return this.size-=c?1:0,c}function bk(i){return ds(this,i).get(i)}function xk(i){return ds(this,i).has(i)}function _k(i,c){var f=ds(this,i),b=f.size;return f.set(i,c),this.size+=f.size==b?0:1,this}function ja(i){var c=-1,f=i==null?0:i.length;for(this.__data__=new Hr;++c<f;)this.add(i[c])}function wk(i){return this.__data__.set(i,ye),this}function kk(i){return this.__data__.has(i)}function wr(i){this.size=(this.__data__=new Zr(i)).size}function Ck(){this.__data__=new Zr,this.size=0}function Sk(i){var c=this.__data__,f=c.delete(i);return this.size=c.size,f}function Ek(i){return this.__data__.get(i)}function Tk(i){return this.__data__.has(i)}function Ak(i,c){var f=this.__data__;if(f instanceof Zr){var b=f.__data__;if(!ro||b.length<_e-1)return b.push([i,c]),this.size=++f.size,this;f=this.__data__=new Hr(b)}return f.set(i,c),this.size=f.size,this}function vf(i,c){var f=ot(i),b=!f&&$a(i),j=!f&&!b&&ua(i),P=!f&&!b&&!j&&mi(i),H=f||b||j||P,X=H?le(i.length,CE):[],ae=X.length;for(var we in i)!c&&!Ot.call(i,we)||H&&(we=="length"||j&&(we=="offset"||we=="parent")||P&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Gr(we,ae))||X.push(we);return X}function bf(i){var c=i.length;return c?i[Sc(0,c-1)]:C}function Ik(i,c){return ps(Mn(i),Ra(c,0,i.length))}function jk(i){return ps(Mn(i))}function gc(i,c,f){(f===C||kr(i[c],f))&&(f!==C||c in i)||qr(i,c,f)}function Gi(i,c,f){var b=i[c];Ot.call(i,c)&&kr(b,f)&&(f!==C||c in i)||qr(i,c,f)}function Qo(i,c){for(var f=i.length;f--;)if(kr(i[f][0],c))return f;return-1}function Rk(i,c,f,b){return ca(i,function(j,P,H){c(b,j,f(j),H)}),b}function xf(i,c){return i&&Ir(c,yn(c),i)}function Ok(i,c){return i&&Ir(c,$n(c),i)}function qr(i,c,f){c=="__proto__"&&As?As(i,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[c]=f}function yc(i,c){for(var f=-1,b=c.length,j=hn(b),P=i==null;++f<b;)j[f]=P?C:Hc(i,c[f]);return j}function Ra(i,c,f){return i===i&&(f!==C&&(i=i<=f?i:f),c!==C&&(i=i>=c?i:c)),i}function or(i,c,f,b,j,P){var H,X=c&xe,ae=c&Re,we=c&Ze;if(f&&(H=j?f(i,b,j,P):f(i)),H!==C)return H;if(!Yt(i))return i;var ve=ot(i);if(ve){if(H=y1(i),!X)return Mn(i,H)}else{var Ee=wn(i),Pe=Ee==ni||Ee==Go;if(ua(i))return Lf(i,X);if(Ee==Ur||Ee==Ct||Pe&&!j){if(H=ae||Pe?{}:ah(i),!X)return ae?s1(i,Ok(H,i)):o1(i,xf(H,i))}else{if(!$t[Ee])return j?i:{};H=v1(i,Ee,X)}}P||(P=new wr);var qe=P.get(i);if(qe)return qe;P.set(i,H),tm(i)?i.forEach(function(Ke){H.add(or(Ke,c,f,Ke,i,P))}):em(i)&&i.forEach(function(Ke,mt){H.set(mt,or(Ke,c,f,mt,i,P))});var Je=we?ae?$c:Fc:ae?$n:yn,st=ve?C:Je(i);return a(st||i,function(Ke,mt){st&&(mt=Ke,Ke=i[mt]),Gi(H,mt,or(Ke,c,f,mt,i,P))}),H}function zk(i){var c=yn(i);return function(f){return _f(f,i,c)}}function _f(i,c,f){var b=f.length;if(i==null)return!b;for(i=Ut(i);b--;){var j=f[b],P=c[j],H=i[j];if(H===C&&!(j in i)||!P(H))return!1}return!0}function wf(i,c,f){if(typeof i!="function")throw new ur(re);return so(function(){i.apply(C,f)},c)}function Ji(i,c,f,b){var j=-1,P=u,H=!0,X=i.length,ae=[],we=c.length;if(!X)return ae;f&&(c=p(c,w(f))),b?(P=d,H=!1):c.length>=_e&&(P=Se,H=!1,c=new ja(c));e:for(;++j<X;){var ve=i[j],Ee=f==null?ve:f(ve);if(ve=b||ve!==0?ve:0,H&&Ee===Ee){for(var Pe=we;Pe--;)if(c[Pe]===Ee)continue e;ae.push(ve)}else P(c,Ee,b)||ae.push(ve)}return ae}function Mk(i,c){var f=!0;return ca(i,function(b,j,P){return f=!!c(b,j,P)}),f}function es(i,c,f){for(var b=-1,j=i.length;++b<j;){var P=i[b],H=c(P);if(H!=null&&(X===C?H===H&&!Vn(H):f(H,X)))var X=H,ae=P}return ae}function Fk(i,c,f,b){var j=i.length;for(f=lt(f),f<0&&(f=-f>j?0:j+f),b=b===C||b>j?j:lt(b),b<0&&(b+=j),b=f>b?0:Ih(b);f<b;)i[f++]=c;return i}function kf(i,c){var f=[];return ca(i,function(b,j,P){c(b,j,P)&&f.push(b)}),f}function xn(i,c,f,b,j){var P=-1,H=i.length;for(f||(f=x1),j||(j=[]);++P<H;){var X=i[P];c>0&&f(X)?c>1?xn(X,c-1,f,b,j):h(j,X):b||(j[j.length]=X)}return j}function Ar(i,c){return i&&ru(i,c,yn)}function vc(i,c){return i&&Wh(i,c,yn)}function ts(i,c){return l(c,function(f){return Jr(i[f])})}function Oa(i,c){c=oa(c,i);for(var f=0,b=c.length;i!=null&&f<b;)i=i[jr(c[f++])];return f&&f==b?i:C}function Cf(i,c,f){var b=c(i);return ot(i)?b:h(b,f(i))}function En(i){return i==null?i===C?Y_:J_:Fa&&Fa in Ut(i)?h1(i):E1(i)}function bc(i,c){return i>c}function $k(i,c){return i!=null&&Ot.call(i,c)}function Nk(i,c){return i!=null&&c in Ut(i)}function Pk(i,c,f){return i>=_n(c,f)&&i<mn(c,f)}function xc(i,c,f){for(var b=f?d:u,j=i[0].length,P=i.length,H=P,X=hn(P),ae=1/0,we=[];H--;){var ve=i[H];H&&c&&(ve=p(ve,w(c))),ae=_n(ve.length,ae),X[H]=!f&&(c||j>=120&&ve.length>=120)?new ja(H&&ve):C}ve=i[0];var Ee=-1,Pe=X[0];e:for(;++Ee<j&&we.length<ae;){var qe=ve[Ee],Je=c?c(qe):qe;if(qe=f||qe!==0?qe:0,!(Pe?Se(Pe,Je):b(we,Je,f))){for(H=P;--H;){var st=X[H];if(!(st?Se(st,Je):b(i[H],Je,f)))continue e}Pe&&Pe.push(Je),we.push(qe)}}return we}function Dk(i,c,f,b){return Ar(i,function(j,P,H){c(b,f(j),P,H)}),b}function Ki(i,c,f){c=oa(c,i),i=lh(i,c);var b=i==null?i:i[jr(lr(c))];return b==null?C:n(b,i,f)}function Sf(i){return an(i)&&En(i)==Ct}function Lk(i){return an(i)&&En(i)==Vi}function Bk(i){return an(i)&&En(i)==Gt}function Yi(i,c,f,b,j){return i===c||(i==null||c==null||!an(i)&&!an(c)?i!==i&&c!==c:Uk(i,c,f,b,Yi,j))}function Uk(i,c,f,b,j,P){var H=ot(i),X=ot(c),ae=H?rn:wn(i),we=X?rn:wn(c);ae=ae==Ct?Ur:ae,we=we==Ct?Ur:we;var ve=ae==Ur,Ee=we==Ur,Pe=ae==we;if(Pe&&ua(i)){if(!ua(c))return!1;H=!0,ve=!1}if(Pe&&!ve)return P||(P=new wr),H||mi(i)?nh(i,c,f,b,j,P):p1(i,c,ae,f,b,j,P);if(!(f&pt)){var qe=ve&&Ot.call(i,"__wrapped__"),Je=Ee&&Ot.call(c,"__wrapped__");if(qe||Je){var st=qe?i.value():i,Ke=Je?c.value():c;return P||(P=new wr),j(st,Ke,f,b,P)}}return!!Pe&&(P||(P=new wr),f1(i,c,f,b,j,P))}function Zk(i){return an(i)&&wn(i)==ar}function _c(i,c,f,b){var j=f.length,P=j,H=!b;if(i==null)return!P;for(i=Ut(i);j--;){var X=f[j];if(H&&X[2]?X[1]!==i[X[0]]:!(X[0]in i))return!1}for(;++j<P;){X=f[j];var ae=X[0],we=i[ae],ve=X[1];if(H&&X[2]){if(we===C&&!(ae in i))return!1}else{var Ee=new wr;if(b)var Pe=b(we,ve,ae,i,c,Ee);if(!(Pe===C?Yi(ve,we,pt|At,b,Ee):Pe))return!1}}return!0}function Ef(i){return!(!Yt(i)||w1(i))&&(Jr(i)?IE:xw).test(Ma(i))}function Hk(i){return an(i)&&En(i)==Hi}function qk(i){return an(i)&&wn(i)==_r}function Wk(i){return an(i)&&ys(i.length)&&!!Bt[En(i)]}function Tf(i){return typeof i=="function"?i:i==null?Nn:typeof i=="object"?ot(i)?jf(i[0],i[1]):If(i):Fh(i)}function wc(i){if(!eo(i))return FE(i);var c=[];for(var f in Ut(i))Ot.call(i,f)&&f!="constructor"&&c.push(f);return c}function Vk(i){if(!Yt(i))return S1(i);var c=eo(i),f=[];for(var b in i)(b!="constructor"||!c&&Ot.call(i,b))&&f.push(b);return f}function kc(i,c){return i<c}function Af(i,c){var f=-1,b=Fn(i)?hn(i.length):[];return ca(i,function(j,P,H){b[++f]=c(j,P,H)}),b}function If(i){var c=Nc(i);return c.length==1&&c[0][2]?oh(c[0][0],c[0][1]):function(f){return f===i||_c(f,i,c)}}function jf(i,c){return Pc(i)&&ih(c)?oh(jr(i),c):function(f){var b=Hc(f,i);return b===C&&b===c?qc(f,i):Yi(c,b,pt|At)}}function ns(i,c,f,b,j){i!==c&&ru(c,function(P,H){if(j||(j=new wr),Yt(P))Gk(i,c,H,f,ns,b,j);else{var X=b?b(Lc(i,H),P,H+"",i,c,j):C;X===C&&(X=P),gc(i,H,X)}},$n)}function Gk(i,c,f,b,j,P,H){var X=Lc(i,f),ae=Lc(c,f),we=H.get(ae);if(we)return gc(i,f,we),C;var ve=P?P(X,ae,f+"",i,c,H):C,Ee=ve===C;if(Ee){var Pe=ot(ae),qe=!Pe&&ua(ae),Je=!Pe&&!qe&&mi(ae);ve=ae,Pe||qe||Je?ot(X)?ve=X:sn(X)?ve=Mn(X):qe?(Ee=!1,ve=Lf(ae,!0)):Je?(Ee=!1,ve=Bf(ae,!0)):ve=[]:to(ae)||$a(ae)?(ve=X,$a(X)?ve=jh(X):Yt(X)&&!Jr(X)||(ve=ah(ae))):Ee=!1}Ee&&(H.set(ae,ve),j(ve,ae,b,P,H),H.delete(ae)),gc(i,f,ve)}function Rf(i,c){var f=i.length;if(f)return c+=c<0?f:0,Gr(c,f)?i[c]:C}function Of(i,c,f){c=c.length?p(c,function(j){return ot(j)?function(P){return Oa(P,j.length===1?j[0]:j)}:j}):[Nn];var b=-1;return c=p(c,w(tt())),Y(Af(i,function(j,P,H){return{criteria:p(c,function(X){return X(j)}),index:++b,value:j}}),function(j,P){return i1(j,P,f)})}function Jk(i,c){return zf(i,c,function(f,b){return qc(i,b)})}function zf(i,c,f){for(var b=-1,j=c.length,P={};++b<j;){var H=c[b],X=Oa(i,H);f(X,H)&&Xi(P,oa(H,i),X)}return P}function Kk(i){return function(c){return Oa(c,i)}}function Cc(i,c,f,b){var j=b?I:A,P=-1,H=c.length,X=i;for(i===c&&(c=Mn(c)),f&&(X=p(i,w(f)));++P<H;)for(var ae=0,we=c[P],ve=f?f(we):we;(ae=j(X,ve,ae,b))>-1;)X!==i&&Ts.call(X,ae,1),Ts.call(i,ae,1);return i}function Mf(i,c){for(var f=i?c.length:0,b=f-1;f--;){var j=c[f];if(f==b||j!==P){var P=j;Gr(j)?Ts.call(i,j,1):Ac(i,j)}}return i}function Sc(i,c){return i+js(Zh()*(c-i+1))}function Yk(i,c,f,b){for(var j=-1,P=mn(Is((c-i)/(f||1)),0),H=hn(P);P--;)H[b?P:++j]=i,i+=f;return H}function Ec(i,c){var f="";if(!i||c<1||c>aa)return f;do c%2&&(f+=i),c=js(c/2),c&&(i+=i);while(c);return f}function ut(i,c){return ou(sh(i,c,Nn),i+"")}function Xk(i){return bf(ci(i))}function Qk(i,c){var f=ci(i);return ps(f,Ra(c,0,f.length))}function Xi(i,c,f,b){if(!Yt(i))return i;c=oa(c,i);for(var j=-1,P=c.length,H=P-1,X=i;X!=null&&++j<P;){var ae=jr(c[j]),we=f;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return i;if(j!=H){var ve=X[ae];we=b?b(ve,ae,X):C,we===C&&(we=Yt(ve)?ve:Gr(c[j+1])?[]:{})}Gi(X,ae,we),X=X[ae]}return i}function e1(i){return ps(ci(i))}function sr(i,c,f){var b=-1,j=i.length;c<0&&(c=-c>j?0:j+c),f=f>j?j:f,f<0&&(f+=j),j=c>f?0:f-c>>>0,c>>>=0;for(var P=hn(j);++b<j;)P[b]=i[b+c];return P}function t1(i,c){var f;return ca(i,function(b,j,P){return f=c(b,j,P),!f}),!!f}function rs(i,c,f){var b=0,j=i==null?b:i.length;if(typeof c=="number"&&c===c&&j<=Kl){for(;b<j;){var P=b+j>>>1,H=i[P];H!==null&&!Vn(H)&&(f?H<=c:H<c)?b=P+1:j=P}return j}return Tc(i,c,Nn,f)}function Tc(i,c,f,b){var j=0,P=i==null?0:i.length;if(P===0)return 0;c=f(c);for(var H=c!==c,X=c===null,ae=Vn(c),we=c===C;j<P;){var ve=js((j+P)/2),Ee=f(i[ve]),Pe=Ee!==C,qe=Ee===null,Je=Ee===Ee,st=Vn(Ee);if(H)var Ke=b||Je;else Ke=we?Je&&(b||Pe):X?Je&&Pe&&(b||!qe):ae?Je&&Pe&&!qe&&(b||!st):!qe&&!st&&(b?Ee<=c:Ee<c);Ke?j=ve+1:P=ve}return _n(P,Jl)}function Ff(i,c){for(var f=-1,b=i.length,j=0,P=[];++f<b;){var H=i[f],X=c?c(H):H;if(!f||!kr(X,ae)){var ae=X;P[j++]=H===0?0:H}}return P}function $f(i){return typeof i=="number"?i:Vn(i)?ei:+i}function Wn(i){if(typeof i=="string")return i;if(ot(i))return p(i,Wn)+"";if(Vn(i))return Hh?Hh.call(i):"";var c=i+"";return c=="0"&&1/i==-1/0?"-0":c}function ia(i,c,f){var b=-1,j=u,P=i.length,H=!0,X=[],ae=X;if(f)H=!1,j=d;else if(P>=_e){var we=c?null:WE(i);if(we)return he(we);H=!1,j=Se,ae=new ja}else ae=c?[]:X;e:for(;++b<P;){var ve=i[b],Ee=c?c(ve):ve;if(ve=f||ve!==0?ve:0,H&&Ee===Ee){for(var Pe=ae.length;Pe--;)if(ae[Pe]===Ee)continue e;c&&ae.push(Ee),X.push(ve)}else j(ae,Ee,f)||(ae!==X&&ae.push(Ee),X.push(ve))}return X}function Ac(i,c){return c=oa(c,i),i=lh(i,c),i==null||delete i[jr(lr(c))]}function Nf(i,c,f,b){return Xi(i,c,f(Oa(i,c)),b)}function as(i,c,f,b){for(var j=i.length,P=b?j:-1;(b?P--:++P<j)&&c(i[P],P,i););return f?sr(i,b?0:P,b?P+1:j):sr(i,b?P+1:0,b?j:P)}function Pf(i,c){var f=i;return f instanceof Ue&&(f=f.value()),g(c,function(b,j){return j.func.apply(j.thisArg,h([b],j.args))},f)}function Ic(i,c,f){var b=i.length;if(b<2)return b?ia(i[0]):[];for(var j=-1,P=hn(b);++j<b;)for(var H=i[j],X=-1;++X<b;)X!=j&&(P[j]=Ji(P[j]||H,i[X],c,f));return ia(xn(P,1),c,f)}function Df(i,c,f){for(var b=-1,j=i.length,P=c.length,H={};++b<j;)f(H,i[b],b<P?c[b]:C);return H}function jc(i){return sn(i)?i:[]}function Rc(i){return typeof i=="function"?i:Nn}function oa(i,c){return ot(i)?i:Pc(i,c)?[i]:Yh(It(i))}function sa(i,c,f){var b=i.length;return f=f===C?b:f,!c&&f>=b?i:sr(i,c,f)}function Lf(i,c){if(c)return i.slice();var f=i.length,b=Ph?Ph(f):new i.constructor(f);return i.copy(b),b}function Oc(i){var c=new i.constructor(i.byteLength);return new Ss(c).set(new Ss(i)),c}function n1(i,c){return new i.constructor(c?Oc(i.buffer):i.buffer,i.byteOffset,i.byteLength)}function r1(i){var c=new i.constructor(i.source,Hp.exec(i));return c.lastIndex=i.lastIndex,c}function a1(i){return oo?Ut(oo.call(i)):{}}function Bf(i,c){return new i.constructor(c?Oc(i.buffer):i.buffer,i.byteOffset,i.length)}function Uf(i,c){if(i!==c){var f=i!==C,b=i===null,j=i===i,P=Vn(i),H=c!==C,X=c===null,ae=c===c,we=Vn(c);if(!X&&!we&&!P&&i>c||P&&H&&ae&&!X&&!we||b&&H&&ae||!f&&ae||!j)return 1;if(!b&&!P&&!we&&i<c||we&&f&&j&&!b&&!P||X&&f&&j||!H&&j||!ae)return-1}return 0}function i1(i,c,f){for(var b=-1,j=i.criteria,P=c.criteria,H=j.length,X=f.length;++b<H;){var ae=Uf(j[b],P[b]);if(ae)return b>=X?ae:ae*(f[b]=="desc"?-1:1)}return i.index-c.index}function Zf(i,c,f,b){for(var j=-1,P=i.length,H=f.length,X=-1,ae=c.length,we=mn(P-H,0),ve=hn(ae+we),Ee=!b;++X<ae;)ve[X]=c[X];for(;++j<H;)(Ee||j<P)&&(ve[f[j]]=i[j]);for(;we--;)ve[X++]=i[j++];return ve}function Hf(i,c,f,b){for(var j=-1,P=i.length,H=-1,X=f.length,ae=-1,we=c.length,ve=mn(P-X,0),Ee=hn(ve+we),Pe=!b;++j<ve;)Ee[j]=i[j];for(var qe=j;++ae<we;)Ee[qe+ae]=c[ae];for(;++H<X;)(Pe||j<P)&&(Ee[qe+f[H]]=i[j++]);return Ee}function Mn(i,c){var f=-1,b=i.length;for(c||(c=hn(b));++f<b;)c[f]=i[f];return c}function Ir(i,c,f,b){var j=!f;f||(f={});for(var P=-1,H=c.length;++P<H;){var X=c[P],ae=b?b(f[X],i[X],X,f,i):C;ae===C&&(ae=i[X]),j?qr(f,X,ae):Gi(f,X,ae)}return f}function o1(i,c){return Ir(i,iu(i),c)}function s1(i,c){return Ir(i,Jh(i),c)}function is(i,c){return function(f,b){var j=ot(f)?r:Rk,P=c?c():{};return j(f,i,tt(b,2),P)}}function oi(i){return ut(function(c,f){var b=-1,j=f.length,P=j>1?f[j-1]:C,H=j>2?f[2]:C;for(P=i.length>3&&typeof P=="function"?(j--,P):C,H&&Tn(f[0],f[1],H)&&(P=j<3?C:P,j=1),c=Ut(c);++b<j;){var X=f[b];X&&i(c,X,b,P)}return c})}function qf(i,c){return function(f,b){if(f==null)return f;if(!Fn(f))return i(f,b);for(var j=f.length,P=c?j:-1,H=Ut(f);(c?P--:++P<j)&&b(H[P],P,H)!==!1;);return f}}function Wf(i){return function(c,f,b){for(var j=-1,P=Ut(c),H=b(c),X=H.length;X--;){var ae=H[i?X:++j];if(f(P[ae],ae,P)===!1)break}return c}}function l1(i,c,f){function b(){return(this&&this!==bn&&this instanceof b?P:i).apply(j?f:this,arguments)}var j=c&_t,P=Qi(i);return b}function Vf(i){return function(c){c=It(c);var f=z(c)?et(c):C,b=f?f[0]:c.charAt(0),j=f?sa(f,1).join(""):c.slice(1);return b[i]()+j}}function si(i){return function(c){return g(Mh(zh(c).replace(Bw,"")),i,"")}}function Qi(i){return function(){var c=arguments;switch(c.length){case 0:return new i;case 1:return new i(c[0]);case 2:return new i(c[0],c[1]);case 3:return new i(c[0],c[1],c[2]);case 4:return new i(c[0],c[1],c[2],c[3]);case 5:return new i(c[0],c[1],c[2],c[3],c[4]);case 6:return new i(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new i(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=hi(i.prototype),b=i.apply(f,c);return Yt(b)?b:f}}function c1(i,c,f){function b(){for(var P=arguments.length,H=hn(P),X=P,ae=li(b);X--;)H[X]=arguments[X];var we=P<3&&H[0]!==ae&&H[P-1]!==ae?[]:He(H,ae);return P-=we.length,P<f?Xf(i,c,os,b.placeholder,C,H,we,C,C,f-P):n(this&&this!==bn&&this instanceof b?j:i,this,H)}var j=Qi(i);return b}function Gf(i){return function(c,f,b){var j=Ut(c);if(!Fn(c)){var P=tt(f,3);c=yn(c),f=function(X){return P(j[X],X,j)}}var H=i(c,f,b);return H>-1?j[P?c[H]:H]:C}}function Jf(i){return Vr(function(c){var f=c.length,b=f,j=Xe.prototype.thru;for(i&&c.reverse();b--;){var P=c[b];if(typeof P!="function")throw new ur(re);if(j&&!H&&us(P)=="wrapper")var H=new Xe([],!0)}for(b=H?b:f;++b<f;){P=c[b];var X=us(P),ae=X=="wrapper"?au(P):C;H=ae&&Dc(ae[0])&&ae[1]==(On|wt|ft|Lr)&&!ae[4].length&&ae[9]==1?H[us(ae[0])].apply(H,ae[3]):P.length==1&&Dc(P)?H[X]():H.thru(P)}return function(){var we=arguments,ve=we[0];if(H&&we.length==1&&ot(ve))return H.plant(ve).value();for(var Ee=0,Pe=f?c[Ee].apply(this,we):ve;++Ee<f;)Pe=c[Ee].call(this,Pe);return Pe}})}function os(i,c,f,b,j,P,H,X,ae,we){function ve(){for(var mt=arguments.length,gt=hn(mt),kn=mt;kn--;)gt[kn]=arguments[kn];if(Je)var Pn=li(ve),da=N(gt,Pn);if(b&&(gt=Zf(gt,b,j,Je)),P&&(gt=Hf(gt,P,H,Je)),mt-=da,Je&&mt<we)return Xf(i,c,os,ve.placeholder,f,gt,He(gt,Pn),X,ae,we-mt);var on=Pe?f:this,dr=qe?on[i]:i;return mt=gt.length,X?gt=T1(gt,X):st&&mt>1&&gt.reverse(),Ee&&ae<mt&&(gt.length=ae),this&&this!==bn&&this instanceof ve&&(dr=Ke||Qi(dr)),dr.apply(on,gt)}var Ee=c&On,Pe=c&_t,qe=c&it,Je=c&(wt|Rt),st=c&na,Ke=qe?C:Qi(i);return ve}function Kf(i,c){return function(f,b){return Dk(f,i,c(b),{})}}function ss(i,c){return function(f,b){var j;if(f===C&&b===C)return c;if(f!==C&&(j=f),b!==C){if(j===C)return b;typeof f=="string"||typeof b=="string"?(f=Wn(f),b=Wn(b)):(f=$f(f),b=$f(b)),j=i(f,b)}return j}}function zc(i){return Vr(function(c){return c=p(c,w(tt())),ut(function(f){var b=this;return i(c,function(j){return n(j,b,f)})})})}function ls(i,c){c=c===C?" ":Wn(c);var f=c.length;if(f<2)return f?Ec(c,i):c;var b=Ec(c,Is(i/Qe(c)));return z(c)?sa(et(b),0,i).join(""):b.slice(0,i)}function u1(i,c,f,b){function j(){for(var X=-1,ae=arguments.length,we=-1,ve=b.length,Ee=hn(ve+ae),Pe=this&&this!==bn&&this instanceof j?H:i;++we<ve;)Ee[we]=b[we];for(;ae--;)Ee[we++]=arguments[++X];return n(Pe,P?f:this,Ee)}var P=c&_t,H=Qi(i);return j}function Yf(i){return function(c,f,b){return b&&typeof b!="number"&&Tn(c,f,b)&&(f=b=C),c=Kr(c),f===C?(f=c,c=0):f=Kr(f),b=b===C?c<f?1:-1:Kr(b),Yk(c,f,b,i)}}function cs(i){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=cr(c),f=cr(f)),i(c,f)}}function Xf(i,c,f,b,j,P,H,X,ae,we){var ve=c&wt,Ee=ve?H:C,Pe=ve?C:H,qe=ve?P:C,Je=ve?C:P;c|=ve?ft:xr,c&=~(ve?xr:ft),c&fn||(c&=-4);var st=[i,c,j,qe,Ee,Je,Pe,X,ae,we],Ke=f.apply(C,st);return Dc(i)&&Kh(Ke,st),Ke.placeholder=b,ch(Ke,i,c)}function Mc(i){var c=ui[i];return function(f,b){if(f=cr(f),b=b==null?0:_n(lt(b),292),b&&Uh(f)){var j=(It(f)+"e").split("e");return j=(It(c(j[0]+"e"+(+j[1]+b)))+"e").split("e"),+(j[0]+"e"+(+j[1]-b))}return c(f)}}function Qf(i){return function(c){var f=wn(c);return f==ar?ue(c):f==_r?Fe(c):R(c,i(c))}}function Wr(i,c,f,b,j,P,H,X){var ae=c&it;if(!ae&&typeof i!="function")throw new ur(re);var we=b?b.length:0;if(we||(c&=-97,b=j=C),H=H===C?H:mn(lt(H),0),X=X===C?X:lt(X),we-=j?j.length:0,c&xr){var ve=b,Ee=j;b=j=C}var Pe=ae?C:au(i),qe=[i,c,f,b,j,ve,Ee,P,H,X];if(Pe&&C1(qe,Pe),i=qe[0],c=qe[1],f=qe[2],b=qe[3],j=qe[4],X=qe[9]=qe[9]===C?ae?0:i.length:mn(qe[9]-we,0),!X&&c&(wt|Rt)&&(c&=-25),c&&c!=_t)Je=c==wt||c==Rt?c1(i,c,X):c!=ft&&c!=(_t|ft)||j.length?os.apply(C,qe):u1(i,c,f,b);else var Je=l1(i,c,f);return ch((Pe?Vh:Kh)(Je,qe),i,c)}function eh(i,c,f,b){return i===C||kr(i,di[f])&&!Ot.call(b,f)?c:i}function th(i,c,f,b,j,P){return Yt(i)&&Yt(c)&&(P.set(c,i),ns(i,c,C,th,P),P.delete(c)),i}function d1(i){return to(i)?C:i}function nh(i,c,f,b,j,P){var H=f&pt,X=i.length,ae=c.length;if(X!=ae&&!(H&&ae>X))return!1;var we=P.get(i),ve=P.get(c);if(we&&ve)return we==c&&ve==i;var Ee=-1,Pe=!0,qe=f&At?new ja:C;for(P.set(i,c),P.set(c,i);++Ee<X;){var Je=i[Ee],st=c[Ee];if(b)var Ke=H?b(st,Je,Ee,c,i,P):b(Je,st,Ee,i,c,P);if(Ke!==C){if(Ke)continue;Pe=!1;break}if(qe){if(!y(c,function(mt,gt){if(!Se(qe,gt)&&(Je===mt||j(Je,mt,f,b,P)))return qe.push(gt)})){Pe=!1;break}}else if(Je!==st&&!j(Je,st,f,b,P)){Pe=!1;break}}return P.delete(i),P.delete(c),Pe}function p1(i,c,f,b,j,P,H){switch(f){case ri:if(i.byteLength!=c.byteLength||i.byteOffset!=c.byteOffset)return!1;i=i.buffer,c=c.buffer;case Vi:return!(i.byteLength!=c.byteLength||!P(new Ss(i),new Ss(c)));case Vt:case Gt:case Ta:return kr(+i,+c);case ti:return i.name==c.name&&i.message==c.message;case Hi:case qi:return i==c+"";case ar:var X=ue;case _r:var ae=b&pt;if(X||(X=he),i.size!=c.size&&!ae)return!1;var we=H.get(i);if(we)return we==c;b|=At,H.set(i,c);var ve=nh(X(i),X(c),b,j,P,H);return H.delete(i),ve;case Jo:if(oo)return oo.call(i)==oo.call(c)}return!1}function f1(i,c,f,b,j,P){var H=f&pt,X=Fc(i),ae=X.length;if(ae!=Fc(c).length&&!H)return!1;for(var we=ae;we--;){var ve=X[we];if(!(H?ve in c:Ot.call(c,ve)))return!1}var Ee=P.get(i),Pe=P.get(c);if(Ee&&Pe)return Ee==c&&Pe==i;var qe=!0;P.set(i,c),P.set(c,i);for(var Je=H;++we<ae;){ve=X[we];var st=i[ve],Ke=c[ve];if(b)var mt=H?b(Ke,st,ve,c,i,P):b(st,Ke,ve,i,c,P);if(!(mt===C?st===Ke||j(st,Ke,f,b,P):mt)){qe=!1;break}Je||(Je=ve=="constructor")}if(qe&&!Je){var gt=i.constructor,kn=c.constructor;gt!=kn&&"constructor"in i&&"constructor"in c&&!(typeof gt=="function"&&gt instanceof gt&&typeof kn=="function"&&kn instanceof kn)&&(qe=!1)}return P.delete(i),P.delete(c),qe}function Vr(i){return ou(sh(i,C,hh),i+"")}function Fc(i){return Cf(i,yn,iu)}function $c(i){return Cf(i,$n,Jh)}function us(i){for(var c=i.name+"",f=fi[c],b=Ot.call(fi,c)?f.length:0;b--;){var j=f[b],P=j.func;if(P==null||P==i)return j.name}return c}function li(i){return(Ot.call(E,"placeholder")?E:i).placeholder}function tt(){var i=E.iteratee||Vc;return i=i===Vc?Tf:i,arguments.length?i(arguments[0],arguments[1]):i}function ds(i,c){var f=i.__data__;return _1(c)?f[typeof c=="string"?"string":"hash"]:f.map}function Nc(i){for(var c=yn(i),f=c.length;f--;){var b=c[f],j=i[b];c[f]=[b,j,ih(j)]}return c}function za(i,c){var f=oe(i,c);return Ef(f)?f:C}function h1(i){var c=Ot.call(i,Fa),f=i[Fa];try{i[Fa]=C;var b=!0}catch{}var j=ks.call(i);return b&&(c?i[Fa]=f:delete i[Fa]),j}function m1(i,c,f){for(var b=-1,j=f.length;++b<j;){var P=f[b],H=P.size;switch(P.type){case"drop":i+=H;break;case"dropRight":c-=H;break;case"take":c=_n(c,i+H);break;case"takeRight":i=mn(i,c-H)}}return{start:i,end:c}}function g1(i){var c=i.match(pw);return c?c[1].split(fw):[]}function rh(i,c,f){c=oa(c,i);for(var b=-1,j=c.length,P=!1;++b<j;){var H=jr(c[b]);if(!(P=i!=null&&f(i,H)))break;i=i[H]}return P||++b!=j?P:(j=i==null?0:i.length,!!j&&ys(j)&&Gr(H,j)&&(ot(i)||$a(i)))}function y1(i){var c=i.length,f=new i.constructor(c);return c&&typeof i[0]=="string"&&Ot.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function ah(i){return typeof i.constructor!="function"||eo(i)?{}:hi(Es(i))}function v1(i,c,f){var b=i.constructor;switch(c){case Vi:return Oc(i);case Vt:case Gt:return new b(+i);case ri:return n1(i,f);case Yl:case Xl:case Ql:case ec:case tc:case nc:case rc:case ac:case ic:return Bf(i,f);case ar:return new b;case Ta:case qi:return new b(i);case Hi:return r1(i);case _r:return new b;case Jo:return a1(i)}}function b1(i,c){var f=c.length;if(!f)return i;var b=f-1;return c[b]=(f>1?"& ":"")+c[b],c=c.join(f>2?", ":" "),i.replace(dw,`{
/* [wrapped with `+c+`] */
`)}function x1(i){return ot(i)||$a(i)||!!(Bh&&i&&i[Bh])}function Gr(i,c){var f=typeof i;return c=c??aa,!!c&&(f=="number"||f!="symbol"&&ww.test(i))&&i>-1&&i%1==0&&i<c}function Tn(i,c,f){if(!Yt(f))return!1;var b=typeof c;return!!(b=="number"?Fn(f)&&Gr(c,f.length):b=="string"&&c in f)&&kr(f[c],i)}function Pc(i,c){if(ot(i))return!1;var f=typeof i;return!(f!="number"&&f!="symbol"&&f!="boolean"&&i!=null&&!Vn(i))||sw.test(i)||!ow.test(i)||c!=null&&i in Ut(c)}function _1(i){var c=typeof i;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?i!=="__proto__":i===null}function Dc(i){var c=us(i),f=E[c];if(typeof f!="function"||!(c in Ue.prototype))return!1;if(i===f)return!0;var b=au(f);return!!b&&i===b[0]}function w1(i){return!!Nh&&Nh in i}function eo(i){var c=i&&i.constructor;return i===(typeof c=="function"&&c.prototype||di)}function ih(i){return i===i&&!Yt(i)}function oh(i,c){return function(f){return f!=null&&f[i]===c&&(c!==C||i in Ut(f))}}function k1(i){var c=ms(i,function(b){return f.size===Z&&f.clear(),b}),f=c.cache;return c}function C1(i,c){var f=i[1],b=c[1],j=f|b,P=j<(_t|it|On),H=b==On&&f==wt||b==On&&f==Lr&&i[7].length<=c[8]||b==(On|Lr)&&c[7].length<=c[8]&&f==wt;if(!P&&!H)return i;b&_t&&(i[2]=c[2],j|=f&_t?0:fn);var X=c[3];if(X){var ae=i[3];i[3]=ae?Zf(ae,X,c[4]):X,i[4]=ae?He(i[3],K):c[4]}return X=c[5],X&&(ae=i[5],i[5]=ae?Hf(ae,X,c[6]):X,i[6]=ae?He(i[5],K):c[6]),X=c[7],X&&(i[7]=X),b&On&&(i[8]=i[8]==null?c[8]:_n(i[8],c[8])),i[9]==null&&(i[9]=c[9]),i[0]=c[0],i[1]=j,i}function S1(i){var c=[];if(i!=null)for(var f in Ut(i))c.push(f);return c}function E1(i){return ks.call(i)}function sh(i,c,f){return c=mn(c===C?i.length-1:c,0),function(){for(var b=arguments,j=-1,P=mn(b.length-c,0),H=hn(P);++j<P;)H[j]=b[c+j];j=-1;for(var X=hn(c+1);++j<c;)X[j]=b[j];return X[c]=f(H),n(i,this,X)}}function lh(i,c){return c.length<2?i:Oa(i,sr(c,0,-1))}function T1(i,c){for(var f=i.length,b=_n(c.length,f),j=Mn(i);b--;){var P=c[b];i[b]=Gr(P,f)?j[P]:C}return i}function Lc(i,c){if((c!=="constructor"||typeof i[c]!="function")&&c!="__proto__")return i[c]}function ch(i,c,f){var b=c+"";return ou(i,b1(b,A1(g1(b),f)))}function uh(i){var c=0,f=0;return function(){var b=$E(),j=Vl-(b-f);if(f=b,j>0){if(++c>=qo)return arguments[0]}else c=0;return i.apply(C,arguments)}}function ps(i,c){var f=-1,b=i.length,j=b-1;for(c=c===C?b:c;++f<c;){var P=Sc(f,j),H=i[P];i[P]=i[f],i[f]=H}return i.length=c,i}function jr(i){if(typeof i=="string"||Vn(i))return i;var c=i+"";return c=="0"&&1/i==-1/0?"-0":c}function Ma(i){if(i!=null){try{return ws.call(i)}catch{}try{return i+""}catch{}}return""}function A1(i,c){return a(Ye,function(f){var b="_."+f[0];c&f[1]&&!u(i,b)&&i.push(b)}),i.sort()}function dh(i){if(i instanceof Ue)return i.clone();var c=new Xe(i.__wrapped__,i.__chain__);return c.__actions__=Mn(i.__actions__),c.__index__=i.__index__,c.__values__=i.__values__,c}function I1(i,c,f){c=(f?Tn(i,c,f):c===C)?1:mn(lt(c),0);var b=i==null?0:i.length;if(!b||c<1)return[];for(var j=0,P=0,H=hn(Is(b/c));j<b;)H[P++]=sr(i,j,j+=c);return H}function j1(i){for(var c=-1,f=i==null?0:i.length,b=0,j=[];++c<f;){var P=i[c];P&&(j[b++]=P)}return j}function R1(){var i=arguments.length;if(!i)return[];for(var c=hn(i-1),f=arguments[0],b=i;b--;)c[b-1]=arguments[b];return h(ot(f)?Mn(f):[f],xn(c,1))}function O1(i,c,f){var b=i==null?0:i.length;return b?(c=f||c===C?1:lt(c),sr(i,c<0?0:c,b)):[]}function z1(i,c,f){var b=i==null?0:i.length;return b?(c=f||c===C?1:lt(c),c=b-c,sr(i,0,c<0?0:c)):[]}function M1(i,c){return i&&i.length?as(i,tt(c,3),!0,!0):[]}function F1(i,c){return i&&i.length?as(i,tt(c,3),!0):[]}function $1(i,c,f,b){var j=i==null?0:i.length;return j?(f&&typeof f!="number"&&Tn(i,c,f)&&(f=0,b=j),Fk(i,c,f,b)):[]}function ph(i,c,f){var b=i==null?0:i.length;if(!b)return-1;var j=f==null?0:lt(f);return j<0&&(j=mn(b+j,0)),T(i,tt(c,3),j)}function fh(i,c,f){var b=i==null?0:i.length;if(!b)return-1;var j=b-1;return f!==C&&(j=lt(f),j=f<0?mn(b+j,0):_n(j,b-1)),T(i,tt(c,3),j,!0)}function hh(i){return i!=null&&i.length?xn(i,1):[]}function N1(i){return i!=null&&i.length?xn(i,Qa):[]}function P1(i,c){return i!=null&&i.length?(c=c===C?1:lt(c),xn(i,c)):[]}function D1(i){for(var c=-1,f=i==null?0:i.length,b={};++c<f;){var j=i[c];b[j[0]]=j[1]}return b}function mh(i){return i&&i.length?i[0]:C}function L1(i,c,f){var b=i==null?0:i.length;if(!b)return-1;var j=f==null?0:lt(f);return j<0&&(j=mn(b+j,0)),A(i,c,j)}function B1(i){return i!=null&&i.length?sr(i,0,-1):[]}function U1(i,c){return i==null?"":ME.call(i,c)}function lr(i){var c=i==null?0:i.length;return c?i[c-1]:C}function Z1(i,c,f){var b=i==null?0:i.length;if(!b)return-1;var j=b;return f!==C&&(j=lt(f),j=j<0?mn(b+j,0):_n(j,b-1)),c===c?Oe(i,c,j):T(i,$,j,!0)}function H1(i,c){return i&&i.length?Rf(i,lt(c)):C}function gh(i,c){return i&&i.length&&c&&c.length?Cc(i,c):i}function q1(i,c,f){return i&&i.length&&c&&c.length?Cc(i,c,tt(f,2)):i}function W1(i,c,f){return i&&i.length&&c&&c.length?Cc(i,c,C,f):i}function V1(i,c){var f=[];if(!i||!i.length)return f;var b=-1,j=[],P=i.length;for(c=tt(c,3);++b<P;){var H=i[b];c(H,b,i)&&(f.push(H),j.push(b))}return Mf(i,j),f}function Bc(i){return i==null?i:PE.call(i)}function G1(i,c,f){var b=i==null?0:i.length;return b?(f&&typeof f!="number"&&Tn(i,c,f)?(c=0,f=b):(c=c==null?0:lt(c),f=f===C?b:lt(f)),sr(i,c,f)):[]}function J1(i,c){return rs(i,c)}function K1(i,c,f){return Tc(i,c,tt(f,2))}function Y1(i,c){var f=i==null?0:i.length;if(f){var b=rs(i,c);if(b<f&&kr(i[b],c))return b}return-1}function X1(i,c){return rs(i,c,!0)}function Q1(i,c,f){return Tc(i,c,tt(f,2),!0)}function eC(i,c){if(i!=null&&i.length){var f=rs(i,c,!0)-1;if(kr(i[f],c))return f}return-1}function tC(i){return i&&i.length?Ff(i):[]}function nC(i,c){return i&&i.length?Ff(i,tt(c,2)):[]}function rC(i){var c=i==null?0:i.length;return c?sr(i,1,c):[]}function aC(i,c,f){return i&&i.length?(c=f||c===C?1:lt(c),sr(i,0,c<0?0:c)):[]}function iC(i,c,f){var b=i==null?0:i.length;return b?(c=f||c===C?1:lt(c),c=b-c,sr(i,c<0?0:c,b)):[]}function oC(i,c){return i&&i.length?as(i,tt(c,3),!1,!0):[]}function sC(i,c){return i&&i.length?as(i,tt(c,3)):[]}function lC(i){return i&&i.length?ia(i):[]}function cC(i,c){return i&&i.length?ia(i,tt(c,2)):[]}function uC(i,c){return c=typeof c=="function"?c:C,i&&i.length?ia(i,C,c):[]}function Uc(i){if(!i||!i.length)return[];var c=0;return i=l(i,function(f){if(sn(f))return c=mn(f.length,c),!0}),le(c,function(f){return p(i,U(f))})}function yh(i,c){if(!i||!i.length)return[];var f=Uc(i);return c==null?f:p(f,function(b){return n(c,C,b)})}function dC(i,c){return Df(i||[],c||[],Gi)}function pC(i,c){return Df(i||[],c||[],Xi)}function vh(i){var c=E(i);return c.__chain__=!0,c}function fC(i,c){return c(i),i}function fs(i,c){return c(i)}function hC(){return vh(this)}function mC(){return new Xe(this.value(),this.__chain__)}function gC(){this.__values__===C&&(this.__values__=Ah(this.value()));var i=this.__index__>=this.__values__.length;return{done:i,value:i?C:this.__values__[this.__index__++]}}function yC(){return this}function vC(i){for(var c,f=this;f instanceof Le;){var b=dh(f);b.__index__=0,b.__values__=C,c?j.__wrapped__=b:c=b;var j=b;f=f.__wrapped__}return j.__wrapped__=i,c}function bC(){var i=this.__wrapped__;if(i instanceof Ue){var c=i;return this.__actions__.length&&(c=new Ue(this)),c=c.reverse(),c.__actions__.push({func:fs,args:[Bc],thisArg:C}),new Xe(c,this.__chain__)}return this.thru(Bc)}function xC(){return Pf(this.__wrapped__,this.__actions__)}function _C(i,c,f){var b=ot(i)?o:Mk;return f&&Tn(i,c,f)&&(c=C),b(i,tt(c,3))}function wC(i,c){return(ot(i)?l:kf)(i,tt(c,3))}function kC(i,c){return xn(hs(i,c),1)}function CC(i,c){return xn(hs(i,c),Qa)}function SC(i,c,f){return f=f===C?1:lt(f),xn(hs(i,c),f)}function bh(i,c){return(ot(i)?a:ca)(i,tt(c,3))}function xh(i,c){return(ot(i)?s:qh)(i,tt(c,3))}function EC(i,c,f,b){i=Fn(i)?i:ci(i),f=f&&!b?lt(f):0;var j=i.length;return f<0&&(f=mn(j+f,0)),vs(i)?f<=j&&i.indexOf(c,f)>-1:!!j&&A(i,c,f)>-1}function hs(i,c){return(ot(i)?p:Af)(i,tt(c,3))}function TC(i,c,f,b){return i==null?[]:(ot(c)||(c=c==null?[]:[c]),f=b?C:f,ot(f)||(f=f==null?[]:[f]),Of(i,c,f))}function AC(i,c,f){var b=ot(i)?g:G,j=arguments.length<3;return b(i,tt(c,4),f,j,ca)}function IC(i,c,f){var b=ot(i)?v:G,j=arguments.length<3;return b(i,tt(c,4),f,j,qh)}function jC(i,c){return(ot(i)?l:kf)(i,gs(tt(c,3)))}function RC(i){return(ot(i)?bf:Xk)(i)}function OC(i,c,f){return c=(f?Tn(i,c,f):c===C)?1:lt(c),(ot(i)?Ik:Qk)(i,c)}function zC(i){return(ot(i)?jk:e1)(i)}function MC(i){if(i==null)return 0;if(Fn(i))return vs(i)?Qe(i):i.length;var c=wn(i);return c==ar||c==_r?i.size:wc(i).length}function FC(i,c,f){var b=ot(i)?y:t1;return f&&Tn(i,c,f)&&(c=C),b(i,tt(c,3))}function $C(i,c){if(typeof c!="function")throw new ur(re);return i=lt(i),function(){if(--i<1)return c.apply(this,arguments)}}function _h(i,c,f){return c=f?C:c,c=i&&c==null?i.length:c,Wr(i,On,C,C,C,C,c)}function wh(i,c){var f;if(typeof c!="function")throw new ur(re);return i=lt(i),function(){return--i>0&&(f=c.apply(this,arguments)),i<=1&&(c=C),f}}function kh(i,c,f){c=f?C:c;var b=Wr(i,wt,C,C,C,C,C,c);return b.placeholder=kh.placeholder,b}function Ch(i,c,f){c=f?C:c;var b=Wr(i,Rt,C,C,C,C,C,c);return b.placeholder=Ch.placeholder,b}function Sh(i,c,f){function b(on){var dr=Pe,lo=qe;return Pe=qe=C,gt=on,st=i.apply(lo,dr)}function j(on){return gt=on,Ke=so(X,c),kn?b(on):st}function P(on){var dr=on-mt,lo=on-gt,sm=c-dr;return Pn?_n(sm,Je-lo):sm}function H(on){var dr=on-mt,lo=on-gt;return mt===C||dr>=c||dr<0||Pn&&lo>=Je}function X(){var on=zs();return H(on)?ae(on):(Ke=so(X,P(on)),C)}function ae(on){return Ke=C,da&&Pe?b(on):(Pe=qe=C,st)}function we(){Ke!==C&&Gh(Ke),gt=0,Pe=mt=qe=Ke=C}function ve(){return Ke===C?st:ae(zs())}function Ee(){var on=zs(),dr=H(on);if(Pe=arguments,qe=this,mt=on,dr){if(Ke===C)return j(mt);if(Pn)return Gh(Ke),Ke=so(X,c),b(mt)}return Ke===C&&(Ke=so(X,c)),st}var Pe,qe,Je,st,Ke,mt,gt=0,kn=!1,Pn=!1,da=!0;if(typeof i!="function")throw new ur(re);return c=cr(c)||0,Yt(f)&&(kn=!!f.leading,Pn="maxWait"in f,Je=Pn?mn(cr(f.maxWait)||0,c):Je,da="trailing"in f?!!f.trailing:da),Ee.cancel=we,Ee.flush=ve,Ee}function NC(i){return Wr(i,na)}function ms(i,c){if(typeof i!="function"||c!=null&&typeof c!="function")throw new ur(re);var f=function(){var b=arguments,j=c?c.apply(this,b):b[0],P=f.cache;if(P.has(j))return P.get(j);var H=i.apply(this,b);return f.cache=P.set(j,H)||P,H};return f.cache=new(ms.Cache||Hr),f}function gs(i){if(typeof i!="function")throw new ur(re);return function(){var c=arguments;switch(c.length){case 0:return!i.call(this);case 1:return!i.call(this,c[0]);case 2:return!i.call(this,c[0],c[1]);case 3:return!i.call(this,c[0],c[1],c[2])}return!i.apply(this,c)}}function PC(i){return wh(2,i)}function DC(i,c){if(typeof i!="function")throw new ur(re);return c=c===C?c:lt(c),ut(i,c)}function LC(i,c){if(typeof i!="function")throw new ur(re);return c=c==null?0:mn(lt(c),0),ut(function(f){var b=f[c],j=sa(f,0,c);return b&&h(j,b),n(i,this,j)})}function BC(i,c,f){var b=!0,j=!0;if(typeof i!="function")throw new ur(re);return Yt(f)&&(b="leading"in f?!!f.leading:b,j="trailing"in f?!!f.trailing:j),Sh(i,c,{leading:b,maxWait:c,trailing:j})}function UC(i){return _h(i,1)}function ZC(i,c){return lu(Rc(c),i)}function HC(){if(!arguments.length)return[];var i=arguments[0];return ot(i)?i:[i]}function qC(i){return or(i,Ze)}function WC(i,c){return c=typeof c=="function"?c:C,or(i,Ze,c)}function VC(i){return or(i,xe|Ze)}function GC(i,c){return c=typeof c=="function"?c:C,or(i,xe|Ze,c)}function JC(i,c){return c==null||_f(i,c,yn(c))}function kr(i,c){return i===c||i!==i&&c!==c}function Fn(i){return i!=null&&ys(i.length)&&!Jr(i)}function sn(i){return an(i)&&Fn(i)}function KC(i){return i===!0||i===!1||an(i)&&En(i)==Vt}function YC(i){return an(i)&&i.nodeType===1&&!to(i)}function XC(i){if(i==null)return!0;if(Fn(i)&&(ot(i)||typeof i=="string"||typeof i.splice=="function"||ua(i)||mi(i)||$a(i)))return!i.length;var c=wn(i);if(c==ar||c==_r)return!i.size;if(eo(i))return!wc(i).length;for(var f in i)if(Ot.call(i,f))return!1;return!0}function QC(i,c){return Yi(i,c)}function eS(i,c,f){f=typeof f=="function"?f:C;var b=f?f(i,c):C;return b===C?Yi(i,c,C,f):!!b}function Zc(i){if(!an(i))return!1;var c=En(i);return c==ti||c==vn||typeof i.message=="string"&&typeof i.name=="string"&&!to(i)}function tS(i){return typeof i=="number"&&Uh(i)}function Jr(i){if(!Yt(i))return!1;var c=En(i);return c==ni||c==Go||c==ht||c==K_}function Eh(i){return typeof i=="number"&&i==lt(i)}function ys(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=aa}function Yt(i){var c=typeof i;return i!=null&&(c=="object"||c=="function")}function an(i){return i!=null&&typeof i=="object"}function nS(i,c){return i===c||_c(i,c,Nc(c))}function rS(i,c,f){return f=typeof f=="function"?f:C,_c(i,c,Nc(c),f)}function aS(i){return Th(i)&&i!=+i}function iS(i){if(VE(i))throw new Xc(ke);return Ef(i)}function oS(i){return i===null}function sS(i){return i==null}function Th(i){return typeof i=="number"||an(i)&&En(i)==Ta}function to(i){if(!an(i)||En(i)!=Ur)return!1;var c=Es(i);if(c===null)return!0;var f=Ot.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&ws.call(f)==TE}function lS(i){return Eh(i)&&i>=-9007199254740991&&i<=aa}function vs(i){return typeof i=="string"||!ot(i)&&an(i)&&En(i)==qi}function Vn(i){return typeof i=="symbol"||an(i)&&En(i)==Jo}function cS(i){return i===C}function uS(i){return an(i)&&wn(i)==Wi}function dS(i){return an(i)&&En(i)==X_}function Ah(i){if(!i)return[];if(Fn(i))return vs(i)?et(i):Mn(i);if(no&&i[no])return de(i[no]());var c=wn(i);return(c==ar?ue:c==_r?he:ci)(i)}function Kr(i){return i?(i=cr(i),i===Qa||i===-1/0?(i<0?-1:1)*Gl:i===i?i:0):i===0?i:0}function lt(i){var c=Kr(i),f=c%1;return c===c?f?c-f:c:0}function Ih(i){return i?Ra(lt(i),0,rr):0}function cr(i){if(typeof i=="number")return i;if(Vn(i))return ei;if(Yt(i)){var c=typeof i.valueOf=="function"?i.valueOf():i;i=Yt(c)?c+"":c}if(typeof i!="string")return i===0?i:+i;i=J(i);var f=bw.test(i);return f||_w.test(i)?Qw(i.slice(2),f?2:8):vw.test(i)?ei:+i}function jh(i){return Ir(i,$n(i))}function pS(i){return i?Ra(lt(i),-9007199254740991,aa):i===0?i:0}function It(i){return i==null?"":Wn(i)}function fS(i,c){var f=hi(i);return c==null?f:xf(f,c)}function hS(i,c){return k(i,tt(c,3),Ar)}function mS(i,c){return k(i,tt(c,3),vc)}function gS(i,c){return i==null?i:ru(i,tt(c,3),$n)}function yS(i,c){return i==null?i:Wh(i,tt(c,3),$n)}function vS(i,c){return i&&Ar(i,tt(c,3))}function bS(i,c){return i&&vc(i,tt(c,3))}function xS(i){return i==null?[]:ts(i,yn(i))}function _S(i){return i==null?[]:ts(i,$n(i))}function Hc(i,c,f){var b=i==null?C:Oa(i,c);return b===C?f:b}function wS(i,c){return i!=null&&rh(i,c,$k)}function qc(i,c){return i!=null&&rh(i,c,Nk)}function yn(i){return Fn(i)?vf(i):wc(i)}function $n(i){return Fn(i)?vf(i,!0):Vk(i)}function kS(i,c){var f={};return c=tt(c,3),Ar(i,function(b,j,P){qr(f,c(b,j,P),b)}),f}function CS(i,c){var f={};return c=tt(c,3),Ar(i,function(b,j,P){qr(f,j,c(b,j,P))}),f}function SS(i,c){return Rh(i,gs(tt(c)))}function Rh(i,c){if(i==null)return{};var f=p($c(i),function(b){return[b]});return c=tt(c),zf(i,f,function(b,j){return c(b,j[0])})}function ES(i,c,f){c=oa(c,i);var b=-1,j=c.length;for(j||(j=1,i=C);++b<j;){var P=i==null?C:i[jr(c[b])];P===C&&(b=j,P=f),i=Jr(P)?P.call(i):P}return i}function TS(i,c,f){return i==null?i:Xi(i,c,f)}function AS(i,c,f,b){return b=typeof b=="function"?b:C,i==null?i:Xi(i,c,f,b)}function IS(i,c,f){var b=ot(i),j=b||ua(i)||mi(i);if(c=tt(c,4),f==null){var P=i&&i.constructor;f=j?b?new P:[]:Yt(i)&&Jr(P)?hi(Es(i)):{}}return(j?a:Ar)(i,function(H,X,ae){return c(f,H,X,ae)}),f}function jS(i,c){return i==null||Ac(i,c)}function RS(i,c,f){return i==null?i:Nf(i,c,Rc(f))}function OS(i,c,f,b){return b=typeof b=="function"?b:C,i==null?i:Nf(i,c,Rc(f),b)}function ci(i){return i==null?[]:L(i,yn(i))}function zS(i){return i==null?[]:L(i,$n(i))}function MS(i,c,f){return f===C&&(f=c,c=C),f!==C&&(f=cr(f),f=f===f?f:0),c!==C&&(c=cr(c),c=c===c?c:0),Ra(cr(i),c,f)}function FS(i,c,f){return c=Kr(c),f===C?(f=c,c=0):f=Kr(f),i=cr(i),Pk(i,c,f)}function $S(i,c,f){if(f&&typeof f!="boolean"&&Tn(i,c,f)&&(c=f=C),f===C&&(typeof c=="boolean"?(f=c,c=C):typeof i=="boolean"&&(f=i,i=C)),i===C&&c===C?(i=0,c=1):(i=Kr(i),c===C?(c=i,i=0):c=Kr(c)),i>c){var b=i;i=c,c=b}if(f||i%1||c%1){var j=Zh();return _n(i+j*(c-i+Xw("1e-"+((j+"").length-1))),c)}return Sc(i,c)}function Oh(i){return uu(It(i).toLowerCase())}function zh(i){return i=It(i),i&&i.replace(kw,nk).replace(Uw,"")}function NS(i,c,f){i=It(i),c=Wn(c);var b=i.length;f=f===C?b:Ra(lt(f),0,b);var j=f;return f-=c.length,f>=0&&i.slice(f,j)==c}function PS(i){return i=It(i),i&&rw.test(i)?i.replace(Up,rk):i}function DS(i){return i=It(i),i&&cw.test(i)?i.replace(oc,"\\$&"):i}function LS(i,c,f){i=It(i),c=lt(c);var b=c?Qe(i):0;if(!c||b>=c)return i;var j=(c-b)/2;return ls(js(j),f)+i+ls(Is(j),f)}function BS(i,c,f){i=It(i),c=lt(c);var b=c?Qe(i):0;return c&&b<c?i+ls(c-b,f):i}function US(i,c,f){i=It(i),c=lt(c);var b=c?Qe(i):0;return c&&b<c?ls(c-b,f)+i:i}function ZS(i,c,f){return f||c==null?c=0:c&&(c=+c),NE(It(i).replace(sc,""),c||0)}function HS(i,c,f){return c=(f?Tn(i,c,f):c===C)?1:lt(c),Ec(It(i),c)}function qS(){var i=arguments,c=It(i[0]);return i.length<3?c:c.replace(i[1],i[2])}function WS(i,c,f){return f&&typeof f!="number"&&Tn(i,c,f)&&(c=f=C),(f=f===C?rr:f>>>0)?(i=It(i),i&&(typeof c=="string"||c!=null&&!cu(c))&&(c=Wn(c),!c&&z(i))?sa(et(i),0,f):i.split(c,f)):[]}function VS(i,c,f){return i=It(i),f=f==null?0:Ra(lt(f),0,i.length),c=Wn(c),i.slice(f,f+c.length)==c}function GS(i,c,f){var b=E.templateSettings;f&&Tn(i,c,f)&&(c=C),i=It(i),c=Ms({},c,b,eh);var j,P,H=Ms({},c.imports,b.imports,eh),X=yn(H),ae=L(H,X),we=0,ve=c.interpolate||Ko,Ee="__p += '",Pe=Qc((c.escape||Ko).source+"|"+ve.source+"|"+(ve===Zp?yw:Ko).source+"|"+(c.evaluate||Ko).source+"|$","g"),qe="//# sourceURL="+(Ot.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vw+"]")+`
`;i.replace(Pe,function(Ke,mt,gt,kn,Pn,da){return gt||(gt=kn),Ee+=i.slice(we,da).replace(Cw,Ae),mt&&(j=!0,Ee+=`' +
__e(`+mt+`) +
'`),Pn&&(P=!0,Ee+=`';
`+Pn+`;
__p += '`),gt&&(Ee+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),we=da+Ke.length,Ke}),Ee+=`';
`;var Je=Ot.call(c,"variable")&&c.variable;if(Je){if(mw.test(Je))throw new Xc(ie)}else Ee=`with (obj) {
`+Ee+`
}
`;Ee=(P?Ee.replace(Q_,""):Ee).replace(ew,"$1").replace(tw,"$1;"),Ee="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(j?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var st=om(function(){return $h(X,qe+"return "+Ee).apply(C,ae)});if(st.source=Ee,Zc(st))throw st;return st}function JS(i){return It(i).toLowerCase()}function KS(i){return It(i).toUpperCase()}function YS(i,c,f){if(i=It(i),i&&(f||c===C))return J(i);if(!i||!(c=Wn(c)))return i;var b=et(i),j=et(c);return sa(b,ce(b,j),pe(b,j)+1).join("")}function XS(i,c,f){if(i=It(i),i&&(f||c===C))return i.slice(0,S(i)+1);if(!i||!(c=Wn(c)))return i;var b=et(i);return sa(b,0,pe(b,et(c))+1).join("")}function QS(i,c,f){if(i=It(i),i&&(f||c===C))return i.replace(sc,"");if(!i||!(c=Wn(c)))return i;var b=et(i);return sa(b,ce(b,et(c))).join("")}function eE(i,c){var f=Br,b=ra;if(Yt(c)){var j="separator"in c?c.separator:j;f="length"in c?lt(c.length):f,b="omission"in c?Wn(c.omission):b}i=It(i);var P=i.length;if(z(i)){var H=et(i);P=H.length}if(f>=P)return i;var X=f-Qe(b);if(X<1)return b;var ae=H?sa(H,0,X).join(""):i.slice(0,X);if(j===C)return ae+b;if(H&&(X+=ae.length-X),cu(j)){if(i.slice(X).search(j)){var we,ve=ae;for(j.global||(j=Qc(j.source,It(Hp.exec(j))+"g")),j.lastIndex=0;we=j.exec(ve);)var Ee=we.index;ae=ae.slice(0,Ee===C?X:Ee)}}else if(i.indexOf(Wn(j),X)!=X){var Pe=ae.lastIndexOf(j);Pe>-1&&(ae=ae.slice(0,Pe))}return ae+b}function tE(i){return i=It(i),i&&nw.test(i)?i.replace(Bp,ak):i}function Mh(i,c,f){return i=It(i),c=f?C:c,c===C?Me(i)?D(i):x(i):i.match(c)||[]}function nE(i){var c=i==null?0:i.length,f=tt();return i=c?p(i,function(b){if(typeof b[1]!="function")throw new ur(re);return[f(b[0]),b[1]]}):[],ut(function(b){for(var j=-1;++j<c;){var P=i[j];if(n(P[0],this,b))return n(P[1],this,b)}})}function rE(i){return zk(or(i,xe))}function Wc(i){return function(){return i}}function aE(i,c){return i==null||i!==i?c:i}function Nn(i){return i}function Vc(i){return Tf(typeof i=="function"?i:or(i,xe))}function iE(i){return If(or(i,xe))}function oE(i,c){return jf(i,or(c,xe))}function Gc(i,c,f){var b=yn(c),j=ts(c,b);f!=null||Yt(c)&&(j.length||!b.length)||(f=c,c=i,i=this,j=ts(c,yn(c)));var P=!(Yt(f)&&"chain"in f&&!f.chain),H=Jr(i);return a(j,function(X){var ae=c[X];i[X]=ae,H&&(i.prototype[X]=function(){var we=this.__chain__;if(P||we){var ve=i(this.__wrapped__);return(ve.__actions__=Mn(this.__actions__)).push({func:ae,args:arguments,thisArg:i}),ve.__chain__=we,ve}return ae.apply(i,h([this.value()],arguments))})}),i}function sE(){return bn._===this&&(bn._=AE),this}function Jc(){}function lE(i){return i=lt(i),ut(function(c){return Rf(c,i)})}function Fh(i){return Pc(i)?U(jr(i)):Kk(i)}function cE(i){return function(c){return i==null?C:Oa(i,c)}}function Kc(){return[]}function Yc(){return!1}function uE(){return{}}function dE(){return""}function pE(){return!0}function fE(i,c){if(i=lt(i),i<1||i>aa)return[];var f=rr,b=_n(i,rr);c=tt(c),i-=rr;for(var j=le(b,c);++f<i;)c(f);return j}function hE(i){return ot(i)?p(i,jr):Vn(i)?[i]:Mn(Yh(It(i)))}function mE(i){var c=++EE;return It(i)+c}function gE(i){return i&&i.length?es(i,Nn,bc):C}function yE(i,c){return i&&i.length?es(i,tt(c,2),bc):C}function vE(i){return O(i,Nn)}function bE(i,c){return O(i,tt(c,2))}function xE(i){return i&&i.length?es(i,Nn,kc):C}function _E(i,c){return i&&i.length?es(i,tt(c,2),kc):C}function wE(i){return i&&i.length?q(i,Nn):0}function kE(i,c){return i&&i.length?q(i,tt(c,2)):0}ge=ge==null?bn:ii.defaults(bn.Object(),ge,ii.pick(bn,Ww));var hn=ge.Array,bs=ge.Date,Xc=ge.Error,$h=ge.Function,ui=ge.Math,Ut=ge.Object,Qc=ge.RegExp,CE=ge.String,ur=ge.TypeError,xs=hn.prototype,SE=$h.prototype,di=Ut.prototype,_s=ge["__core-js_shared__"],ws=SE.toString,Ot=di.hasOwnProperty,EE=0,Nh=function(){var i=/[^.]+$/.exec(_s&&_s.keys&&_s.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ks=di.toString,TE=ws.call(Ut),AE=bn._,IE=Qc("^"+ws.call(Ot).replace(oc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cs=df?ge.Buffer:C,la=ge.Symbol,Ss=ge.Uint8Array,Ph=Cs?Cs.allocUnsafe:C,Es=nt(Ut.getPrototypeOf,Ut),Dh=Ut.create,Lh=di.propertyIsEnumerable,Ts=xs.splice,Bh=la?la.isConcatSpreadable:C,no=la?la.iterator:C,Fa=la?la.toStringTag:C,As=function(){try{var i=za(Ut,"defineProperty");return i({},"",{}),i}catch{}}(),jE=ge.clearTimeout!==bn.clearTimeout&&ge.clearTimeout,RE=bs&&bs.now!==bn.Date.now&&bs.now,OE=ge.setTimeout!==bn.setTimeout&&ge.setTimeout,Is=ui.ceil,js=ui.floor,eu=Ut.getOwnPropertySymbols,zE=Cs?Cs.isBuffer:C,Uh=ge.isFinite,ME=xs.join,FE=nt(Ut.keys,Ut),mn=ui.max,_n=ui.min,$E=bs.now,NE=ge.parseInt,Zh=ui.random,PE=xs.reverse,tu=za(ge,"DataView"),ro=za(ge,"Map"),nu=za(ge,"Promise"),pi=za(ge,"Set"),ao=za(ge,"WeakMap"),io=za(Ut,"create"),Rs=ao&&new ao,fi={},DE=Ma(tu),LE=Ma(ro),BE=Ma(nu),UE=Ma(pi),ZE=Ma(ao),Os=la?la.prototype:C,oo=Os?Os.valueOf:C,Hh=Os?Os.toString:C,hi=function(){function i(){}return function(c){if(!Yt(c))return{};if(Dh)return Dh(c);i.prototype=c;var f=new i;return i.prototype=C,f}}();E.templateSettings={escape:aw,evaluate:iw,interpolate:Zp,variable:"",imports:{_:E}},E.prototype=Le.prototype,E.prototype.constructor=E,Xe.prototype=hi(Le.prototype),Xe.prototype.constructor=Xe,Ue.prototype=hi(Le.prototype),Ue.prototype.constructor=Ue,Ia.prototype.clear=sk,Ia.prototype.delete=lk,Ia.prototype.get=ck,Ia.prototype.has=uk,Ia.prototype.set=dk,Zr.prototype.clear=pk,Zr.prototype.delete=fk,Zr.prototype.get=hk,Zr.prototype.has=mk,Zr.prototype.set=gk,Hr.prototype.clear=yk,Hr.prototype.delete=vk,Hr.prototype.get=bk,Hr.prototype.has=xk,Hr.prototype.set=_k,ja.prototype.add=ja.prototype.push=wk,ja.prototype.has=kk,wr.prototype.clear=Ck,wr.prototype.delete=Sk,wr.prototype.get=Ek,wr.prototype.has=Tk,wr.prototype.set=Ak;var ca=qf(Ar),qh=qf(vc,!0),ru=Wf(),Wh=Wf(!0),Vh=Rs?function(i,c){return Rs.set(i,c),i}:Nn,HE=As?function(i,c){return As(i,"toString",{configurable:!0,enumerable:!1,value:Wc(c),writable:!0})}:Nn,qE=ut,Gh=jE||function(i){return bn.clearTimeout(i)},WE=pi&&1/he(new pi([,-0]))[1]==Qa?function(i){return new pi(i)}:Jc,au=Rs?function(i){return Rs.get(i)}:Jc,iu=eu?function(i){return i==null?[]:(i=Ut(i),l(eu(i),function(c){return Lh.call(i,c)}))}:Kc,Jh=eu?function(i){for(var c=[];i;)h(c,iu(i)),i=Es(i);return c}:Kc,wn=En;(tu&&wn(new tu(new ArrayBuffer(1)))!=ri||ro&&wn(new ro)!=ar||nu&&wn(nu.resolve())!=Lp||pi&&wn(new pi)!=_r||ao&&wn(new ao)!=Wi)&&(wn=function(i){var c=En(i),f=c==Ur?i.constructor:C,b=f?Ma(f):"";if(b)switch(b){case DE:return ri;case LE:return ar;case BE:return Lp;case UE:return _r;case ZE:return Wi}return c});var VE=_s?Jr:Yc,Kh=uh(Vh),so=OE||function(i,c){return bn.setTimeout(i,c)},ou=uh(HE),Yh=k1(function(i){var c=[];return i.charCodeAt(0)===46&&c.push(""),i.replace(lw,function(f,b,j,P){c.push(j?P.replace(gw,"$1"):b||f)}),c}),GE=ut(function(i,c){return sn(i)?Ji(i,xn(c,1,sn,!0)):[]}),JE=ut(function(i,c){var f=lr(c);return sn(f)&&(f=C),sn(i)?Ji(i,xn(c,1,sn,!0),tt(f,2)):[]}),KE=ut(function(i,c){var f=lr(c);return sn(f)&&(f=C),sn(i)?Ji(i,xn(c,1,sn,!0),C,f):[]}),YE=ut(function(i){var c=p(i,jc);return c.length&&c[0]===i[0]?xc(c):[]}),XE=ut(function(i){var c=lr(i),f=p(i,jc);return c===lr(f)?c=C:f.pop(),f.length&&f[0]===i[0]?xc(f,tt(c,2)):[]}),QE=ut(function(i){var c=lr(i),f=p(i,jc);return c=typeof c=="function"?c:C,c&&f.pop(),f.length&&f[0]===i[0]?xc(f,C,c):[]}),eT=ut(gh),tT=Vr(function(i,c){var f=i==null?0:i.length,b=yc(i,c);return Mf(i,p(c,function(j){return Gr(j,f)?+j:j}).sort(Uf)),b}),nT=ut(function(i){return ia(xn(i,1,sn,!0))}),rT=ut(function(i){var c=lr(i);return sn(c)&&(c=C),ia(xn(i,1,sn,!0),tt(c,2))}),aT=ut(function(i){var c=lr(i);return c=typeof c=="function"?c:C,ia(xn(i,1,sn,!0),C,c)}),iT=ut(function(i,c){return sn(i)?Ji(i,c):[]}),oT=ut(function(i){return Ic(l(i,sn))}),sT=ut(function(i){var c=lr(i);return sn(c)&&(c=C),Ic(l(i,sn),tt(c,2))}),lT=ut(function(i){var c=lr(i);return c=typeof c=="function"?c:C,Ic(l(i,sn),C,c)}),cT=ut(Uc),uT=ut(function(i){var c=i.length,f=c>1?i[c-1]:C;return f=typeof f=="function"?(i.pop(),f):C,yh(i,f)}),dT=Vr(function(i){var c=i.length,f=c?i[0]:0,b=this.__wrapped__,j=function(P){return yc(P,i)};return!(c>1||this.__actions__.length)&&b instanceof Ue&&Gr(f)?(b=b.slice(f,+f+(c?1:0)),b.__actions__.push({func:fs,args:[j],thisArg:C}),new Xe(b,this.__chain__).thru(function(P){return c&&!P.length&&P.push(C),P})):this.thru(j)}),pT=is(function(i,c,f){Ot.call(i,f)?++i[f]:qr(i,f,1)}),fT=Gf(ph),hT=Gf(fh),mT=is(function(i,c,f){Ot.call(i,f)?i[f].push(c):qr(i,f,[c])}),gT=ut(function(i,c,f){var b=-1,j=typeof c=="function",P=Fn(i)?hn(i.length):[];return ca(i,function(H){P[++b]=j?n(c,H,f):Ki(H,c,f)}),P}),yT=is(function(i,c,f){qr(i,f,c)}),vT=is(function(i,c,f){i[f?0:1].push(c)},function(){return[[],[]]}),bT=ut(function(i,c){if(i==null)return[];var f=c.length;return f>1&&Tn(i,c[0],c[1])?c=[]:f>2&&Tn(c[0],c[1],c[2])&&(c=[c[0]]),Of(i,xn(c,1),[])}),zs=RE||function(){return bn.Date.now()},su=ut(function(i,c,f){var b=_t;if(f.length){var j=He(f,li(su));b|=ft}return Wr(i,b,c,f,j)}),Xh=ut(function(i,c,f){var b=_t|it;if(f.length){var j=He(f,li(Xh));b|=ft}return Wr(c,b,i,f,j)}),xT=ut(function(i,c){return wf(i,1,c)}),_T=ut(function(i,c,f){return wf(i,cr(c)||0,f)});ms.Cache=Hr;var wT=qE(function(i,c){c=c.length==1&&ot(c[0])?p(c[0],w(tt())):p(xn(c,1),w(tt()));var f=c.length;return ut(function(b){for(var j=-1,P=_n(b.length,f);++j<P;)b[j]=c[j].call(this,b[j]);return n(i,this,b)})}),lu=ut(function(i,c){return Wr(i,ft,C,c,He(c,li(lu)))}),Qh=ut(function(i,c){return Wr(i,xr,C,c,He(c,li(Qh)))}),kT=Vr(function(i,c){return Wr(i,Lr,C,C,C,c)}),CT=cs(bc),ST=cs(function(i,c){return i>=c}),$a=Sf(function(){return arguments}())?Sf:function(i){return an(i)&&Ot.call(i,"callee")&&!Lh.call(i,"callee")},ot=hn.isArray,ET=pf?w(pf):Lk,ua=zE||Yc,TT=ff?w(ff):Bk,em=hf?w(hf):Zk,cu=mf?w(mf):Hk,tm=gf?w(gf):qk,mi=yf?w(yf):Wk,AT=cs(kc),IT=cs(function(i,c){return i<=c}),jT=oi(function(i,c){if(eo(c)||Fn(c))return Ir(c,yn(c),i),C;for(var f in c)Ot.call(c,f)&&Gi(i,f,c[f])}),nm=oi(function(i,c){Ir(c,$n(c),i)}),Ms=oi(function(i,c,f,b){Ir(c,$n(c),i,b)}),RT=oi(function(i,c,f,b){Ir(c,yn(c),i,b)}),OT=Vr(yc),zT=ut(function(i,c){i=Ut(i);var f=-1,b=c.length,j=b>2?c[2]:C;for(j&&Tn(c[0],c[1],j)&&(b=1);++f<b;)for(var P=c[f],H=$n(P),X=-1,ae=H.length;++X<ae;){var we=H[X],ve=i[we];(ve===C||kr(ve,di[we])&&!Ot.call(i,we))&&(i[we]=P[we])}return i}),MT=ut(function(i){return i.push(C,th),n(rm,C,i)}),FT=Kf(function(i,c,f){c!=null&&typeof c.toString!="function"&&(c=ks.call(c)),i[c]=f},Wc(Nn)),$T=Kf(function(i,c,f){c!=null&&typeof c.toString!="function"&&(c=ks.call(c)),Ot.call(i,c)?i[c].push(f):i[c]=[f]},tt),NT=ut(Ki),PT=oi(function(i,c,f){ns(i,c,f)}),rm=oi(function(i,c,f,b){ns(i,c,f,b)}),DT=Vr(function(i,c){var f={};if(i==null)return f;var b=!1;c=p(c,function(P){return P=oa(P,i),b||(b=P.length>1),P}),Ir(i,$c(i),f),b&&(f=or(f,xe|Re|Ze,d1));for(var j=c.length;j--;)Ac(f,c[j]);return f}),LT=Vr(function(i,c){return i==null?{}:Jk(i,c)}),am=Qf(yn),im=Qf($n),BT=si(function(i,c,f){return c=c.toLowerCase(),i+(f?Oh(c):c)}),UT=si(function(i,c,f){return i+(f?"-":"")+c.toLowerCase()}),ZT=si(function(i,c,f){return i+(f?" ":"")+c.toLowerCase()}),HT=Vf("toLowerCase"),qT=si(function(i,c,f){return i+(f?"_":"")+c.toLowerCase()}),WT=si(function(i,c,f){return i+(f?" ":"")+uu(c)}),VT=si(function(i,c,f){return i+(f?" ":"")+c.toUpperCase()}),uu=Vf("toUpperCase"),om=ut(function(i,c){try{return n(i,C,c)}catch(f){return Zc(f)?f:new Xc(f)}}),GT=Vr(function(i,c){return a(c,function(f){f=jr(f),qr(i,f,su(i[f],i))}),i}),JT=Jf(),KT=Jf(!0),YT=ut(function(i,c){return function(f){return Ki(f,i,c)}}),XT=ut(function(i,c){return function(f){return Ki(i,f,c)}}),QT=zc(p),eA=zc(o),tA=zc(y),nA=Yf(),rA=Yf(!0),aA=ss(function(i,c){return i+c},0),iA=Mc("ceil"),oA=ss(function(i,c){return i/c},1),sA=Mc("floor"),lA=ss(function(i,c){return i*c},1),cA=Mc("round"),uA=ss(function(i,c){return i-c},0);return E.after=$C,E.ary=_h,E.assign=jT,E.assignIn=nm,E.assignInWith=Ms,E.assignWith=RT,E.at=OT,E.before=wh,E.bind=su,E.bindAll=GT,E.bindKey=Xh,E.castArray=HC,E.chain=vh,E.chunk=I1,E.compact=j1,E.concat=R1,E.cond=nE,E.conforms=rE,E.constant=Wc,E.countBy=pT,E.create=fS,E.curry=kh,E.curryRight=Ch,E.debounce=Sh,E.defaults=zT,E.defaultsDeep=MT,E.defer=xT,E.delay=_T,E.difference=GE,E.differenceBy=JE,E.differenceWith=KE,E.drop=O1,E.dropRight=z1,E.dropRightWhile=M1,E.dropWhile=F1,E.fill=$1,E.filter=wC,E.flatMap=kC,E.flatMapDeep=CC,E.flatMapDepth=SC,E.flatten=hh,E.flattenDeep=N1,E.flattenDepth=P1,E.flip=NC,E.flow=JT,E.flowRight=KT,E.fromPairs=D1,E.functions=xS,E.functionsIn=_S,E.groupBy=mT,E.initial=B1,E.intersection=YE,E.intersectionBy=XE,E.intersectionWith=QE,E.invert=FT,E.invertBy=$T,E.invokeMap=gT,E.iteratee=Vc,E.keyBy=yT,E.keys=yn,E.keysIn=$n,E.map=hs,E.mapKeys=kS,E.mapValues=CS,E.matches=iE,E.matchesProperty=oE,E.memoize=ms,E.merge=PT,E.mergeWith=rm,E.method=YT,E.methodOf=XT,E.mixin=Gc,E.negate=gs,E.nthArg=lE,E.omit=DT,E.omitBy=SS,E.once=PC,E.orderBy=TC,E.over=QT,E.overArgs=wT,E.overEvery=eA,E.overSome=tA,E.partial=lu,E.partialRight=Qh,E.partition=vT,E.pick=LT,E.pickBy=Rh,E.property=Fh,E.propertyOf=cE,E.pull=eT,E.pullAll=gh,E.pullAllBy=q1,E.pullAllWith=W1,E.pullAt=tT,E.range=nA,E.rangeRight=rA,E.rearg=kT,E.reject=jC,E.remove=V1,E.rest=DC,E.reverse=Bc,E.sampleSize=OC,E.set=TS,E.setWith=AS,E.shuffle=zC,E.slice=G1,E.sortBy=bT,E.sortedUniq=tC,E.sortedUniqBy=nC,E.split=WS,E.spread=LC,E.tail=rC,E.take=aC,E.takeRight=iC,E.takeRightWhile=oC,E.takeWhile=sC,E.tap=fC,E.throttle=BC,E.thru=fs,E.toArray=Ah,E.toPairs=am,E.toPairsIn=im,E.toPath=hE,E.toPlainObject=jh,E.transform=IS,E.unary=UC,E.union=nT,E.unionBy=rT,E.unionWith=aT,E.uniq=lC,E.uniqBy=cC,E.uniqWith=uC,E.unset=jS,E.unzip=Uc,E.unzipWith=yh,E.update=RS,E.updateWith=OS,E.values=ci,E.valuesIn=zS,E.without=iT,E.words=Mh,E.wrap=ZC,E.xor=oT,E.xorBy=sT,E.xorWith=lT,E.zip=cT,E.zipObject=dC,E.zipObjectDeep=pC,E.zipWith=uT,E.entries=am,E.entriesIn=im,E.extend=nm,E.extendWith=Ms,Gc(E,E),E.add=aA,E.attempt=om,E.camelCase=BT,E.capitalize=Oh,E.ceil=iA,E.clamp=MS,E.clone=qC,E.cloneDeep=VC,E.cloneDeepWith=GC,E.cloneWith=WC,E.conformsTo=JC,E.deburr=zh,E.defaultTo=aE,E.divide=oA,E.endsWith=NS,E.eq=kr,E.escape=PS,E.escapeRegExp=DS,E.every=_C,E.find=fT,E.findIndex=ph,E.findKey=hS,E.findLast=hT,E.findLastIndex=fh,E.findLastKey=mS,E.floor=sA,E.forEach=bh,E.forEachRight=xh,E.forIn=gS,E.forInRight=yS,E.forOwn=vS,E.forOwnRight=bS,E.get=Hc,E.gt=CT,E.gte=ST,E.has=wS,E.hasIn=qc,E.head=mh,E.identity=Nn,E.includes=EC,E.indexOf=L1,E.inRange=FS,E.invoke=NT,E.isArguments=$a,E.isArray=ot,E.isArrayBuffer=ET,E.isArrayLike=Fn,E.isArrayLikeObject=sn,E.isBoolean=KC,E.isBuffer=ua,E.isDate=TT,E.isElement=YC,E.isEmpty=XC,E.isEqual=QC,E.isEqualWith=eS,E.isError=Zc,E.isFinite=tS,E.isFunction=Jr,E.isInteger=Eh,E.isLength=ys,E.isMap=em,E.isMatch=nS,E.isMatchWith=rS,E.isNaN=aS,E.isNative=iS,E.isNil=sS,E.isNull=oS,E.isNumber=Th,E.isObject=Yt,E.isObjectLike=an,E.isPlainObject=to,E.isRegExp=cu,E.isSafeInteger=lS,E.isSet=tm,E.isString=vs,E.isSymbol=Vn,E.isTypedArray=mi,E.isUndefined=cS,E.isWeakMap=uS,E.isWeakSet=dS,E.join=U1,E.kebabCase=UT,E.last=lr,E.lastIndexOf=Z1,E.lowerCase=ZT,E.lowerFirst=HT,E.lt=AT,E.lte=IT,E.max=gE,E.maxBy=yE,E.mean=vE,E.meanBy=bE,E.min=xE,E.minBy=_E,E.stubArray=Kc,E.stubFalse=Yc,E.stubObject=uE,E.stubString=dE,E.stubTrue=pE,E.multiply=lA,E.nth=H1,E.noConflict=sE,E.noop=Jc,E.now=zs,E.pad=LS,E.padEnd=BS,E.padStart=US,E.parseInt=ZS,E.random=$S,E.reduce=AC,E.reduceRight=IC,E.repeat=HS,E.replace=qS,E.result=ES,E.round=cA,E.runInContext=te,E.sample=RC,E.size=MC,E.snakeCase=qT,E.some=FC,E.sortedIndex=J1,E.sortedIndexBy=K1,E.sortedIndexOf=Y1,E.sortedLastIndex=X1,E.sortedLastIndexBy=Q1,E.sortedLastIndexOf=eC,E.startCase=WT,E.startsWith=VS,E.subtract=uA,E.sum=wE,E.sumBy=kE,E.template=GS,E.times=fE,E.toFinite=Kr,E.toInteger=lt,E.toLength=Ih,E.toLower=JS,E.toNumber=cr,E.toSafeInteger=pS,E.toString=It,E.toUpper=KS,E.trim=YS,E.trimEnd=XS,E.trimStart=QS,E.truncate=eE,E.unescape=tE,E.uniqueId=mE,E.upperCase=VT,E.upperFirst=uu,E.each=bh,E.eachRight=xh,E.first=mh,Gc(E,function(){var i={};return Ar(E,function(c,f){Ot.call(E.prototype,f)||(i[f]=c)}),i}(),{chain:!1}),E.VERSION=ee,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){E[i].placeholder=E}),a(["drop","take"],function(i,c){Ue.prototype[i]=function(f){f=f===C?1:mn(lt(f),0);var b=this.__filtered__&&!c?new Ue(this):this.clone();return b.__filtered__?b.__takeCount__=_n(f,b.__takeCount__):b.__views__.push({size:_n(f,rr),type:i+(b.__dir__<0?"Right":"")}),b},Ue.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),a(["filter","map","takeWhile"],function(i,c){var f=c+1,b=f==Zi||f==Vo;Ue.prototype[i]=function(j){var P=this.clone();return P.__iteratees__.push({iteratee:tt(j,3),type:f}),P.__filtered__=P.__filtered__||b,P}}),a(["head","last"],function(i,c){var f="take"+(c?"Right":"");Ue.prototype[i]=function(){return this[f](1).value()[0]}}),a(["initial","tail"],function(i,c){var f="drop"+(c?"":"Right");Ue.prototype[i]=function(){return this.__filtered__?new Ue(this):this[f](1)}}),Ue.prototype.compact=function(){return this.filter(Nn)},Ue.prototype.find=function(i){return this.filter(i).head()},Ue.prototype.findLast=function(i){return this.reverse().find(i)},Ue.prototype.invokeMap=ut(function(i,c){return typeof i=="function"?new Ue(this):this.map(function(f){return Ki(f,i,c)})}),Ue.prototype.reject=function(i){return this.filter(gs(tt(i)))},Ue.prototype.slice=function(i,c){i=lt(i);var f=this;return f.__filtered__&&(i>0||c<0)?new Ue(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),c!==C&&(c=lt(c),f=c<0?f.dropRight(-c):f.take(c-i)),f)},Ue.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ue.prototype.toArray=function(){return this.take(rr)},Ar(Ue.prototype,function(i,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),b=/^(?:head|last)$/.test(c),j=E[b?"take"+(c=="last"?"Right":""):c],P=b||/^find/.test(c);j&&(E.prototype[c]=function(){var H=this.__wrapped__,X=b?[1]:arguments,ae=H instanceof Ue,we=X[0],ve=ae||ot(H),Ee=function(mt){var gt=j.apply(E,h([mt],X));return b&&Pe?gt[0]:gt};ve&&f&&typeof we=="function"&&we.length!=1&&(ae=ve=!1);var Pe=this.__chain__,qe=!!this.__actions__.length,Je=P&&!Pe,st=ae&&!qe;if(!P&&ve){H=st?H:new Ue(this);var Ke=i.apply(H,X);return Ke.__actions__.push({func:fs,args:[Ee],thisArg:C}),new Xe(Ke,Pe)}return Je&&st?i.apply(this,X):(Ke=this.thru(Ee),Je?b?Ke.value()[0]:Ke.value():Ke)})}),a(["pop","push","shift","sort","splice","unshift"],function(i){var c=xs[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",b=/^(?:pop|shift)$/.test(i);E.prototype[i]=function(){var j=arguments;if(b&&!this.__chain__){var P=this.value();return c.apply(ot(P)?P:[],j)}return this[f](function(H){return c.apply(ot(H)?H:[],j)})}}),Ar(Ue.prototype,function(i,c){var f=E[c];if(f){var b=f.name+"";Ot.call(fi,b)||(fi[b]=[]),fi[b].push({name:c,func:f})}}),fi[os(C,it).name]=[{name:"wrapper",func:C}],Ue.prototype.clone=zn,Ue.prototype.reverse=mc,Ue.prototype.value=ok,E.prototype.at=dT,E.prototype.chain=hC,E.prototype.commit=mC,E.prototype.next=gC,E.prototype.plant=vC,E.prototype.reverse=bC,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=xC,E.prototype.first=E.prototype.head,no&&(E.prototype[no]=yC),E},ii=ik();Aa?((Aa.exports=ii)._=ii,fc._=ii):bn._=ii}).call(Yn)})(El,El.exports);var rW=El.exports,sv=rW.runInContext(),kt=hR(sv,sv);const V_=/^[A-Za-z][_0-9A-Za-z]*$/,G_=e=>({name:"attributeNameAlreadyUsed",message:tn.unique.id,test(t){if(!t)return!1;const n=kt.snakeCase(t);return!e.some(r=>kt.snakeCase(r)===n)}}),Dd=e=>({name:"forbiddenAttributeName",message:ne("error.attributeName.reserved-name"),test(t){if(!t)return!1;const n=kt.snakeCase(t);return!e.some(r=>kt.snakeCase(r)===n)}}),je={default:()=>Pt().nullable(),max:()=>fr().integer().nullable(),min:()=>fr().integer().when("max",(e,t)=>e?t.max(e,ne("error.validation.minSupMax")):t).nullable(),maxLength:()=>fr().integer().positive(ne("error.validation.positive")).nullable(),maxLengthString:()=>fr().integer().positive(ne("error.validation.positive")).max(255,"Maximum length for short text fields is 255 characters").nullable(),minLength:()=>fr().integer().min(1).when("maxLength",(e,t)=>e?t.max(e,ne("error.validation.minSupMax")):t).nullable(),name(e,t){return Pt().test(G_(e)).test(Dd(t)).matches(V_,tn.regex.id).required(tn.required.id)},required:()=>To(),type:()=>Pt().required(tn.required.id),unique:()=>To().nullable()},lv=(e,t)=>({name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength(),regex:Pt().test({name:"isValidRegExpPattern",message:ne("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),aW=(e,t)=>({name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLengthString(),minLength:je.minLength(),regex:Pt().test({name:"isValidRegExpPattern",message:ne("error.validation.regex"),test(r){try{return new RegExp(r||"")!==null}catch{return!1}}}).nullable()}),Ku=()=>({name:"isMinSuperiorThanMax",message:ne("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(fu(e))?!0:fu(t)>=fu(e)}}),Vs={date(e,t){const n={name:je.name(e,t),type:je.type()};return Jt(n)},datetime(e,t){const n={name:je.name(e,t),type:je.type()};return Jt(n)},time(e,t){const n={name:je.name(e,t),type:je.type()};return Jt(n)},default(e,t){const n={name:je.name(e,t),type:je.type()};return Jt(n)},biginteger(e,t){const n={name:je.name(e,t),type:je.type(),default:Pt().nullable().matches(/^-?\d*$/),unique:je.unique(),required:je.required(),max:Pt().nullable().matches(/^-?\d*$/,tn.regex.id),min:Pt().nullable().test(Ku()).matches(/^-?\d*$/,tn.regex.id)};return Jt(n)},boolean(e,t){const n={name:je.name(e,t),default:To().nullable(),required:je.required(),unique:je.unique()};return Jt(n)},component(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),max:je.max(),min:je.min(),component:Pt().required(tn.required.id)};return Jt(n)},decimal(e,t){const n={name:je.name(e,t),type:je.type(),default:fr(),required:je.required(),max:fr(),min:fr().test(Ku())};return Jt(n)},dynamiczone(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),max:je.max(),min:je.min()};return Jt(n)},email(e,t){const n={name:je.name(e,t),type:je.type(),default:Pt().email().nullable(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Jt(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:Pt().test(G_(e)).test(Dd(t)).matches(n,tn.regex.id).required(tn.required.id),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),enum:hm().of(Pt()).min(1,tn.min.id).test({name:"areEnumValuesUnique",message:ne("error.validation.enum-duplicate"),test(a){return a?!nW(a.map(Ju).filter((o,l,u)=>u.indexOf(o)!==l)).length:!1}}).test({name:"doesNotHaveEmptyValues",message:ne("error.validation.enum-empty-string"),test:a=>a?!a.map(Ju).some(s=>s===""):!1}).test({name:"doesMatchRegex",message:ne("error.validation.enum-regex"),test:a=>a?a.map(Ju).every(s=>n.test(s)):!1}),enumName:Pt().nullable()};return Jt(r)},float(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),default:fr(),max:fr(),min:fr().test(Ku())};return Jt(n)},integer(e,t){const n={name:je.name(e,t),type:je.type(),default:fr().integer(),unique:je.unique(),required:je.required(),max:je.max(),min:je.min()};return Jt(n)},json(e,t){const n={name:je.name(e,t),type:je.type(),required:je.required(),unique:je.unique()};return Jt(n)},media(e,t){const n={name:je.name(e,t),type:je.type(),multiple:To(),required:je.required(),allowedTypes:hm().of(Pt().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Jt(n)},password(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Jt(n)},relation(e,t,n,{initialData:r,modifiedData:a}){const s={name:je.name(e,t),target:Pt().required(tn.required.id),relation:Pt().required(),type:Pt().required(),targetAttribute:mR(()=>{const o=Jd(a.relation,a.targetAttribute);if(o==="oneWay"||o==="manyWay")return Pt().nullable();const l=Pt().test(Dd(t)),d=[...n.map(({name:p})=>p),a.name].filter(p=>p!==r.targetAttribute);return l.matches(V_,tn.regex.id).test({name:"forbiddenTargetAttributeName",message:ne("error.validation.relation.targetAttribute-taken"),test(p){return p?!d.includes(p):!1}}).required(tn.required.id)})};return Jt(s)},richtext(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Jt(n)},blocks(e,t){const n={name:je.name(e,t),type:je.type(),default:je.default(),unique:je.unique(),required:je.required(),maxLength:je.maxLength(),minLength:je.minLength()};return Jt(n)},string(e,t){const n=aW(e,t);return Jt(n)},text(e,t){const n=lv(e,t);return Jt(n)},uid(e,t){const n=lv(e,t);return Jt(n)}},iW=/^[A-Za-z][-_0-9A-Za-z]*$/,oW=(e,t,n,r,a)=>{const s={displayName:Pt().test({name:"nameAlreadyUsed",message:tn.unique.id,test(o){if(!o)return!1;const l=mo(o,n),u=kt.snakeCase(l),d=kt.snakeCase(a);return e.every(p=>kt.snakeCase(p)!==u)&&r.every(p=>kt.snakeCase(p)!==d)}}).test({name:"nameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return t.every(u=>kt.snakeCase(u)!==l)}}).required(tn.required.id),category:Pt().matches(iW,tn.regex.id).required(tn.required.id),icon:Pt()};return Jt(s)},cv={name:"displayName",type:"text",intlLabel:{id:ne("contentType.displayName.label"),defaultMessage:"Display name"}},Yu={advanced:{default(){return{sections:[{items:[{intlLabel:{id:ne("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:ne("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[cv,{description:{id:ne("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ne("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:ne("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ne("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[cv,{disabled:!0,description:{id:ne("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:ne("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:ne("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:ne("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:ne("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:ne("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:ne("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:ne("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},sW=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:r=[],collectionNames:a=[]})=>{const s={displayName:Pt().test({name:"nameAlreadyUsed",message:tn.unique.id,test(o){if(!o)return!1;const l=Vv(o),u=kt.snakeCase(l);return!e.some(d=>kt.snakeCase(d)===u)}}).test({name:"nameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!t.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),pluralName:Pt().test({name:"pluralNameAlreadyUsed",message:tn.unique.id,test(o){if(!o)return!1;const l=kt.snakeCase(o);return!r.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralNameAlreadyUsedAsSingular",message:ne("error.contentType.pluralName-equals-singularName"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!n.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:ne("error.contentType.pluralName-used"),test(o,l){return o?kt.snakeCase(l.parent.singularName)!==kt.snakeCase(o):!1}}).test({name:"pluralNameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!t.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:ne("error.contentType.pluralName-equals-collectionName"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!a.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),singularName:Pt().test({name:"singularNameAlreadyUsed",message:tn.unique.id,test(o){if(!o)return!1;const l=kt.snakeCase(o);return!n.some(u=>kt.snakeCase(u)===l)}}).test({name:"singularNameAlreadyUsedAsPlural",message:ne("error.contentType.singularName-equals-pluralName"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!r.some(u=>kt.snakeCase(u)===l)}}).test({name:"pluralAndSingularAreUnique",message:ne("error.contentType.singularName-used"),test(o,l){return o?kt.snakeCase(l.parent.pluralName)!==kt.snakeCase(o):!1}}).test({name:"singularNameNotAllowed",message:ne("error.contentTypeName.reserved-name"),test(o){if(!o)return!1;const l=kt.snakeCase(o);return!t.some(u=>kt.snakeCase(u)===l)}}).required(tn.required.id),draftAndPublish:To(),kind:Pt().oneOf(["singleType","collectionType"])};return Jt(s)},Xu={advanced:{default(){return{sections:$i.advanced()}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Pd]},...$i.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Pd]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:ne("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},uv=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items?.push(n);return}t.push(n)})},lW=(e,t)=>`components_${kt.snakeCase(t)}_${ji(kt.snakeCase(e))}`,dv=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),Pa={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:r,schemaData:a,ctbFormsAPI:s}){const o=dv(e,a);let l;return t==="relation"?l=Vs[t](o,r.attributes,[],{initialData:{},modifiedData:{}}):l=Vs[t](o,r.attributes),s.makeCustomFieldValidator(l,n,o,r.attributes,a)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Fr]}];return e.options?.base&&uv(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:r,...a}){const s=[{sectionTitle:null,items:[]},{sectionTitle:{id:"form.attribute.condition.section",defaultMessage:"Conditions"},items:[{name:"conditions",type:"condition-form",intlLabel:{id:"form.attribute.condition.label",defaultMessage:"Visibility condition"},description:{id:"form.attribute.condition.desc",defaultMessage:"Show this field only when a boolean/enum condition matches."}}]}],o=r.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...a});if(e.options?.advanced&&uv(e.options.advanced,s),o){const l={sectionTitle:{id:ne("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:o};s.push(l)}return{sections:s}}}},attribute:{schema(e,t,n,r,a,s){const o=e?.attributes??[],l=dv(o,a);try{const u=Vs[t](l,n.attributes,r,a);return s.makeValidator(["attribute",t],u,l,n.attributes,r,a)}catch(u){return console.error("Error yup build schema",u),Vs.default(l,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:r,...a}){try{const s=ov.advanced[t](e,n).sections,o=r.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...a});let l=!1;return{sections:s.reduce((d,p)=>(p.sectionTitle===null||l?d.push(p):(d.push({...p,items:[...p.items,...o]}),l=!0),d),[])}}catch(s){return console.error(s),{sections:[]}}},base({data:e,type:t,step:n,attributes:r}){try{return ov.base[t](e,n,r)}catch{return Kq}}}},contentType:{schema(e,t,n,r,a,s){const o=Object.values(s).map(y=>y.info.singularName),l=Object.values(s).map(y=>y?.info?.pluralName??""),u=t?e.filter(y=>y!==n):e,d=t?o.filter(y=>{const{info:_}=s[n];return _.singularName!==y}):o,p=t?l.filter(y=>{const{info:_}=s[n];return _.pluralName!==y}):l,h=Object.values(s).map(y=>y?.collectionName??""),g=t?h.filter(y=>{const{collectionName:_}=s[n];return y!==_}):h,v=sW({usedContentTypeNames:u,reservedModels:r.models,singularNames:d,pluralNames:p,collectionNames:g});return a.makeValidator(["contentType"],v,u,r.models,d,p)},form:{base({actionType:e}){return e==="create"?Yu.base.create():Yu.base.edit()},advanced({extensions:e}){const t=Yu.advanced.default().sections.map(r=>r.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,r=!1,a,s,o=null){const l=r?e.filter(h=>h!==o):e,u=Object.values(a).map(h=>h?.collectionName),d=lW(s,t),p=r?u.filter(h=>h!==d):u;return oW(l,n.models,t,p,d)},form:{advanced(){return{sections:$i.advanced()}},base(){return{sections:$i.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Xu.advanced.default()},base({data:e}){return e?.createComponent??!1?Xu.base.createComponent():Xu.base.default()}}}},cW=(e,t)=>{const n=e.kind;return n==="singleType"||n===t.kind?!0:(e?.attributes??[]).filter(s=>{if(s.type!=="relation")return!1;const{relation:o,targetAttribute:l}=s,u=Jd(o,l);return!["oneWay","manyWay"].includes(u||"")}).length===0},uW=(e="",t,n)=>{const r=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],a=e==="contentType";if(a)return[[...r.slice(0,-1),"uid",...r.slice(-1)],["component","dynamiczone"]];if(e){const o=W_(t,n)>=qv;if(!a&&!o)return[r,["component"]]}return[r]},pv=e=>e.reduce((t,n)=>{const r=n.items.reduce((a,s)=>(s.name&&a.push(s.name),a),[]);return[...t,...r]},[]),dW=xt.form`
  overflow: auto;
`,pW=e=>e["content-type-builder_formModal"]||gR,fW=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:r,actionType:a,attributeName:s,attributeType:o,customFieldUid:l,dynamicZoneTarget:u,forTarget:d,modalType:p,isOpen:h,kind:g,step:v,targetUid:y,showBackLink:_,activeTab:x,setActiveTab:k}=Ui(),T=Eo("FormModal",Ye=>Ye.getPlugin),I=Eo("FormModal",Ye=>Ye.customFields.get)(l),$=Rl(),{toggleNotification:O}=Ni(),U=Iv(pW,yR),B=vR(),{trackUsage:G}=Pi(),{formatMessage:Y}=yt(),le=T(ga)?.apis.forms,R=le.components.inputs,J=Ga("FormModal",Ye=>Ye.dispatch),{addAttribute:w,editAttribute:L,addCustomFieldAttribute:Se,addCreatedComponentToDynamicZone:ce,changeDynamicZoneComponents:pe,contentTypes:N,components:Ae,createSchema:oe,createComponentSchema:z,deleteComponent:Me,deleteContentType:de,editCustomFieldAttribute:ue,updateSchema:nt,nestedComponents:He,sortedContentTypesList:he,updateComponentSchema:Fe,updateComponentUid:be,reservedNames:Oe}=nr(),{componentToCreate:Qe,formErrors:et,initialData:S,isCreatingComponentWhileAddingAField:fe,modifiedData:V}=U,D=d==="component"?Ae[y]:N[y],[C,ee]=W.useState(!1),[_e,ke]=W.useState(null),re=()=>{if(a!=="edit"||p!=="attribute")return!1;const Ye=S.name,Ct=S.enum,rn=V.enum,Vt=(D?.attributes||[]).filter(Gt=>{if(!Gt.conditions)return!1;const vn=Gt.conditions.visible;if(!vn)return!1;const[[,ti]]=Object.entries(vn),[ni,Go]=ti;return ni.var!==Ye?!1:Ct&&rn?Ct.filter(Ta=>!rn.includes(Ta)).includes(Go):!0});return Vt.length>0?Vt:!1};W.useEffect(()=>{if(h){const Ye=he.filter($_);a==="edit"&&p==="attribute"&&d==="contentType"&&G("willEditFieldOfContentType");const Ct=zd(Qt(D,"schema.attributes",[]),u)||null;if(p==="contentType"&&a==="create"&&$(ln.setDataToEdit({data:{draftAndPublish:!0}})),p==="contentType"&&a==="edit"&&$(ln.setDataToEdit({data:{displayName:D.info.displayName,draftAndPublish:D.options?.draftAndPublish,kind:"kind"in D&&D.kind,pluginOptions:D.pluginOptions,pluralName:"pluralName"in D.info&&D.info.pluralName,singularName:"singularName"in D.info&&D.info.singularName}})),p==="component"&&a==="edit"&&$(ln.setDataToEdit({data:{displayName:D.info.displayName,category:"category"in D&&D.category,icon:D.info.icon}})),p==="addComponentToDynamicZone"&&a==="edit"){const rn={...Ct,components:[],name:u,createComponent:!1,componentToCreate:{type:"component"}};$(ln.setDynamicZoneDataSchema({attributeToEdit:rn}))}if(o){const ht={...zd(Qt(D,["attributes"],[]),s),name:s};o==="component"&&a==="edit"&&(!("repeatable"in ht)||!ht.repeatable)&&bR(ht,"repeatable",!1),$(p==="customField"?a==="edit"?ln.setCustomFieldDataSchema({isEditing:!0,modifiedDataToSetForEditing:ht,uid:D.uid}):ln.setCustomFieldDataSchema({customField:xR(I,["type","options"]),isEditing:!1,modifiedDataToSetForEditing:ht,uid:D.uid}):ln.setAttributeDataSchema({attributeType:o,nameToSetForRelation:Qt(Ye,["0","title"],"error"),targetUid:Qt(Ye,["0","uid"],"error"),isEditing:a==="edit",modifiedDataToSetForEditing:ht,step:v,uid:D.uid}))}}else $(ln.resetProps())},[a,s,o,u,d,h,p]);const ie=p==="contentType",ye=p==="component",Z=p==="attribute",K=p==="customField",xe=o==="component"&&Z,Re=a==="create",Ze=Qt(V,"createComponent",!1)||fe,pt=v==="1",At=p==="chooseAttribute",_t=Vv(V.singularName||""),it=Qt(D,["attributes"],null),fn=async()=>{let Ye;const Ct=Ze&&v==="1"?Qt(V,"componentToCreate",{}):V;if(ie)Ye=Pa.contentType.schema(Object.keys(N),a==="edit",D?.uid??null,Oe,le,N);else if(ye)Ye=Pa.component.schema(Object.keys(Ae),V.category||"",Oe,a==="edit",Ae,V.displayName||"",D?.uid??null);else if(K)Ye=Pa.customField.schema({schemaAttributes:Qt(D,["attributes"],[]),attributeType:I.type,reservedNames:Oe,schemaData:{modifiedData:V,initialData:S},ctbFormsAPI:le,customFieldValidator:I.options?.validator});else if(xe&&Ze&&pt)Ye=Pa.component.schema(Object.keys(Ae),Qt(V,"componentToCreate.category",""),Oe,a==="edit",Ae,V.componentToCreate.displayName||"");else if(Z&&!pt){const rn=o==="relation"?"relation":V.type;let ht=[];if(rn==="relation"){const Vt=Qt(V,["target"],null);ht=Qt(N,[Vt,"attributes"],[]).filter(({name:vn})=>a!=="edit"?!0:vn!==S.targetAttribute)}Ye=Pa.attribute.schema(D,rn,Oe,ht,{modifiedData:V,initialData:S},le)}else if(pt&&Ze)Ye=Pa.component.schema(Object.keys(Ae),Qt(V,"componentToCreate.category",""),Oe,a==="edit",Ae,V.componentToCreate.displayName||"");else return;await Ye.validate(Ct,{abortEarly:!1})},wt=W.useCallback(({target:{name:Ye,value:Ct,type:rn,...ht}})=>{const Vt=["enumName","max","min","maxLength","minLength","regex","default"];let Gt;Vt.includes(Ye)&&Ct===""?Gt=null:Ye==="enum"?Gt=Array.isArray(Ct)?Ct:[Ct]:Gt=Ct;const vn=Object.assign({},et);Ye==="max"&&delete vn.min,Ye==="maxLength"&&delete vn.minLength,delete vn[Ye],$(ln.setErrors({errors:vn})),$(ln.onChange({keys:Ye.split("."),value:Gt}))},[$,et]),Rt=async(Ye,Ct=Re)=>{try{await fn(),$(ln.setErrors({errors:{}})),na(Ct);const rn=y;if(ie)if(Re)oe({data:{kind:g,displayName:V.displayName,draftAndPublish:V.draftAndPublish,pluginOptions:V.pluginOptions,singularName:V.singularName,pluralName:V.pluralName},uid:_t}),B({pathname:`/plugins/${ga}/content-types/${_t}`}),e();else{const ht=D;cW(ht,V)?(e(),await nt({uid:ht.uid,data:{displayName:V.displayName,kind:V.kind,draftAndPublish:V.draftAndPublish,pluginOptions:V.pluginOptions}})):O({type:"danger",message:Y({id:"notification.contentType.relations.conflict"})});return}else if(p==="component")if(Re){const ht=mo(V.displayName,V.category),{category:Vt,...Gt}=V;z({data:{displayName:Gt.displayName,icon:Gt.icon},uid:ht,componentCategory:Vt}),B({pathname:`/plugins/${ga}/component-categories/${Vt}/${ht}`}),e();return}else{if(Fe({data:{icon:V.icon,displayName:V.displayName},componentUID:y}),D.status==="NEW"){const ht=mo(V.displayName,V.category);be({componentUID:y,newComponentUID:ht}),B({pathname:`/plugins/${ga}/component-categories/${V.category}/${ht}`})}e();return}else if(K){const ht={attributeToSet:{...V,customField:l},forTarget:d,targetUid:y,name:S.name};a==="edit"?ue(ht):Se(ht),Ct?t({forTarget:d,targetUid:rn}):e();return}else if(Z&&!Ze){if(o==="dynamiczone"){a==="create"?w({attributeToSet:V,forTarget:d,targetUid:y}):L({attributeToSet:V,forTarget:d,targetUid:y,name:S.name}),Re?($(ln.resetPropsAndSetTheFormForAddingACompoToADz()),k("basic"),n({dynamicZoneTarget:V.name})):e();return}if(!xe){a==="create"?w({attributeToSet:V,forTarget:d,targetUid:y}):L({attributeToSet:V,forTarget:d,targetUid:y,name:S.name}),Ct?t({forTarget:d,targetUid:rn}):e();return}if(pt){r(),$(ln.resetPropsAndSetFormForAddingAnExistingCompo({uid:D.uid}));return}if(a==="create")w({attributeToSet:V,forTarget:d,targetUid:y});else{const Vt={...V};(!("conditions"in V)||V.conditions===void 0)&&(Vt.conditions=void 0),L({attributeToSet:Vt,forTarget:d,targetUid:y,name:S.name})}Ct?t({forTarget:d,targetUid:y}):e()}else if(Z&&Ze){if(pt){G("willCreateComponentFromAttributesModal"),$(ln.resetPropsAndSaveCurrentData({uid:D.uid})),r();return}const{category:ht,...Vt}=Qe,Gt=mo(Qe.displayName,ht);z({data:{icon:Vt.icon,displayName:Vt.displayName},uid:Gt,componentCategory:ht}),w({attributeToSet:V,forTarget:d,targetUid:y}),$(ln.resetProps()),Ct?t({forTarget:"component",targetUid:Gt}):e();return}else{if(pt)if(Ze){const{category:ht,type:Vt,...Gt}=V.componentToCreate,vn=mo(V.componentToCreate.displayName,ht);z({data:Gt,uid:vn,componentCategory:ht}),ce({forTarget:d,targetUid:y,dynamicZoneTarget:u,componentsToAdd:[vn]}),t({forTarget:"component",targetUid:vn})}else pe({forTarget:d,targetUid:y,dynamicZoneTarget:u,newComponents:V.components}),e();else console.error("This case is not handled");return}$(ln.resetProps())}catch(rn){if(_R.isError(rn)){const ht=tH(rn);$(ln.setErrors({errors:ht}))}}},ft=async(Ye,Ct=Re)=>{if(Ye.preventDefault(),re()){ke({e:Ye,shouldContinue:Ct}),ee(!0);return}await Rt(Ye,Ct)},xr=()=>{window.confirm(Y({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),$(ln.resetProps()))},On=()=>{So(V,S)?(e(),$(ln.resetProps())):xr()},Lr=Ye=>{if(Ye==="advanced"){if(ie){G("didSelectContentTypeSettings");return}d==="contentType"&&G("didSelectContentTypeFieldSettings")}},na=Ye=>{p==="attribute"&&d==="contentType"&&o!=="dynamiczone"&&Ye&&G("willAddMoreFieldToContentType")},Br=()=>!!(p==="component"||wR(V,"createComponent")),ra=uW(d,y,He);if(!p)return null;const qo=Qt(Pa,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Vl=d==="component",Zi={customInputs:{"allowed-types-select":rH,"boolean-radio-group":yH,"checkbox-with-number-field":vH,"icon-picker":TH,"content-type-radio-group":bH,"radio-group":Dp,relation:Fq,"select-category":$q,"select-component":Nq,"select-components":Pq,"select-default-boolean":mH,"select-number":Lq,"select-date":Dq,"toggle-draft-publish":xH,"text-plural":AH,"text-singular":Bq,"textarea-enum":Hq,"condition-form":Jq,...R},componentToCreate:Qe,dynamicZoneTarget:u,formErrors:et,isAddingAComponentToAnotherComponent:Vl,isCreatingComponentWhileAddingAField:fe,mainBoxHeader:Qt(D,["info","displayName"],""),modifiedData:V,naturePickerType:d,isCreating:Re,targetUid:y,forTarget:d,contentTypeSchema:D},Wo=qo.advanced({data:V,type:o,step:v,actionType:a,attributes:it,extensions:le,forTarget:d,contentTypeSchema:D||{},customField:I}).sections,Vo=qo.base({data:V,type:o,step:v,actionType:a,attributes:it,extensions:le,forTarget:d,contentTypeSchema:D||{},customField:I}).sections,Qa=pv(Vo),aa=pv(Wo),Gl=Object.keys(et).some(Ye=>Qa.includes(Ye)),ei=Object.keys(et).some(Ye=>aa.includes(Ye)),rr=Qt(N,[y,"kind"]),Jl=()=>a==="edit"&&it.every(({name:Ye})=>Ye!==V?.name),Kl=()=>{Jl()&&G("didEditFieldNameOnContentType"),J({type:"set_completed_actions",payload:[nl.contentTypeBuilder.addField]})};return m.jsx(gn.Root,{open:h,onOpenChange:On,children:m.jsxs(gn.Content,{children:[m.jsxs(Ja.Root,{open:C,onOpenChange:ee,children:[m.jsx(Ja.Trigger,{}),m.jsx(No,{onConfirm:()=>{if(_e){const{e:Ye,shouldContinue:Ct}=_e;ee(!1),ke(null),Rt(Ye,Ct)}},onCancel:()=>{ee(!1),ke(null)},children:(()=>{const Ye=re();if(!Ye)return null;const Ct=Ye.map(ht=>ht.name).join(", ");if(S.enum&&V.enum){const ht=S.enum,Vt=V.enum,Gt=ht.filter(vn=>!Vt.includes(vn));return m.jsx(Ne,{children:m.jsxs($e,{children:[Y({id:"form.attribute.condition.enum-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),m.jsx($e,{fontWeight:"bold",children:Ct}),Y({id:"form.attribute.condition.enum-change-warning-values",defaultMessage:". Changing or removing the enum values "}),m.jsx($e,{fontWeight:"bold",children:Gt.join(", ")}),Y({id:"form.attribute.condition.enum-change-warning-end",defaultMessage:" will break these conditions. Do you want to proceed?"})]})})}return m.jsx(Ne,{children:m.jsxs($e,{children:[Y({id:"form.attribute.condition.field-change-warning",defaultMessage:"The following fields have conditions that depend on this field: "}),m.jsx($e,{fontWeight:"bold",children:Ct}),Y({id:"form.attribute.condition.field-change-warning-end",defaultMessage:". Renaming it will break these conditions. Do you want to proceed?"})]})})})()})]}),m.jsx(wH,{actionType:a,attributeName:s,contentTypeKind:g,dynamicZoneTarget:u,modalType:p,forTarget:d,targetUid:y,attributeType:o,customFieldUid:l,showBackLink:_}),At&&m.jsx(hH,{attributes:ra,forTarget:d,kind:rr||"collectionType"}),!At&&m.jsxs(dW,{onSubmit:ft,children:[m.jsx(gn.Body,{children:m.jsxs(hr.Root,{variant:"simple",value:x,onValueChange:Ye=>{k(Ye),Lr(Ye)},hasError:Gl?"basic":ei?"advanced":void 0,children:[m.jsxs(Te,{justifyContent:"space-between",children:[m.jsx(CH,{actionType:a,forTarget:d,kind:g,step:v,modalType:p,attributeType:o,attributeName:s,customField:I}),m.jsxs(hr.List,{children:[m.jsx(hr.Trigger,{value:"basic",children:Y({id:ne("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),m.jsx(hr.Trigger,{value:"advanced",disabled:Br(),children:Y({id:ne("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),m.jsx(jl,{marginBottom:6}),m.jsx(hr.Content,{value:"basic",children:m.jsx(Te,{direction:"column",alignItems:"stretch",gap:6,children:m.jsx(iv,{form:Vo,formErrors:et,genericInputProps:Zi,modifiedData:V,onChange:wt})})}),m.jsx(hr.Content,{value:"advanced",children:m.jsx(Te,{direction:"column",alignItems:"stretch",gap:6,children:m.jsx(iv,{form:Wo,formErrors:et,genericInputProps:Zi,modifiedData:V,onChange:wt})})})]})}),m.jsxs(gn.Footer,{children:[m.jsx(vt,{type:"button",variant:"tertiary",onClick:Ye=>{Ye.preventDefault(),On()},children:Y({id:"app.components.Button.cancel",defaultMessage:"Cancel"})}),m.jsx(_H,{deleteContentType:()=>de(y),deleteComponent:()=>Me(y),isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:o==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:a==="create",isCreatingDz:a==="create",isCreatingComponentAttribute:V.createComponent||!1,isCreatingComponentInDz:V.createComponent||!1,isCreatingComponentWhileAddingAField:fe,isCreatingContentType:a==="create",isEditingAttribute:a==="edit",isDzAttribute:o==="dynamiczone",isInFirstComponentStep:v==="1",onSubmitAddComponentAttribute:ft,onSubmitAddComponentToDz:ft,onSubmitCreateComponent:ft,onSubmitCreateContentType:ft,onSubmitCreateDz:ft,onSubmitEditAttribute:ft,onSubmitEditComponent:ft,onSubmitEditContentType:ft,onSubmitEditCustomFieldAttribute:ft,onSubmitEditDz:ft,onClickFinish:Kl})]})]})]})})},fv={actionType:null,attributeName:null,attributeType:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!0,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null,activeTab:"basic"},hW=({children:e})=>{const[t,n]=W.useState(fv),{trackUsage:r}=hv(),{sessionId:a}=Kd(),s=W.useCallback((I,$)=>{const O={...$,ctbSessionId:a};return r(I,O)},[r,a]),o=W.useCallback(({attributeType:I,customFieldUid:$})=>{n(O=>({...O,actionType:"create",modalType:"customField",attributeType:I,customFieldUid:$,activeTab:"basic"}))},[]),l=W.useCallback(({attributeType:I,step:$})=>{t.forTarget==="contentType"&&s("didSelectContentTypeFieldType",{type:I}),n(O=>({...O,actionType:"create",modalType:"attribute",step:$,attributeType:I,showBackLink:!0,activeTab:"basic"}))},[t.forTarget,s]),u=W.useCallback(({dynamicZoneTarget:I,targetUid:$})=>{n(O=>({...O,dynamicZoneTarget:I,targetUid:$,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},[]),d=W.useCallback(({forTarget:I,targetUid:$})=>{n(O=>({...O,actionType:"create",forTarget:I,targetUid:$,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1,activeTab:"basic"}))},[]),p=W.useCallback(I=>{n($=>({...$,...I,isOpen:!0,activeTab:"basic"}))},[]),h=W.useCallback(({forTarget:I,targetUid:$,attributeName:O,attributeType:U,customFieldUid:B})=>{n(G=>({...G,modalType:"customField",customFieldUid:B,actionType:"edit",forTarget:I,targetUid:$,attributeName:O,attributeType:U,isOpen:!0,activeTab:"basic"}))},[]),g=W.useCallback(({forTarget:I,targetUid:$,attributeName:O,attributeType:U,step:B})=>{n(G=>({...G,modalType:"attribute",actionType:"edit",forTarget:I,targetUid:$,attributeName:O,attributeType:U,step:B,isOpen:!0}))},[]),v=W.useCallback(({modalType:I,forTarget:$,targetUid:O,kind:U})=>{n(B=>({...B,modalType:I,actionType:"edit",forTarget:$,targetUid:O,kind:U,isOpen:!0,activeTab:"basic"}))},[]),y=W.useCallback(()=>{n(fv)},[]),_=W.useCallback(({forTarget:I,targetUid:$})=>{n(O=>({...O,forTarget:I,targetUid:$,modalType:"chooseAttribute",activeTab:"basic"}))},[]),x=W.useCallback(()=>{n(I=>({...I,attributeType:"component",modalType:"attribute",step:"2",activeTab:"basic"}))},[]),k=W.useCallback(({dynamicZoneTarget:I})=>{n($=>({...$,dynamicZoneTarget:I,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null,activeTab:"basic"}))},[]),T=W.useCallback(I=>{n($=>({...$,activeTab:I}))},[]),A=W.useMemo(()=>({...t,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:y,onNavigateToChooseAttributeModal:_,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:x,onOpenModalAddField:d,onOpenModalCreateSchema:p,onOpenModalEditField:g,onOpenModalEditCustomField:h,onOpenModalEditSchema:v,setFormModalNavigationState:n,setActiveTab:T}),[t,l,o,y,_,k,u,x,d,p,g,h,v,T]);return m.jsx(F_.Provider,{value:A,children:e})},mW=xt(Te)`
  @container (max-width: 200px) {
    .hide-on-small {
      display: none;
    }
  }
  container-type: inline-size;
`,gW=()=>{const{formatMessage:e}=yt(),t=e({id:ne("table.content.create-first-content-type.title"),defaultMessage:"No content types"}),{isChatEnabled:n,openChat:r}=br(),{openCodeUpload:a}=$p(),{openFigmaUpload:s}=Pp();return m.jsxs(mW,{justifyContent:"center",height:"100%",width:"400px",maxWidth:"90%",margin:"auto",direction:"column",gap:6,children:[m.jsx(Rv,{width:"160px",height:"88px"}),m.jsx(qd.contentTypeBuilder.Introduction,{children:m.jsx(Ne,{})}),m.jsxs(Te,{gap:2,alignItems:"center",direction:"column",children:[m.jsx($e,{variant:"beta",textAlign:"center",children:t}),m.jsx($e,{variant:"omega",textAlign:"center",textColor:"neutral600",children:e({id:ne("table.content.create-first-content-type.description"),defaultMessage:"Create collection types, single types and components in order to build your schema."})})]}),n&&m.jsxs(Te,{gap:2,direction:"column",className:"hide-on-small",children:[m.jsx(vt,{startIcon:m.jsx(hb,{}),variant:"tertiary",onClick:()=>s(!0),children:e({id:ne("table.content.create-first-content-type.import-figma"),defaultMessage:"Import from Figma"})}),m.jsx(vt,{startIcon:m.jsx(Wd,{}),variant:"tertiary",onClick:()=>a(!0),children:e({id:ne("table.content.create-first-content-type.import-code"),defaultMessage:"Import from computer"})}),m.jsx(vt,{startIcon:m.jsx(Il,{}),variant:"tertiary",onClick:r,children:e({id:ne("table.content.create-first-content-type.start-with-prompt"),defaultMessage:"Start with a prompt"})})]})]})},Qu=W.lazy(()=>TR(()=>import("./ListView-BrKNrAHb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),yW=()=>{const{formatMessage:e}=yt(),t=e({id:`${ga}.plugin.name`,defaultMessage:"Content Types Builder"}),n=ta("DataManagerProvider",o=>o.autoReload),r=bv(),a=Ga("ContentTypeBuilderApp",o=>o.state),s=Ga("ContentTypeBuilderApp",o=>o.dispatch);return W.useEffect(()=>{A3()},[]),W.useEffect(()=>{const o=r?"ContentTypeBuilderAI":"ContentTypeBuilderNoAI";a.tours.contentTypeBuilder.tourType!==o&&s({type:"set_tour_type",payload:{tourName:"contentTypeBuilder",tourType:o}})},[r,a.tours.contentTypeBuilder.tourType,s]),m.jsxs(hu.Protect,{permissions:kR.main,children:[m.jsx(hu.Title,{children:t}),m.jsx(CR,{children:m.jsx(N8,{children:m.jsx(hW,{children:m.jsxs(X8,{children:[m.jsx(Q8,{}),m.jsx(K9,{children:m.jsxs(m.Fragment,{children:[n&&m.jsx(fW,{}),m.jsx(SR.Root,{sideNav:m.jsx($8,{}),children:m.jsx(W.Suspense,{fallback:m.jsx(hu.Loading,{}),children:m.jsxs(ER,{children:[m.jsx(Ps,{path:"content-types/create-content-type",element:m.jsx(gW,{})}),m.jsx(Ps,{path:"content-types/:contentTypeUid",element:m.jsx(Qu,{})}),m.jsx(Ps,{path:"component-categories/:categoryUid/:componentUid",element:m.jsx(Qu,{})}),m.jsx(Ps,{path:"*",element:m.jsx(Qu,{})})]})})}),m.jsx(O8,{})]})})]})})})})]})},RW=Object.freeze(Object.defineProperty({__proto__:null,default:yW},Symbol.toStringTag,{value:"Module"}));export{$o as A,P_ as C,IW as S,Ui as a,Pi as b,jW as c,ne as g,RW as i,nr as u};
